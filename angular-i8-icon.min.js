!function(t,n){"use strict";function e(t,n){var r,o,i,c;if(i=e.providers=e.providers||{},c=e.instaces=e.instaces||{},!n){if(!i[t])throw r=new Error('Cannot found service provider "'+t+'"'),console.error(r),r;if(!c.hasOwnProperty(t))try{c[t]=new i[t](e)}catch(r){throw console.error(r),r}return c[t]}if(c.hasOwnProperty(t))throw r=new Error('Cannot override instantiated service "'+t+'"'),console.error(r),r;if(!(n instanceof Function))throw r=new Error('Incorrect provider function "'+t+'"'),console.error(r),r;i.hasOwnProperty(t)?(o=i[t],i[t]=function(t){return new n(t,new o(t))}):i[t]=n}function r(t){var n;n=r.functions=r.functions||[],t?n.push(t):n.forEach(function(t){t(e)})}function o(t){return{restrict:"EA",scope:!0,link:function(n,r,o){var i,c=e("initIconElement"),s=o.$normalize(o.$attr.alt||""),a=o.$normalize(o.$attr.icon||o.$attr.i8Icon||""),u=null;i=s?o[s]:null,c(r,i,o[a]),a&&o.$observe(a,function(n){u&&u(),u=null,n&&t(n).then(function(t){u=t.render(r)})})}}}function i(){var t=!1;this.preload=function(){return t=!0,this},this.$get=["$injector",function(n){var r,o=e("iconManager"),i=e("ensureDependenciesRegistered");return i(n),r=function(t){return o.getIcon(t)},r.preload=function(){o.preload()},r.$checkLazyPreload=function(){t&&this.preload()},r}]}e("ScopeCollection",function(t){function n(){this.collection=[]}return n.prototype={add:function(n){var e=t("SvgCumulativeIconSetScope"),r=t("FontIconSetScope");n instanceof e||n instanceof r?this.collection.push(n):this.collection.unshift(n)},preload:function(){var n=t("Promise");return n.all(this.collection.map(function(t){return n.resolve(t.preload()).then(null,function(){return!1})})).then(function(){return!0},function(){return!1})},getIconScope:function(n,e){var r,o=t("Promise"),i=(t("SvgCumulativeIconSetScope"),this.collection);return r=o.all(i.map(function(t){return o.resolve(t.hasIcon(n,e)).then(function(n){return n?t:!1},function(){return!1})})),r.then(function(t){var n;for(n=0;n<t.length;n++)if(t[n])return t[n];return o.reject()})},getIcon:function(t,n){return this.getIconScope(t,n).then(function(e){return e.getIcon(t,n)})}},n}),e("SvgIconSet",function(t){function n(n,e){var r,o,i,c,s,a,u,l=t("log"),f=t("parseSvgOptions"),h=t("SvgIcon"),p=t("nodeWrapper");a="function"==typeof e.iconIdResolver?e.iconIdResolver:function(t){return t},u=f(e),this.icons={},s=u.viewBox||n[0].getAttribute("viewBox"),c=u.iconSize;try{for(o=n[0].querySelectorAll("[id]"),r=0;r<o.length;r++)i=o[r],this.icons[a(i.getAttribute("id"))]=new h(p(i),{iconSize:c,viewBox:s})}catch(d){l.warn(d)}this.iconSize=c,this.viewBox=s,this.iconIdResolver=a}return n.loadByUrl=function(e,r){var o=t("loadSvgByUrl");return o(e).then(function(t){return new n(t,r)})},n.prototype={notExists:function(t){var n=this.icons;return t.filter(function(t){return!n.hasOwnProperty(t)})},exists:function(t){return this.icons.hasOwnProperty(t)},getIconById:function(t){return this.icons.hasOwnProperty(t)?this.icons[t]:null},merge:function(t){var n=this,e=t.icons;return Object.keys(e).forEach(function(t){n.icons[t]=e[t]}),this},mergeByUrl:function(t,e){var r=this;return n.loadByUrl(t,e).then(function(t){return r.merge(t)})}},n}),e("iconManager",function(t){function n(){this._collections={},this._defaultCollectionId=null,this._defaultSvgIconSize=i}function e(n,e){var r=t("log"),o=t("Promise"),i='icon "'+n+'" not found';return e&&(i+=' in "'+e+'" icon set'),r.warn(i),o.reject(i)}function r(t,n){return function(){return e(t,n)}}var o=/[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/i,i=24,c="__SINGLE_ICONS_COLLECTION";return n.prototype={addIcon:function(t,n,e){function r(t){return t.split("?")[0].split(/[/\\]/).slice(-1)[0].split(".").slice(-1)[0].toLowerCase()}var o,i=n;return"object"==typeof n&&(i=n.url),o=r("function"==typeof i?i():i+""),"svg"!=o&&o?this.addImageIcon(t,n):this.addSvgIcon(t,n,e)},addSvgIcon:function(n,e,r){var o=t("SvgIconScope");return this._getSingleIconsCollection().add(new o(n,e,r)),this},addImageIcon:function(n,e,r){var o=t("ImageIconScope");return this._getSingleIconsCollection().add(new o(n,e,r)),this},addSvgIconSet:function(n,e,r){var o,i=t("SvgCumulativeIconSetScope"),c=t("SvgIconSetScope");return r=r||{},o=r.cumulative?i:c,this._getCollection(n).add(new o(n,e,r)),this},addFontIconSet:function(n,e,r){var o=t("FontIconSetScope");return this._getCollection(n).add(new o(n,e,r)),this},addSpriteIconSet:function(n,e,r){var o=t("SpriteIconSetScope");return this._getCollection(n).add(new o(n,e,r)),this},addIconSetAlias:function(t,n){return this._collections.hasOwnProperty(n)||(this._collections[n]=this._getCollection(t)),this},setDefaultIconSet:function(t){return this._defaultCollectionId=t,this},setDefaultSvgIconSize:function(t){return this._defaultSvgIconSize=t,this},getDefaultSvgIconSize:function(){return this._defaultSvgIconSize},preload:function(){var t=this._collections;Object.keys(t).forEach(function(n){t[n].preload()})},getIcon:function(t,n){var i,c,s,a;if(t=t||"",n=n||[],i=t.split(/\s+/).filter(function(t){return t}),t=i[0],Array.prototype.push.apply(n,i.slice(1)),o.test(t))return this.hasSingleIcon(t)||this.addIcon(t,t),this._getSingleIconsCollection().getIcon(t,n).then(null,r(t));if(s=t,a=null,c=t.indexOf(":"),-1!=c&&(a=t.slice(0,c),s=t.slice(c+1)),a){if(this.hasIconSet(a))return this._getCollection(a).getIcon(s,n).then(null,r(s,a))}else{if(this.hasSingleIcon(s,n))return this._getSingleIconsCollection().getIcon(s,n).then(null,r(s));if(this.hasDefaultIconSet())return this._getCollection(this._defaultCollectionId).getIcon(s,n).then(null,r(s,this._defaultCollectionId))}return e(t)},hasSingleIcon:function(t,n){return this._getSingleIconsCollection().collection.filter(function(e){return e.hasIcon(t,n)}).length>0},hasIconSet:function(t){return this._collections.hasOwnProperty(t)},hasDefaultIconSet:function(){return this._defaultCollectionId&&this.hasIconSet(this._defaultCollectionId)},_getCollection:function(n){var e=t("ScopeCollection");return this._collections.hasOwnProperty(n)||(this._collections[n]=new e),this._collections[n]},_getSingleIconsCollection:function(){return this._getCollection(c)}},new n}),e("inherit",function(){return function(t,n,e,r){return t.prototype=Object.create(n.prototype,r||{}),Object.keys(e||{}).forEach(function(n){t.prototype[n]=e[n]}),t}}),e("initIconElement",function(){function n(n,e){function r(e,r){function o(n,e){function r(n){var e=n.currentStyle?n.currentStyle:t.getComputedStyle(n);return"none"===e.display}var o,i,c,s=n.hasChildNodes();if(s)for(o=n.childNodes,i=0;i<o.length;i++)if(c=o[i],1===c.nodeType&&c.hasAttribute(e)&&!r(c))return!0;return!1}var i=n[0];i.hasAttribute(e)||o(i,e)||(r="string"==typeof r?r.trim():"",r.length&&n.attr(e,r))}function o(){var t=n.parent();return t.attr("aria-label")||t.text().trim()?!0:"BODY"!=t.prop("tagName")&&(t.parent().attr("aria-label")||t.parent().text().trim())?!0:!1}""==e||o()?r("aria-hidden","true"):(r("aria-label",e),r("role","img"))}return function(t,e,r){var o,i="i8-icon";e||"string"==typeof e||(r=String(r||"").split(":").slice(-1)[0].trim(),/[/\\.]/.test(r)?(o=r.split(/[/\\]/).slice(-1)[0].split("."),o.length>1&&(o=o.slice(0,-1)),e=o.join(".")):e=r.split(/\s/)[0]),n(t,e||""),t.hasClass(i)||t.addClass(i)}}),e("loadSvgByUrl",function(t){return function(n){var e=t("httpGet"),r=t("log"),o=t("Promise"),i=t("nodeWrapper"),c=n,s=null;return"object"==typeof n&&(c=n.url,s=n.params),e(c,s).then(function(t){var n=i("<div>").append(t.data),e=n.find("svg");return e.length>0?e:n.children().first()},function(t){var n="string"==typeof t?t:String(t.message||t.data||t.responseText||t.statusText);return r.warn(n),o.reject(n)})}}),e("parseSvgOptions",function(){return function(t){if(t)switch(typeof t){case"number":t={iconSize:t};break;case"string":t={viewBox:t}}else t={};return{iconSize:t.iconSize,viewBox:t.viewBox}}}),e("publicApi",function(t){var n,e=t("iconManager");return n={icon:function(t,n,r){return e.addIcon(t,n,r),this},svgSet:function(t,n,r){return e.addSvgIconSet(t,n,r),this},font:function(t,n,r){return e.addFontIconSet(t,n,r),this},sprite:function(t,n,r){return e.addSpriteIconSet(t,n,r),this},sourceAlias:function(t,n){return e.addIconSetAlias(t,n),this},defaultSvgSetUrl:function(t,n){return e.addSvgIconSet(t,t,n).setDefaultIconSet(t),this},defaultSource:function(t){return e.setDefaultIconSet(t),this},defaultSvgIconSize:function(t){return e.setDefaultSvgIconSize(t),this},preload:function(){return e.preload(),this}},n.iconSet=n.svgSet,n.defaultIconSetUrl=n.defaultSvgSetUrl,n.defaultSvgIconSetUrl=n.defaultSvgSetUrl,n.alias=n.sourceAlias,n["default"]=n.defaultSource,n}),r(function(n){var e=n("nodeWrapper");e(t.document).find("head").prepend('<style type="text/css">@charset "UTF-8";i8-icon,i8icon,[i8-icon],[i8icon],[data-i8-icon],[data-i8icon],.i8icon,.i8-icon{display:inline-block}.i8-svg-icon svg{fill:currentColor}</style>')}),e("AbstractCssClassIcon",function(){function t(t,e){n.call(this,t),this.className=e}var n=e("AbstractIcon"),r=e("inherit");return r(t,n,{render:function(t){function e(){return t.attr("class").split(/\s+/)}function r(t){var n=e();return t=t||[],n.filter(function(n){return-1==t.indexOf(n)})}var o,i,c;return c=n.prototype.render.call(this,t),o=e(),t.addClass(this.className),i=r(o).join(" "),function(){t.removeClass(i),c&&c()}}})}),e("AbstractElementIcon",function(){function t(t,e){n.call(this,t),this.element=e}var n=e("AbstractIcon"),r=e("inherit");return r(t,n,{cloneNode:function(){return this.element[0].cloneNode(!0)},render:function(t){var e;return e=n.prototype.render.call(this,t),t.append(this.cloneNode()),function(){for(;t.firstChild;)t.removeChild(t.firstChild);e&&e()}}})}),e("AbstractIcon",function(){function t(t){this.iconClassName=t}return t.prototype={render:function(t){var n=this.iconClassName;return t.addClass(n),function(){t.removeClass(n)}}},t}),e("FontIcon",function(){function t(t){var e="i8-font-icon";n.call(this,e,t)}var n=e("AbstractCssClassIcon"),r=e("inherit");return r(t,n)}),e("ImageIcon",function(t){function n(t){var n="i8-image-icon";t.attr({width:"100%",height:"100%"}),t.css({"pointer-events":"none",display:"inline-block"}),e.call(this,n,t)}var e=t("AbstractElementIcon"),r=t("inherit");return n.loadByUrl=function(e){var r,o,i=t("buildUrlParams"),c=t("nodeWrapper"),s=t("Promise"),a=e;return"object"==typeof e&&(a=e.url,r=i(e.params),r&&(a=[a,r].join("?"))),new s(function(t,e){o=c("<img>"),o.bind("load",function(){t(new n(o))}),o.bind("error",e),o.attr("src",a)})},r(n,e)}),e("SpriteIcon",function(){function t(t){var e="i8-sprite-icon";n.call(this,e,t)}var n=e("AbstractCssClassIcon"),r=e("inherit");return r(t,n)}),e("SvgIcon",function(t){function n(n,r){var o,i,c,s,a,u,l,f,h="i8-svg-icon",p=t("nodeWrapper"),d=t("iconManager"),v=t("parseSvgOptions");if(r=v(r),["id","x","y"].forEach(function(t){n.removeAttr(t)}),l=n[0],"svg"!=l.tagName)if("symbol"==l.tagName){for(o=p('<svg xmlns="http://www.w3.org/2000/svg">'),i=o[0],c=l.attributes,u=0;u<c.length;u++)i.setAttribute(c[u].name,c[u].value);n=o.append(p(l).children())}else n=p('<svg xmlns="http://www.w3.org/2000/svg">').append(n);l=n[0],a={xmlns:"http://www.w3.org/2000/svg",version:"1.0"},Object.keys(a).forEach(function(t){l.getAttribute(t)||l.setAttribute(t,a[t])}),f=r.iconSize||d.getDefaultSvgIconSize(),c={fit:"",height:"100%",width:"100%",preserveAspectRatio:"xMidYMid meet",viewBox:l.getAttribute("viewBox")||r.viewBox||"0 0 "+f+" "+f},Object.keys(c).forEach(function(t){l.setAttribute(t,c[t])}),s={"pointer-events":"none",display:"inline-block"},Object.keys(s).forEach(function(t){l.style[t]=s[t]}),this.iconSize=f,e.call(this,h,n)}var e=t("AbstractElementIcon"),r=t("inherit");return n.loadByUrl=function(e,r){var o=t("loadSvgByUrl");return o(e).then(function(t){return new n(t,r)})},r(n,e)}),e("AbstractCssClassIconSetScope",function(t){function n(t,n,o){r.call(this,t,o),this._classResolver=e(n)}function e(t){var n;return"function"==typeof t?t:(t=(t||"")+"",n=t.split(/[?%]/),function(t){return n.join(t)})}var r=t("AbstractScope"),o=t("inherit");return o(n,r,{_resolveCssClass:function(t,n){return this._classResolver(t,n)}})}),e("AbstractRemoteResourceScope",function(n){function e(t,n,e){o.call(this,t,e),this._urlResolver=r(n),this._preloadable=this.options.preloadable||"undefined"==typeof this.options.preloadable,this._cache=null,this._resource=null}function r(e){var r,o,i=n("mergeObjects"),c=null;return r&&"object"==typeof r?(r=e.url,c=e.params):r=e,o="function"==typeof r?r:function(){return r},function(){var n,e,r=null;return n=o.apply(null,Array.prototype.slice.call(arguments)),e=n,n&&"object"==typeof n&&(e=n.url,r=n.params),e=String(e||""),"//"===e.slice(0,2)&&(e=t.document.location.protocol+e),{url:e,params:i({},c||{},r||{})}}}var o=n("AbstractScope"),i=n("inherit");return i(e,o,{preload:function(){return this._preloadable?this._getResource():!0},_resolveUrl:function(t){return this._urlResolver(t)},_getResource:function(){var t,n=this;return this._cache?this._cache:(t=this._cache=this._loadResource(),t.then(null,function(t){n._resource=t},function(){n._cache=null}),t)},_loadResource:function(){var t=n("Promise");return t.reject()}})}),e("AbstractRemoteSvgResourceScope",function(t){function n(t,n,r){var i=o(r),c=this;e.call(this,t,n,r),Object.keys(i).forEach(function(t){c.options[t]=i[t]})}var e=t("AbstractRemoteResourceScope"),r=t("inherit"),o=t("parseSvgOptions");return r(n,e)}),e("AbstractScope",function(){function t(t,e){e=e&&"object"==typeof e?e:{},this.id=t,this.options=e,this._iconIdParser=n(e.iconIdParser),this._iconIdResolver=n(e.iconIdResolver)}function n(t){return"function"==typeof t?t:function(t){return t}}return t.prototype={preload:function(){return!0},hasIcon:function(){return!0},_parseIconId:function(t,n){return this._iconIdParser(t,n)},_resolveIconId:function(t){return this._iconIdResolver(t)}},t}),e("FontIconSetScope",function(t){function n(t,n,r){e.call(this,t,n,r)}var e=t("AbstractCssClassIconSetScope"),r=t("inherit");return r(n,e,{getIcon:function(n,e){var r=t("FontIcon");return new r(this._resolveCssClass(this._parseIconId(n,e),e))}})}),e("ImageIconScope",function(t){function n(t,n,r){e.call(this,t,n,r)}var e=t("AbstractRemoteResourceScope"),r=t("inherit");return r(n,e,{_loadResource:function(){var n=t("ImageIcon");return n.loadByUrl(this._resolveUrl())},hasIcon:function(t,n){return this._parseIconId(t,n)==this._resolveIconId(this.id)},getIcon:function(){return this._getResource()}})}),e("SpriteIconSetScope",function(t){function n(t,n,r){e.call(this,t,n,r)}var e=t("AbstractCssClassIconSetScope"),r=t("inherit");return r(n,e,{getIcon:function(n,e){var r=t("SpriteIcon");return new r(this._resolveCssClass(this._parseIconId(n,e),e))}})}),e("SvgCumulativeIconSetScope",function(t){function n(t,n,r){var o=10;e.call(this,t,n,r),this.waitDuration=this.options.waitDuration||o,this.waitPromise=null,this.waitIconIds=[]}var e=t("AbstractRemoteSvgResourceScope"),r=t("inherit");return r(n,e,{_loadResource:function(){var n=t("SvgIconSet");return n.loadByUrl(this._resolveUrl(this.waitIconIds),this.options)},preload:function(){return!0},getIcon:function(n,e){var r=t("Promise"),o=t("timeout"),i=this;return n=this._parseIconId(n,e),this._resource&&this._resource.exists(n)?r.resolve(this._resource.getIconById(n)):(this.waitPromise?-1==this.waitIconIds.indexOf(n)&&this.waitIconIds.push(n):(this.waitIconIds=[n],this.waitPromise=o(this.waitDuration).then(function(){return i.waitPromise=null,i._resource?i._resource.mergeByUrl(i._resolveUrl(i._resource.notExists(i.waitIconIds)),i.options):i._getResource()})),this.waitPromise.then(function(t){var e=t.getIconById(n);return e?e:r.reject()}))}})}),e("SvgIconScope",function(t){function n(t,n,r){e.call(this,t,n,r)}var e=t("AbstractRemoteSvgResourceScope"),r=t("inherit");return r(n,e,{_loadResource:function(){var n=t("SvgIcon");return n.loadByUrl(this._resolveUrl(),this.options)},hasIcon:function(t,n){return this._parseIconId(t,n)==this._resolveIconId(this.id)},getIcon:function(){return this._getResource()}})}),e("SvgIconSetScope",function(t){function n(t,n,r){e.call(this,t,n,r)}var e=t("AbstractRemoteSvgResourceScope"),r=t("inherit");return r(n,e,{_loadResource:function(){var n=t("SvgIconSet");return n.loadByUrl(this._resolveUrl(),this.options)},hasIcon:function(t,n){return t=this._parseIconId(t,n),this._getResource().then(function(n){return n.exists(t)})},getIcon:function(n,e){var r=t("Promise");return n=this._parseIconId(n,e),this._getResource().then(function(t){var e=t.getIconById(n);return e?e:r.reject()})}})}),r(function(t){var n=t("iconManager");n.addFontIconSet("fa",function(t,n){var e=["fa","fa-"+t];return n=n||[],Array.prototype.push.apply(e,n.map(function(t){return"fa-"+t})),e.join(" ")})}),r(function(t){var n=t("iconManager");n.addIconSetAlias("glyphicon","gi").addFontIconSet("glyphicon","glyphicon glyphicon-?")}),e("i8ApiConfig",function(){return{gateway:{url:"//api.icons8.com/api/iconsets/svg-symbol"}}}),r(function(t){var n,e=t("iconManager"),r=t("i8ApiConfig"),o={ios8:["ios","ios7","i"],win8:["win","w"],android:["kitkat","ak","a-k","k"],androidL:["android-l","al","a-l","l"],flat_color:["color","c","colored"]};n={},Object.keys(o).forEach(function(t){n[t.toLowerCase()]=t,o[t].forEach(function(e){n[e]=t})}),e.setDefaultIconSet("i8").addSvgIconSet("i8",function(t){var n={url:r.gateway.url,params:{}};return t&&(Array.isArray(t)||(t=[t]),n.params.icons=t.join(",")),n},{cumulative:!0,iconIdParser:function(t,e){var r;for(t=String(t||""),Array.isArray(e)||(e=[]),e=e.map(function(t){return String(t).toLowerCase()}),r=0;r<e.length;r++)if(n.hasOwnProperty(e[r]))return[n[e[r]],t].join("-");return[n.c,t].join("-")}})}),e("materialDesignIconsConfig",function(){return{version:"1.0.1",categories:["action","alert","av","communication","content","device","editor","file","hardware","image","maps","navigation","notification","social","toggle"]}}),r(function(t){var n,e,r=t("iconManager"),o=t("materialDesignIconsConfig");n=function(t){return String(t||"").replace(/_/g,"-").replace(/^ic-/,"").replace(/-\d+px$/,"")},e={iconIdResolver:n,iconIdParser:n,preloadable:!1},o.categories.forEach(function(t){r.addSvgIconSet("md-"+t,"//cdn.rawgit.com/google/material-design-icons/"+o.version+"/sprites/svg-sprite/svg-sprite-"+t+".svg",e)})}),e("buildUrlParams",function(){return function(t){var n=[];return t=t||{},Object.keys(t).filter(function(){return"undefined"!=typeof t[key]&&null!==t[key]}).map(function(n){return Array.isArray(t[n])?t[n]:[t[n]]}).forEach(function(e){t[e].forEach(function(t){n.push(encodeURIComponent(e)+"="+encodeURIComponent(t+""))})}),n.join("&")}}),e("ensureDependenciesRegistered",function(t){var n=!1;return function(e){n||(t("log",function(){return e.get("$log")}),t("httpGet",function(){var t=e.get("$http"),n=e.get("$templateCache");return function(e,r){var o={cache:n};return r&&"object"==typeof r&&Object.keys(r).length>0&&(o.params=r),t.get(e,o)}}),t("Promise",function(){function t(t){return function(){var n=Array.prototype.slice.call(arguments);o.$$phase?t.apply(this,n):o.$apply(function(){t.apply(this,n)})}}function n(e){var o;return"function"!=typeof e?n.resolve(e):(o=r.defer(),e(t(o.resolve),t(o.reject)),o.promise)}var r=e.get("$q"),o=e.get("$rootScope");return n.reject=r.reject,n.resolve=r.when,n.all=r.all,n}),t("timeout",function(){var t=e.get("$timeout");return function(n,e){return"function"!=typeof n&&(e=n,n=function(){}),t(n,e)}}),n=!0)}}),e("mergeObjects",function(){return function(t){function n(t,e){return!t||!e||"object"!=typeof t||"object"!=typeof e||Array.isArray(t)||Array.isArray(e)?e:(Object.keys(e).forEach(function(r){t[r]=t.hasOwnProperty(r)?n(t[r],e[r]):e[r]}),t)}var e=Array.prototype.slice.call(arguments);if(0==e.length)return{};if(e.length<2){if(!Array.isArray(t))return t;e=t,t=e[0]}return e.slice(1).forEach(function(e){t=n(t,e)}),t}}),e("nodeWrapper",function(){return n.element}),o.$inject=["$i8Icon"],i.prototype=e("publicApi"),n.module("i8.icon",[]).provider("$i8Icon",i).directive("i8Icon",o),n.module("i8.icon").run(["$i8Icon",function(t){t.$checkLazyPreload()}]),r()}(window,window.angular);
//# sourceMappingURL=angular-i8-icon.min.js.map