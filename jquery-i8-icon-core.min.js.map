{"version":3,"sources":["jquery-i8-icon-core.min.js"],"names":["window","jQuery","di","name","provider","error","baseProvider","providers","instances","instaces","Error","console","hasOwnProperty","Function","ready","fn","functions","push","forEach","IconPlugin","config","icon","_applyConfig","IconsPlugin","bootstraped","cancelBootstrap","this","each","I8_ICON_DATA_KEY","element","instance","data","options","refresh","IconController","initIconElement","_element","_getAlt","alt","_renderIcon","_getIconId","elements","selector","optionsApplied","is","i8icon","find","setBootstrapped","bootstrap","BOOTSTRAP_DELAY","timeout","then","document","i8icons","AbstractCssClassIcon","iconClassName","className","AbstractIcon","call","inherit","render","getClassList","attr","split","getAddedClassList","classList","currClassList","filter","indexOf","addedClassName","cleaner","prototype","addClass","join","removeClass","AbstractElementIcon","cloneNode","append","firstChild","removeChild","FontIcon","FONT_ICON_CLASS","ImageIcon","IMAGE_ICON_CLASS","width","height","css","pointer-events","display","loadByUrl","urlConfig","query","buildUrlParams","nodeWrapper","Promise","url","params","resolve","reject","bind","SpriteIcon","SPRITE_ICON_CLASS","SvgIcon","svgElement","svgNode","attributes","styles","defaultAttributes","index","node","iconSize","SVG_ICON_CLASS","iconManager","parseSvgOptions","removeAttr","tagName","length","setAttribute","value","children","xmlns","version","Object","keys","getAttribute","getDefaultIconSize","fit","preserveAspectRatio","viewBox","style","loadSvgByUrl","AbstractCssClassIconSetScope","id","classResolver","AbstractScope","parseClassResolver","parts","AbstractRemoteResourceScope","urlResolver","parseUrlResolver","_cache","_resource","urlFn","mergeObjects","_params","apply","Array","slice","arguments","location","protocol","preload","_getResource","promise","self","_loadResource","resource","AbstractRemoteSvgResourceScope","svgOptions","hasIcon","FontIconSetScope","getIcon","iconId","ImageIconScope","SpriteIconSetScope","SvgCumulativeIconSetScope","DEFAULT_WAIT_DURATION","iconIdResolver","waitDuration","waitPromise","waitIconIds","SvgIconSet","exists","getIconById","mergeByUrl","notExists","iconSet","SvgIconScope","SvgIconSetScope","ScopeCollection","collection","add","scope","unshift","all","map","item","getIconScope","scopes","nodes","log","icons","querySelectorAll","e","warn","ids","merge","IconManager","_collections","_defaultCollectionId","_defaultIconSize","DEFAULT_ICON_SIZE","announceIconNotFound","iconSetId","errorMessage","announceIconNotFoundForPromiseCatch","CHECK_URL_REGEX","SINGLE_ICONS_COLLECTION_ID","addIcon","getExt","toLowerCase","ext","addSvgIcon","addImageIcon","_getSingleIconsCollection","addSvgIconSet","ScopeConstructor","cumulative","_getCollection","addFontIconSet","classConfig","addSpriteIconSet","addIconSetAlias","alias","setDefaultIconSet","setDefaultIconSize","collections","delimiterPosition","test","hasSingleIcon","hasIconSet","hasDefaultIconSet","Constructor","Parent","methods","properties","create","expectAlt","expectAria","attrName","defaultValue","childHasAttribute","isHidden","currentStyle","getComputedStyle","child","hasChildren","hasChildNodes","childNodes","nodeType","hasAttribute","trim","parentsHaveText","parent","text","prop","ICON_CLASS","hasClass","httpGet","el","response","first","message","String","responseText","statusText","font","sprite","sourceAlias","defaultIconSetUrl","defaultSource","defaultIconSize","prepend","classBuilder","param","deferred","Deferred","_jqPromise","promises","jqPromises","result","isArray","when","done","fail","jqPromise","cache","compiledUrl","urlBuilder","ajax","dataType","success","getConsoleWriteDelegate","type","noop","logDebug","debug","debugEnabled","args","extend","concat","delay","resolveFn","_timeoutId","setTimeout","cancel","timeoutPromise","clearTimeout","normalizeConfigs","configs","normalizeConfigFilter","normalizeConfig","normalizeUrlBasedConfig","uri","normalizeClassNameBasedConfig","publicApi","iconSets","fonts","sprites","prefixes","prefix","match","exec","_renderedIconCleaner","_renderedIconId","isBootstrapped"],"mappings":"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","file":"jquery-i8-icon-core.min.js","sourcesContent":[";(function(window, jQuery) {\n\n'use strict';\n\ndi('AbstractCssClassIcon', function() {\n  var\n    AbstractIcon = di('AbstractIcon'),\n    inherit = di('inherit')\n    ;\n\n  function AbstractCssClassIcon(iconClassName, className) {\n    AbstractIcon.call(this, iconClassName);\n    this.className = className;\n  }\n\n  return inherit(AbstractCssClassIcon, AbstractIcon, {\n\n    render: function(element) {\n      var\n        classList,\n        addedClassName,\n        cleaner;\n\n      function getClassList() {\n        return element\n          .attr('class')\n          .split(/\\s+/);\n      }\n\n      function getAddedClassList(classList) {\n        var\n          currClassList = getClassList();\n        classList = classList || [];\n        return currClassList.filter(function(className) {\n          return classList.indexOf(className) == -1;\n        });\n      }\n\n      cleaner = AbstractIcon.prototype.render.call(this, element);\n\n      classList = getClassList();\n      element.addClass(this.className);\n      addedClassName = getAddedClassList(classList).join(' ');\n\n      return function() {\n        element.removeClass(addedClassName);\n        cleaner && cleaner();\n      }\n    }\n\n  });\n\n});\n'use strict';\n\ndi('AbstractElementIcon', function() {\n  var\n    AbstractIcon = di('AbstractIcon'),\n    inherit = di('inherit')\n    ;\n\n  function AbstractElementIcon(iconClassName, element) {\n    AbstractIcon.call(this, iconClassName);\n    this.element = element;\n  }\n\n  return inherit(AbstractElementIcon, AbstractIcon, {\n\n    cloneNode: function() {\n      return this.element[0].cloneNode(true);\n    },\n\n    render: function(element) {\n      var\n        cleaner;\n\n      cleaner = AbstractIcon.prototype.render.call(this, element);\n      element.append(this.cloneNode());\n\n      return function() {\n        while (element.firstChild) {\n          element.removeChild(element.firstChild);\n        }\n        cleaner && cleaner();\n      }\n    }\n\n  });\n\n});\n'use strict';\n\ndi('AbstractIcon', function() {\n\n  function AbstractIcon(iconClassName) {\n    this.iconClassName = iconClassName;\n  }\n\n  AbstractIcon.prototype = {\n\n    render: function(element) {\n      var\n        iconClassName = this.iconClassName;\n      element.addClass(iconClassName);\n      return function() {\n        element.removeClass(iconClassName);\n      }\n    }\n\n  };\n\n  return AbstractIcon;\n  \n\n});\n'use strict';\n\ndi('FontIcon', function() {\n  var\n    AbstractCssClassIcon = di('AbstractCssClassIcon'),\n    inherit = di('inherit')\n    ;\n\n  function FontIcon(className) {\n    var\n      FONT_ICON_CLASS = 'i8-font-icon';\n\n    AbstractCssClassIcon.call(this, FONT_ICON_CLASS, className);\n  }\n\n  return inherit(FontIcon, AbstractCssClassIcon);\n\n});\n'use strict';\n\ndi('ImageIcon', function(di) {\n  var\n    AbstractElementIcon = di('AbstractElementIcon'),\n    inherit = di('inherit')\n    ;\n\n  function ImageIcon(element) {\n    var\n      IMAGE_ICON_CLASS = 'i8-image-icon';\n\n    element.attr({\n      width: '100%',\n      height: '100%'\n    });\n\n    element.css({\n      \"pointer-events\": 'none',\n      display: 'inline-block'\n    });\n\n    AbstractElementIcon.call(this, IMAGE_ICON_CLASS, element);\n  }\n\n  ImageIcon.loadByUrl = function(urlConfig) {\n    var\n      buildUrlParams = di('buildUrlParams'),\n      nodeWrapper = di('nodeWrapper'),\n      Promise = di('Promise'),\n      url = urlConfig,\n      query,\n      element\n      ;\n\n    if (typeof urlConfig == 'object') {\n      url = urlConfig.url;\n      query = buildUrlParams(urlConfig.params);\n      if (query) {\n        url = [url, query].join('?');\n      }\n    }\n\n    return new Promise(function(resolve, reject) {\n      element = nodeWrapper('<img>');\n      element.bind('load', function() {\n        resolve(new ImageIcon(element));\n      });\n      element.bind('error', reject);\n      element.attr('src', url);\n    });\n\n  };\n\n  return inherit(ImageIcon, AbstractElementIcon);\n\n});\n'use strict';\n\ndi('SpriteIcon', function() {\n  var\n    AbstractCssClassIcon = di('AbstractCssClassIcon'),\n    inherit = di('inherit')\n    ;\n\n  function SpriteIcon(className) {\n    var\n      SPRITE_ICON_CLASS = 'i8-sprite-icon';\n\n    AbstractCssClassIcon.call(this, SPRITE_ICON_CLASS, className);\n  }\n\n  return inherit(SpriteIcon, AbstractCssClassIcon);\n\n});\n'use strict';\n\ndi('SvgIcon', function(di) {\n  var\n    AbstractElementIcon = di('AbstractElementIcon'),\n    inherit = di('inherit')\n    ;\n\n  function SvgIcon(element, options) {\n    var\n      SVG_ICON_CLASS = 'i8-svg-icon',\n      nodeWrapper = di('nodeWrapper'),\n      iconManager = di('iconManager'),\n      parseSvgOptions = di('parseSvgOptions'),\n      svgElement,\n      svgNode,\n      attributes,\n      styles,\n      defaultAttributes,\n      index,\n      node,\n      iconSize;\n\n    options = parseSvgOptions(options);\n\n    element.removeAttr('id');\n\n    node = element[0];\n    if (node.tagName != 'svg') {\n      if (node.tagName == 'symbol') {\n        svgElement = nodeWrapper('<svg xmlns=\"http://www.w3.org/2000/svg\">');\n        svgNode = svgElement[0];\n        attributes = node.attributes;\n        for (index = 0; index < attributes.length; index++) {\n          svgNode.setAttribute(attributes[index].name, attributes[index].value);\n        }\n        element = svgElement.append(node.children);\n      }\n      else {\n        element = nodeWrapper('<svg xmlns=\"http://www.w3.org/2000/svg\">').append(element);\n      }\n    }\n    node = element[0];\n\n    defaultAttributes = {\n      xmlns: 'http://www.w3.org/2000/svg',\n      version: '1.0'\n    };\n\n    Object.keys(defaultAttributes)\n      .forEach(function(name) {\n        if (!node.getAttribute(name)) {\n          node.setAttribute(name, defaultAttributes[name]);\n        }\n      });\n\n    iconSize = options.iconSize || iconManager.getDefaultIconSize();\n\n    attributes = {\n      fit: '',\n      height: '100%',\n      width: '100%',\n      preserveAspectRatio: 'xMidYMid meet',\n      viewBox: node.getAttribute('viewBox') || options.viewBox || ('0 0 ' + iconSize + ' ' + iconSize)\n    };\n\n    Object.keys(attributes)\n      .forEach(function(name) {\n        node.setAttribute(name, attributes[name]);\n      });\n\n    styles = {\n      \"pointer-events\": 'none',\n      display: 'inline-block'\n    };\n\n    Object.keys(styles)\n      .forEach(function(name) {\n        node.style[name] = styles[name];\n      });\n\n    this.iconSize = iconSize;\n\n    AbstractElementIcon.call(this, SVG_ICON_CLASS, element);\n  }\n\n  SvgIcon.loadByUrl = function(url, options) {\n    var\n      loadSvgByUrl = di('loadSvgByUrl');\n\n    return loadSvgByUrl(url)\n      .then(function(element) {\n        return new SvgIcon(\n          element,\n          options\n        )\n      });\n  };\n\n  return inherit(SvgIcon, AbstractElementIcon);\n\n});\n\n'use strict';\n\ndi('AbstractCssClassIconSetScope', function(di) {\n  var\n    AbstractScope = di('AbstractScope'),\n    inherit = di('inherit')\n    ;\n\n  function AbstractCssClassIconSetScope(id, classResolver) {\n\n    AbstractScope.call(this, id);\n    this.classResolver = parseClassResolver(classResolver);\n  }\n\n  return inherit(AbstractCssClassIconSetScope, AbstractScope);\n\n  function parseClassResolver(classResolver) {\n    var\n      parts;\n    if (typeof classResolver == 'function') {\n      return classResolver;\n    }\n    classResolver = (classResolver || '') + '';\n\n    parts = classResolver.split(/[?%]/);\n    return function(id) {\n      return parts.join(id);\n    }\n  }\n\n});\n'use strict';\n\ndi('AbstractRemoteResourceScope', function(di) {\n  var\n    AbstractScope = di('AbstractScope'),\n    inherit = di('inherit')\n  ;\n\n  function AbstractRemoteResourceScope(id, urlConfig) {\n    AbstractScope.call(this, id);\n\n    this.urlResolver = parseUrlResolver(urlConfig);\n    this._cache = null;\n    this._resource = null;\n  }\n\n  return inherit(AbstractRemoteResourceScope, AbstractScope, {\n\n    preload: function() {\n      return this._getResource();\n    },\n\n    _getResource: function() {\n      var\n        promise,\n        self = this;\n\n      if (this._cache) {\n        return this._cache;\n      }\n      promise = this._cache = this._loadResource();\n      promise.then(null,\n        function(resource) {\n          self._resource = resource;\n        },\n        function() {\n          self._cache = null;\n        }\n      );\n\n      return promise;\n    },\n\n    _loadResource: function() {\n      var\n        Promise = di('Promise');\n      return Promise.reject();\n    }\n\n  });\n\n  function parseUrlResolver(urlConfig) {\n    var\n      mergeObjects = di('mergeObjects'),\n      url,\n      urlFn,\n      params = null;\n\n    if (url && typeof url == 'object') {\n      url = urlConfig.url;\n      params = urlConfig.params;\n    }\n    else {\n      url = urlConfig;\n    }\n\n    urlFn = (typeof url == 'function')\n      ? url\n      : function() { return url; };\n\n    return function(/* value[, value[, ...]]] */) {\n      var\n        urlConfig,\n        _params = null,\n        url\n        ;\n\n      urlConfig = urlFn.apply(null, Array.prototype.slice.call(arguments));\n      url = urlConfig;\n      if (urlConfig && typeof urlConfig == 'object') {\n        url = urlConfig.url;\n        _params = urlConfig.params;\n      }\n\n      if (url.slice(0, 2) === '//') {\n        url = window.document.location.protocol + url;\n      }\n\n      return {\n        url: url,\n        params: mergeObjects({}, params || {}, _params || {})\n      }\n    };\n  }\n\n});\n'use strict';\n\ndi('AbstractRemoteSvgResourceScope', function(di) {\n  var\n    AbstractRemoteResourceScope = di('AbstractRemoteResourceScope'),\n    inherit = di('inherit')\n  ;\n\n  function AbstractRemoteSvgResourceScope(id, urlConfig, svgOptions) {\n    var\n      parseSvgOptions = di('parseSvgOptions');\n\n    AbstractRemoteResourceScope.call(this, id, urlConfig);\n\n    this.svgOptions = parseSvgOptions(svgOptions);\n  }\n\n  return inherit(AbstractRemoteSvgResourceScope, AbstractRemoteResourceScope);\n\n});\n'use strict';\n\ndi('AbstractScope', function() {\n\n  function AbstractScope(id) {\n    this.id = id;\n  }\n\n  AbstractScope.prototype = {\n\n    preload: function() {\n      return true;\n    },\n\n    hasIcon: function() {\n      return true;\n    }\n\n  };\n\n  return AbstractScope;\n\n});\n'use strict';\n\ndi('FontIconSetScope', function(di) {\n  var\n    AbstractCssClassIconSetScope = di('AbstractCssClassIconSetScope'),\n    inherit = di('inherit')\n    ;\n\n  function FontIconSetScope(id, classResolver) {\n    AbstractCssClassIconSetScope.call(this, id, classResolver);\n  }\n\n  return inherit(FontIconSetScope, AbstractCssClassIconSetScope, {\n\n    getIcon: function(iconId, params) {\n      var\n        FontIcon = di('FontIcon');\n      return new FontIcon(this.classResolver(iconId, params));\n    }\n\n  });\n\n});\n'use strict';\n\ndi('ImageIconScope', function(di) {\n  var\n    AbstractRemoteResourceScope = di('AbstractRemoteResourceScope'),\n    inherit = di('inherit')\n    ;\n\n  function ImageIconScope(id, urlConfig) {\n    AbstractRemoteResourceScope.call(this, id, urlConfig);\n  }\n\n  return inherit(ImageIconScope, AbstractRemoteResourceScope, {\n\n    _loadResource: function() {\n      var\n        ImageIcon = di('ImageIcon');\n      return ImageIcon.loadByUrl(this.urlResolver());\n    },\n\n    hasIcon: function(iconId) {\n      return iconId == this.id;\n    },\n\n    getIcon: function() {\n      return this._getResource();\n    }\n\n  });\n\n});\n'use strict';\n\ndi('SpriteIconSetScope', function(di) {\n  var\n    AbstractCssClassIconSetScope = di('AbstractCssClassIconSetScope'),\n    inherit = di('inherit')\n    ;\n\n  function SpriteIconSetScope(id, classResolver) {\n    AbstractCssClassIconSetScope.call(this, id, classResolver);\n  }\n\n  return inherit(SpriteIconSetScope, AbstractCssClassIconSetScope, {\n\n    getIcon: function(iconId) {\n      var\n        SpriteIcon = di('SpriteIcon');\n      return new SpriteIcon(this.classResolver(iconId));\n    }\n\n  });\n\n});\n'use strict';\n\ndi('SvgCumulativeIconSetScope', function(di) {\n  var\n    AbstractRemoteSvgResourceScope = di('AbstractRemoteSvgResourceScope'),\n    inherit = di('inherit')\n    ;\n\n  function SvgCumulativeIconSetScope(id, urlConfig, options) {\n    var\n      DEFAULT_WAIT_DURATION = 10;\n\n    AbstractRemoteSvgResourceScope.call(this, id, urlConfig, options);\n    options = options && typeof options == 'object'\n      ? options\n      : {};\n\n    this.iconIdResolver = typeof options.iconIdResolver == 'function'\n      ? options.iconIdResolver\n      : null;\n\n    this.waitDuration = options.waitDuration || DEFAULT_WAIT_DURATION;\n    this.waitPromise = null;\n    this.waitIconIds = [];\n  }\n\n  return inherit(SvgCumulativeIconSetScope, AbstractRemoteSvgResourceScope, {\n\n    _loadResource: function() {\n      var\n        SvgIconSet = di('SvgIconSet');\n      return SvgIconSet.loadByUrl(this.urlResolver(this.waitIconIds), this.svgOptions);\n    },\n\n    preload: function() {\n      return true;\n    },\n\n    getIcon: function(iconId, params) {\n      var\n        Promise = di('Promise'),\n        timeout = di('timeout'),\n        self = this;\n\n      if (this.iconIdResolver) {\n        iconId = this.iconIdResolver(iconId, params);\n      }\n\n      if (this._resource && this._resource.exists(iconId)) {\n        return Promise.resolve(this._resource.getIconById(iconId));\n      }\n\n      if (this.waitPromise) {\n        if (this.waitIconIds.indexOf(iconId) == -1) {\n          this.waitIconIds.push(iconId);\n        }\n      }\n      else {\n        this.waitIconIds = [iconId];\n        this.waitPromise = timeout(this.waitDuration).then(function() {\n          self.waitPromise = null;\n          if (!self._resource) {\n            return self._getResource();\n          }\n          return self._resource.mergeByUrl(\n            self.urlResolver(self._resource.notExists(self.waitIconIds)),\n            self.svgOptions\n          );\n        });\n      }\n\n      return this.waitPromise\n        .then(function(iconSet) {\n          var\n            icon = iconSet.getIconById(iconId);\n          return icon\n            ? icon\n            : Promise.reject();\n        });\n    }\n\n  });\n\n});\n'use strict';\n\ndi('SvgIconScope', function(di) {\n  var\n    AbstractRemoteSvgResourceScope = di('AbstractRemoteSvgResourceScope'),\n    inherit = di('inherit')\n    ;\n\n  function SvgIconScope(id, urlConfig, svgOptions) {\n    AbstractRemoteSvgResourceScope.call(this, id, urlConfig, svgOptions);\n  }\n\n  return inherit(SvgIconScope, AbstractRemoteSvgResourceScope, {\n\n    _loadResource: function() {\n      var\n        SvgIcon = di('SvgIcon');\n      return SvgIcon.loadByUrl(this.urlResolver(), this.svgOptions);\n    },\n\n    hasIcon: function(iconId) {\n      return iconId == this.id;\n    },\n\n    getIcon: function() {\n      return this._getResource();\n    }\n\n  });\n\n});\n'use strict';\n\ndi('SvgIconSetScope', function(di) {\n  var\n    AbstractRemoteSvgResourceScope = di('AbstractRemoteSvgResourceScope'),\n    inherit = di('inherit')\n    ;\n\n  function SvgIconSetScope(id, urlConfig, svgOptions) {\n    AbstractRemoteSvgResourceScope.call(this, id, urlConfig, svgOptions);\n  }\n\n  return inherit(SvgIconSetScope, AbstractRemoteSvgResourceScope, {\n\n    _loadResource: function() {\n      var\n        SvgIconSet = di('SvgIconSet');\n      return SvgIconSet.loadByUrl(this.urlResolver(), this.svgOptions);\n    },\n\n    hasIcon: function(iconId) {\n      return this._getResource()\n        .then(function(iconSet) {\n          return iconSet.exists(iconId);\n        })\n    },\n\n    getIcon: function(iconId) {\n      var\n        Promise = di('Promise');\n\n      return this._getResource()\n        .then(function(iconSet) {\n          var\n            icon = iconSet.getIconById(iconId);\n          return icon\n            ? icon\n            : Promise.reject();\n        })\n    }\n\n  });\n\n});\n'use strict';\n\ndi('ScopeCollection', function(di) {\n\n  function ScopeCollection() {\n    this.collection = [];\n  }\n\n  ScopeCollection.prototype = {\n\n    add: function(scope) {\n      var\n        SvgCumulativeIconSetScope = di('SvgCumulativeIconSetScope'),\n        FontIconSetScope = di('FontIconSetScope');\n\n      if (scope instanceof SvgCumulativeIconSetScope || scope instanceof FontIconSetScope) {\n        this.collection.push(scope);\n      }\n      else {\n        this.collection.unshift(scope);\n      }\n    },\n\n    preload: function() {\n      var\n        Promise = di('Promise');\n\n      return Promise.all(\n        this.collection.map(function(item) {\n          return Promise.resolve(item.preload())\n            .then(null, function() {\n              return false;\n            })\n        })\n      )\n        .then(function() {\n          return true;\n        }, function() {\n          return false;\n        });\n    },\n\n    getIconScope: function(iconId) {\n      var\n        Promise = di('Promise'),\n        SvgCumulativeIconSetScope = di('SvgCumulativeIconSetScope'),\n        collection = this.collection,\n        promise\n        ;\n\n      promise = Promise.all(\n        collection.map(function(scope) {\n          return Promise.resolve(scope.hasIcon(iconId))\n            .then(function(value) {\n              return value\n                ? scope\n                : false;\n            }, function() {\n              return false;\n            })\n        })\n      );\n\n      return promise.then(function(scopes) {\n        var\n          index;\n        for (index = 0; index < scopes.length; index++) {\n          if (scopes[index]) {\n            return scopes[index];\n          }\n        }\n        return Promise.reject();\n      });\n    },\n\n    getIcon: function(iconId, params) {\n      return this.getIconScope(iconId)\n        .then(function(scope) {\n          return scope.getIcon(iconId, params);\n        });\n    }\n\n  };\n\n  return ScopeCollection;\n\n});\n'use strict';\n\ndi('SvgIconSet', function(di) {\n\n  function SvgIconSet(element, options) {\n    var\n      log = di('log'),\n      parseSvgOptions = di('parseSvgOptions'),\n      SvgIcon = di('SvgIcon'),\n      nodeWrapper = di('nodeWrapper'),\n      index,\n      nodes,\n      node,\n      iconSize,\n      viewBox\n      ;\n\n    options = parseSvgOptions(options);\n\n    this.icons = {};\n\n    viewBox = options.viewBox || element[0].getAttribute('viewBox');\n    iconSize = options.iconSize;\n\n    try {\n      nodes = element[0].querySelectorAll('[id]');\n      for(index = 0; index < nodes.length; index++) {\n        node = nodes[index];\n        this.icons[node.getAttribute('id')] = new SvgIcon(nodeWrapper(node), {\n          iconSize: iconSize,\n          viewBox: viewBox\n        });\n      }\n    }\n    catch(e) {\n      log.warn(e);\n    }\n\n    this.iconSize = iconSize;\n    this.viewBox = viewBox;\n  }\n\n  SvgIconSet.loadByUrl = function(url, options) {\n    var\n      loadSvgByUrl = di('loadSvgByUrl');\n\n    return loadSvgByUrl(url)\n      .then(function(element) {\n        return new SvgIconSet(\n          element,\n          options\n        )\n      });\n  };\n\n  SvgIconSet.prototype = {\n\n    notExists: function(ids) {\n      var\n        icons = this.icons;\n      return ids.filter(function(id) {\n        return !icons.hasOwnProperty(id);\n      });\n    },\n\n    exists: function(id) {\n      return this.icons.hasOwnProperty(id);\n    },\n\n    getIconById: function(id) {\n      return this.icons.hasOwnProperty(id)\n        ? this.icons[id]\n        : null;\n    },\n\n    merge: function(iconSet) {\n      var\n        self = this,\n        icons = iconSet.icons;\n\n      Object.keys(icons)\n        .forEach(function(id) {\n          self.icons[id] = icons[id];\n        });\n\n      return this;\n    },\n\n    mergeByUrl: function(url, options) {\n      var\n        self = this;\n\n      return SvgIconSet.loadByUrl(url, options)\n        .then(function(iconSet) {\n          return self.merge(iconSet);\n        })\n    }\n\n  };\n\n  return SvgIconSet;\n\n});\n\n\n'use strict';\n\nfunction di(name, provider) {\n  var\n    error,\n    baseProvider,\n    providers,\n    instances;\n\n  providers = di.providers = di.providers || {};\n  instances = di.instaces = di.instaces || {};\n\n  if (provider) {\n    if (instances.hasOwnProperty(name)) {\n      error = new Error('Cannot override instantiated service \"' + name + '\"');\n      console.error(error);\n      throw error;\n    }\n    if (!(provider instanceof Function)) {\n      error = new Error('Incorrect provider function \"' + name + '\"');\n      console.error(error);\n      throw error;\n    }\n\n    if (providers.hasOwnProperty(name)) {\n      baseProvider = providers[name];\n      providers[name] = function(di) {\n        return new provider(di, new baseProvider(di));\n      };\n    }\n    else {\n      providers[name] = provider;\n    }\n  }\n  else {\n    if (!providers[name]) {\n      error = new Error('Cannot found service provider \"' + name + '\"');\n      console.error(error);\n      throw error;\n    }\n    if (!instances.hasOwnProperty(name)) {\n      try {\n        instances[name] = new providers[name](di);\n      }\n      catch(error) {\n        console.error(error);\n        throw error;\n      }\n    }\n    return instances[name];\n  }\n}\n\n\n'use strict';\n\ndi('iconManager', function(di) {\n\n  var\n    CHECK_URL_REGEX = /[-a-zA-Z0-9@:%_\\+.~#?&//=]{2,256}\\.[a-z]{2,4}\\b(\\/[-a-zA-Z0-9@:%_\\+.~#?&//=]*)?/i,\n    DEFAULT_ICON_SIZE = 24,\n    SINGLE_ICONS_COLLECTION_ID = '__SINGLE_ICONS_COLLECTION';\n\n  function IconManager() {\n    this._collections = {};\n    this._defaultCollectionId = null;\n    this._defaultIconSize = DEFAULT_ICON_SIZE;\n  }\n\n  IconManager.prototype = {\n\n    addIcon: function(id, urlConfig, options) {\n      var\n        url = urlConfig,\n        ext;\n\n      if (typeof urlConfig == 'object') {\n        url = urlConfig.url;\n      }\n      ext = typeof url == 'function'\n        ? getExt(url())\n        : getExt(url + '');\n\n      return ext == 'svg'\n        ? this.addSvgIcon(id, urlConfig, options)\n        : this.addImageIcon(id, urlConfig)\n      ;\n\n      function getExt(url) {\n        return ((url.split('?')[0] || '').split('.').slice(-1)[0] || '').toLowerCase();\n      }\n    },\n\n    addSvgIcon: function(id, urlConfig, options) {\n      var\n        SvgIconScope = di('SvgIconScope');\n      this._getSingleIconsCollection().add(new SvgIconScope(id, urlConfig, options));\n      return this;\n    },\n\n    addImageIcon: function(id, urlConfig, options) {\n      var\n        ImageIconScope = di('ImageIconScope');\n      this._getSingleIconsCollection().add(new ImageIconScope(id, urlConfig, options));\n      return this;\n    },\n\n    addSvgIconSet: function(id, urlConfig, options) {\n      var\n        SvgCumulativeIconSetScope = di('SvgCumulativeIconSetScope'),\n        SvgIconSetScope = di('SvgIconSetScope'),\n        ScopeConstructor;\n\n      options = options || {};\n\n      ScopeConstructor = options.cumulative\n        ? SvgCumulativeIconSetScope\n        : SvgIconSetScope;\n\n      this._getCollection(id).add(new ScopeConstructor(id, urlConfig, options));\n\n      return this;\n    },\n\n    addFontIconSet: function(id, classConfig) {\n      var\n        FontIconSetScope = di('FontIconSetScope');\n      this._getCollection(id).add(new FontIconSetScope(id, classConfig));\n      return this;\n    },\n\n    addSpriteIconSet: function(id, classConfig) {\n      var\n        SpriteIconSetScope = di('SpriteIconSetScope');\n      this._getCollection(id).add(new SpriteIconSetScope(id, classConfig));\n      return this;\n    },\n\n    addIconSetAlias: function(id, alias) {\n      if (!this._collections.hasOwnProperty(alias)) {\n        this._collections[alias] = this._getCollection(id);\n      }\n      return this;\n    },\n\n    setDefaultIconSet: function(id) {\n      this._defaultCollectionId = id;\n      return this;\n    },\n\n    setDefaultIconSize: function(iconSize) {\n      this._defaultIconSize = iconSize;\n      return this;\n    },\n\n    getDefaultIconSize: function() {\n      return this._defaultIconSize;\n    },\n\n    preload: function() {\n      var\n        collections = this._collections;\n\n      Object.keys(collections).forEach(function(id) {\n        collections[id].preload();\n      });\n\n    },\n\n    getIcon: function(id, params) {\n      var\n        parts,\n        delimiterPosition,\n        iconId,\n        iconSetId;\n\n      id = id || '';\n      params = params || [];\n      parts = id\n        .split(/\\s+/)\n        .filter(function(value) {\n          return value;\n        });\n      id = parts[0];\n      Array.prototype.push.apply(params, parts.slice(1));\n\n      if (CHECK_URL_REGEX.test(id)) {\n        if (!this.hasSingleIcon(id)) {\n          this.addIcon(id, id);\n        }\n        return this._getSingleIconsCollection().getIcon(id, params)\n          .then(null, announceIconNotFoundForPromiseCatch(id));\n      }\n      iconId = id;\n      iconSetId = null;\n      delimiterPosition = id.indexOf(':');\n      if (delimiterPosition != -1) {\n        iconSetId = id.slice(0, delimiterPosition);\n        iconId = id.slice(delimiterPosition+1);\n      }\n\n      if (iconSetId) {\n        if (this.hasIconSet(iconSetId)) {\n          return this._getCollection(iconSetId).getIcon(iconId, params)\n            .then(null, announceIconNotFoundForPromiseCatch(iconId, iconSetId));\n        }\n      }\n      else {\n        if (this.hasSingleIcon(iconId)) {\n          return this._getSingleIconsCollection().getIcon(iconId, params)\n            .then(null, announceIconNotFoundForPromiseCatch(iconId));\n        }\n        if (this.hasDefaultIconSet()) {\n          return this._getCollection(this._defaultCollectionId).getIcon(iconId, params)\n            .then(null, announceIconNotFoundForPromiseCatch(iconId, this._defaultCollectionId));\n        }\n      }\n\n      return announceIconNotFound(id);\n    },\n\n    hasSingleIcon: function(id) {\n      return this._getSingleIconsCollection()\n        .collection\n        .filter(function(scope) {\n          return scope.hasIcon(id);\n        })\n        .length > 0;\n    },\n\n    hasIconSet: function(id) {\n      return this._collections.hasOwnProperty(id);\n    },\n\n    hasDefaultIconSet: function() {\n      return this._defaultCollectionId && this.hasIconSet(this._defaultCollectionId);\n    },\n\n    _getCollection: function(id) {\n      var\n        ScopeCollection = di('ScopeCollection');\n      if (!this._collections.hasOwnProperty(id)) {\n        this._collections[id] = new ScopeCollection();\n      }\n      return this._collections[id];\n    },\n\n    _getSingleIconsCollection: function() {\n      return this._getCollection(SINGLE_ICONS_COLLECTION_ID);\n    }\n\n  };\n\n\n  function announceIconNotFound(iconId, iconSetId) {\n    var\n      log = di('log'),\n      Promise = di('Promise'),\n      errorMessage = 'icon \"' + iconId + '\" not found';\n\n    if (iconSetId) {\n      errorMessage += ' in \"' + iconSetId + '\" icon set';\n    }\n    log.warn(errorMessage);\n    return Promise.reject(errorMessage);\n  }\n\n  function announceIconNotFoundForPromiseCatch(iconId, iconSetId) {\n    return function() {\n      return announceIconNotFound(iconId, iconSetId);\n    }\n  }\n\n\n\n  return new IconManager;\n\n\n});\n\n\n'use strict';\n\ndi('inherit', function() {\n\n  return function inherit(Constructor, Parent, methods, properties) {\n    Constructor.prototype = Object.create(Parent.prototype, properties || {});\n    Object.keys(methods || {})\n      .forEach(function(name) {\n        Constructor.prototype[name] = methods[name];\n      });\n\n    return Constructor;\n  };\n\n});\n'use strict';\n\ndi('initIconElement', function() {\n\n  return function initIconElement(element, alt) {\n    var\n      ICON_CLASS = 'i8-icon'\n      ;\n\n    expectAlt(element, alt || '');\n    if (!element.hasClass(ICON_CLASS)) {\n      element.addClass(ICON_CLASS);\n    }\n  };\n\n  function expectAlt(element, alt) {\n\n    if (alt != '' && !parentsHaveText()) {\n      expectAria('aria-label', alt);\n      expectAria('role', 'img');\n    }\n    else {\n      expectAria('aria-hidden', 'true');\n    }\n\n    function expectAria(attrName, defaultValue) {\n      var\n        node = element[0];\n\n      if (!node.hasAttribute(attrName) && !childHasAttribute(node, attrName)) {\n        defaultValue = (typeof defaultValue == 'string') ? defaultValue.trim() : '';\n        if (defaultValue.length) {\n          element.attr(attrName, defaultValue);\n        }\n      }\n\n      function childHasAttribute(node, attrName) {\n        var\n          hasChildren = node.hasChildNodes(),\n          children,\n          index,\n          child;\n\n        if (hasChildren) {\n          children = node.childNodes;\n          for(index = 0; index < children.length; index++){\n            child = children[index];\n            if(child.nodeType === 1 && child.hasAttribute(attrName) && !isHidden(child)) {\n              return true;\n            }\n          }\n        }\n        return false;\n\n        function isHidden(node) {\n          var\n            style = node.currentStyle\n              ? node.currentStyle\n              : window.getComputedStyle(node);\n          return style.display === 'none';\n        }\n      }\n    }\n\n    function parentsHaveText() {\n      var\n        parent = element.parent();\n\n      if (parent.attr('aria-label') || parent.text().trim()) {\n        return true;\n      }\n      if (parent.prop('tagName') != 'BODY') {\n        if (parent.parent().attr('aria-label') || parent.parent().text().trim()) {\n          return true;\n        }\n      }\n      return false;\n    }\n\n  }\n\n});\n'use strict';\n\ndi('loadSvgByUrl', function(di) {\n\n  return function loadSvgByUrl(urlConfig) {\n    var\n      httpGet = di('httpGet'),\n      log = di('log'),\n      Promise = di('Promise'),\n      el = di('nodeWrapper'),\n      url = urlConfig,\n      params = null\n      ;\n\n    if (typeof urlConfig == 'object') {\n      url = urlConfig.url;\n      params = urlConfig.params;\n    }\n\n    return httpGet(url, params)\n      .then(function(response) {\n        var\n          element = el('<div>').append(response.data),\n          svgElement = element.find('svg');\n        return svgElement.length > 0\n          ? svgElement\n          : element.children().first()\n          ;\n      }, function(response) {\n        var\n          message = typeof response == 'string'\n            ? response\n            : String(response.message || response.data || response.responseText || response.statusText);\n\n        log.warn(message);\n        return Promise.reject(message);\n      });\n  }\n\n});\n\n'use strict';\n\ndi('parseSvgOptions', function() {\n\n  return function parseSvgOptions(options) {\n    if (options) {\n      switch(typeof options) {\n        case 'number':\n          options = {\n            iconSize: options\n          };\n          break;\n        case 'string':\n          options = {\n            viewBox: options\n          };\n          break;\n      }\n    }\n    else {\n      options = {};\n    }\n\n    return {\n      iconSize: options.iconSize,\n      viewBox: options.viewBox\n    }\n  }\n\n});\n'use strict';\n\ndi('publicApi', function(di) {\n  var \n    iconManager = di('iconManager');\n  \n  return {\n    icon: function(id, urlConfig, iconSize) {\n      iconManager.addIcon(id, urlConfig, iconSize);\n      return this;\n    },\n\n    iconSet: function(id, urlConfig, iconSize) {\n      iconManager.addSvgIconSet(id, urlConfig, iconSize);\n      return this;\n    },\n\n    font: function(id, classConfig) {\n      iconManager.addFontIconSet(id, classConfig);\n      return this;\n    },\n\n    sprite: function(id, classConfig) {\n      iconManager.addSpriteIconSet(id, classConfig);\n      return this;\n    },\n\n    sourceAlias: function(id, alias) {\n      iconManager.addIconSetAlias(id, alias);\n      return this;\n    },\n\n    defaultIconSetUrl: function(url, iconSize) {\n      iconManager\n        .addSvgIconSet(url, url, iconSize)\n        .setDefaultIconSet(url);\n      return this;\n    },\n\n    defaultSource: function(id) {\n      iconManager.setDefaultIconSet(id);\n      return this;\n    },\n\n    defaultIconSize: function(iconSize) {\n      iconManager.setDefaultIconSize(iconSize);\n      return this;\n    },\n\n    preload: function() {\n      iconManager.preload();\n      return this;\n    }\n\n  };\n\n});\n'use strict';\n\nfunction ready(fn) {\n  var\n    functions;\n\n  functions = ready.functions = ready.functions || [];\n\n  if (fn) {\n    functions.push(fn);\n  }\n  else {\n    functions.forEach(function(fn) {\n      fn(di);\n    });\n  }\n}\n\n'use strict';\n\nready(function(di) {\n  var\n    nodeWrapper = di('nodeWrapper');\n\n  nodeWrapper(window.document).find('head').prepend(\n    '<style type=\"text/css\">@charset \"UTF-8\";i8-icon,i8icon,[i8-icon],[i8icon],[data-i8-icon],[data-i8icon],.i8icon,.i8-icon{display:inline-block}.i8-svg-icon svg{fill:currentColor}</style>'\n  );\n\n});\n'use strict';\n\nready(function(di) {\n  var\n    iconManager = di('iconManager');\n\n  iconManager\n    .addFontIconSet(\n      'fa',\n      function(name, params) {\n        var\n          classBuilder = [\n            'fa',\n            'fa-' + name\n          ];\n        params = params || [];\n        Array.prototype.push.apply(\n          classBuilder,\n          params.map(function(param) {\n            return 'fa-'+param\n          })\n        );\n        return classBuilder.join(' ')\n      }\n    );\n\n});\n\n'use strict';\n\nready(function(di) {\n  var\n    iconManager = di('iconManager');\n\n  iconManager\n    .addIconSetAlias('glyphicon', 'gi')\n    .addFontIconSet('glyphicon', 'glyphicon glyphicon-?');\n\n});\n'use strict';\n\ndi('Promise', function() {\n\n  if (window.Promise) {\n    return window.Promise;\n  }\n\n  function Promise(param) {\n    var\n      deferred;\n\n    if (typeof param == 'function') {\n      deferred = new jQuery.Deferred();\n      param(deferred.resolve, deferred.reject);\n      this._jqPromise = deferred;\n    }\n    else if (param && typeof param == 'object' && param.then){\n      this._jqPromise = param._jqPromise\n        ? param._jqPromise\n        : param;\n    }\n    else {\n      this._jqPromise = new jQuery.Deferred().resolve(param);\n    }\n  }\n\n  Promise.reject = function(value) {\n    return new Promise(\n      new jQuery.Deferred().reject(value)\n    );\n  };\n\n  Promise.resolve = function(value) {\n    return new Promise(\n      new jQuery.Deferred().resolve(value)\n    );\n  };\n\n  Promise.all = function(promises) {\n    var\n      jqPromises,\n      result = [];\n\n    if (!Array.isArray(promises)) {\n      return Promise.reject();\n    }\n\n    jqPromises = promises.map(function(value) {\n      if (value && typeof value == 'object' && value._jqPromise) {\n        value = value._jqPromise;\n      }\n      return value;\n    });\n    jqPromises.forEach(function(promise, index) {\n      promise.then(function(value) {\n        result[index] = value;\n      });\n    });\n\n    return new Promise(jQuery.when.apply(jQuery, jqPromises))\n      .then(function() {\n        return result;\n      })\n      ;\n  };\n\n  Promise.prototype = {\n\n    then: function(done, fail) {\n      var\n        jqPromise;\n\n      jqPromise = this._jqPromise.then(\n        done && function(value) {\n          var\n            result = done(value);\n          if (result && typeof result == 'object' && result._jqPromise) {\n            result = result._jqPromise;\n          }\n          return result;\n        },\n        fail && function(value) {\n          var\n            result = fail(value);\n          if (result && typeof result == 'object' && result.then) {\n            return result._jqPromise\n              ? result._jqPromise\n              : result;\n          }\n          if (typeof result != 'undefined') {\n            return new jQuery.Deferred().reject(result);\n          }\n        }\n      );\n\n      return new Promise(jqPromise);\n    }\n\n  };\n\n  return Promise;\n\n});\n\n'use strict';\n\ndi('buildUrlParams', function(di) {\n\n  return function buildUrlParams(params) {\n    return jQuery.param(params || {});\n  }\n\n});\n'use strict';\n\ndi('httpGet', function(di) {\n\n  var cache = {};\n\n  return function httpGet(url, params) {\n    var\n      Promise = di('Promise'),\n      buildUrlParams = di('buildUrlParams'),\n      urlBuilder = [url],\n      compiledUrl,\n      query,\n      promise\n      ;\n\n    params = params || {};\n    query = buildUrlParams(params);\n    if (query) {\n      urlBuilder.push(query);\n    }\n    compiledUrl = urlBuilder.join('?');\n\n    if (cache.hasOwnProperty(compiledUrl)) {\n      return cache[compiledUrl];\n    }\n\n    cache[compiledUrl] = promise = new Promise(function(resolve, reject) {\n      jQuery.ajax({\n        url: url,\n        data: params,\n        dataType: 'text',\n        success: function(data) {\n          resolve({\n            data: data\n          });\n        },\n        error: reject\n      })\n      ;\n    });\n\n    return promise;\n  }\n\n});\n\n'use strict';\n\ndi('log', function() {\n  var\n    noop = function() {},\n    log = {},\n    logDebug = getConsoleWriteDelegate('debug');\n\n  ['log', 'info', 'warn', 'error'].forEach(function(type) {\n    log[type] = getConsoleWriteDelegate(type);\n  });\n\n  log.debug = function() {\n    if (!log.debugEnabled) {\n      return noop;\n    }\n    return logDebug.apply(null, Array.prototype.slice.call(arguments));\n  };\n\n  return log;\n\n  function getConsoleWriteDelegate(type) {\n    return function() {\n      var\n        console = window.console;\n\n      if (console) {\n        console[type].apply(console, Array.prototype.slice.call(arguments));\n      }\n    }\n  }\n\n\n\n});\n\n\n'use strict';\n\ndi('mergeObjects', function() {\n\n  return function mergeObjects(/* to, from [, from[, ...]]*/) {\n    var\n      args = Array.prototype.slice.call(arguments);\n\n    switch(args.length) {\n      case 0: args.push({});\n      case 1: args.push({});\n    }\n\n    return jQuery.extend.apply(jQuery, [true].concat(args));\n  }\n\n});\n\n\n'use strict';\n\ndi('nodeWrapper', function() {\n  return jQuery;\n});\n'use strict';\n\ndi('timeout', function(di) {\n\n  function timeout(fn, delay) {\n    var\n      Promise = di('Promise'),\n      promise,\n      resolve;\n\n    if (typeof fn != 'function') {\n      delay = fn;\n      fn = function() {};\n    }\n\n    promise = new Promise(function(resolveFn) {\n      resolve = resolveFn;\n    });\n    promise.then(fn);\n    promise._timeoutId = setTimeout(resolve, delay);\n\n    return promise;\n  }\n\n  timeout.cancel = function(timeoutPromise) {\n    if (timeoutPromise._timeoutId) {\n      clearTimeout(timeoutPromise._timeoutId);\n    }\n  };\n\n  return timeout;\n\n});\n\n\n'use strict';\n\nfunction IconPlugin(config) {\n  config = config || {};\n\n  if (typeof config == 'string') {\n    config = {\n      icon: config\n    };\n  }\n\n  IconPlugin._applyConfig(config);\n\n  if (!IconsPlugin.bootstraped) {\n    IconsPlugin.cancelBootstrap();\n  }\n\n  return this.each(function() {\n    var\n      I8_ICON_DATA_KEY = '__I8_ICON_DATA',\n      element = jQuery(this),\n      instance = element.data(I8_ICON_DATA_KEY),\n      options = {\n        icon: config.icon + ''\n      };\n\n    if (instance) {\n      instance.refresh(options);\n    }\n    else {\n      element.data(I8_ICON_DATA_KEY, new IconController(element, options));\n    }\n  });\n}\n\nIconPlugin._applyConfig = function(config) {\n  var\n    publicApi = di('publicApi'),\n    iconManager = di('iconManager');\n\n  if (typeof config == 'function') {\n    config = config(publicApi);\n  }\n  config = config || {};\n\n  normalizeConfigs(config.icons, normalizeUrlBasedConfig).forEach(function(config) {\n    if (!iconManager.hasSingleIcon(config.id)) {\n      iconManager.addIcon(config.id, config.url, config);\n    }\n  });\n  normalizeConfigs(config[\"icon-sets\"] || config.iconSets, normalizeUrlBasedConfig).forEach(function(config) {\n    if (!iconManager.hasIconSet(config.id)) {\n      iconManager.addSvgIconSet(config.id, config.url, config);\n    }\n  });\n  normalizeConfigs(config.fonts, normalizeClassNameBasedConfig).forEach(function(config) {\n    if (!iconManager.hasIconSet(config.id)) {\n      iconManager.addFontIconSet(config.id, config.className);\n    }\n  });\n  normalizeConfigs(config.sprites, normalizeClassNameBasedConfig).forEach(function(config) {\n    if (!iconManager.hasIconSet(config.id)) {\n      iconManager.addSpriteIconSet(config.id, config.className);\n    }\n  });\n\n  function normalizeConfigs(configs, normalizeConfigFilter) {\n    if (configs && typeof configs == 'object') {\n      if (Array.isArray(configs)) {\n        configs = configs.map(normalizeConfig);\n      }\n      else {\n        configs = Object.keys(configs)\n          .map(function(id) {\n            return normalizeConfig(configs[id], id);\n          });\n      }\n      return configs.filter(function(config) {\n        return config;\n      });\n    }\n    return [];\n\n    function normalizeConfig(config, id) {\n      config = config || {};\n      if (typeof config != 'string') {\n        if (!config.id && config.id !== 0) {\n          config.id = id;\n        }\n      }\n      return normalizeConfigFilter && normalizeConfigFilter(config, id);\n    }\n  }\n\n  function normalizeUrlBasedConfig(config, id) {\n    if (typeof config == 'string') {\n      config = {\n        url: config,\n        id: id\n      }\n    }\n    config.url = config.url || config.uri;\n    return config.id && config.url\n      ? config\n      : null;\n  }\n\n  function normalizeClassNameBasedConfig(config, id) {\n    if (typeof config == 'string') {\n      config = {\n        className: config,\n        id: id\n      }\n    }\n    config.className = config.className || config[\"class\"];\n    return config.id && config.className\n      ? config\n      : null;\n  }\n\n};\n\nfunction IconController(element, options) {\n  var\n    initIconElement = di('initIconElement');\n\n  options = options || {};\n\n  this._element = element;\n  initIconElement(element, this._getAlt() || options.alt);\n  this._renderIcon(this._getIconId() || options.icon);\n}\n\nIconController.prototype = {\n\n  _getAlt: function() {\n    var\n      element = this._element;\n    return element.attr('alt') || element.data('alt');\n  },\n\n  _getIconId: function() {\n    var\n      element = this._element,\n      index,\n      prefixes,\n      prefix,\n      id = null;\n\n    prefixes = ['', 'i8-', 'i8', 'i8:'];\n    for (index = 0; !id && index < prefixes.length; index++) {\n      prefix = prefixes[index];\n      id = element.attr(prefix + 'icon') || element.data(prefix + 'icon');\n    }\n\n    if (!id) {\n      id = element\n        .attr('class')\n        .split(/\\s+/)\n        .map(function(className) {\n          var\n            match,\n            parts;\n          match = /^i8[-:]?icon[-:]([^;|,]+)[;|,]?(.*)$/i.exec(className);\n          if (!match || !match[1]) {\n            return null;\n          }\n          parts = [match[1]];\n          if (match[2]) {\n            Array.prototype.push.apply(parts, match[2].split(/[;|,:]/));\n          }\n          return parts.join(' ');\n        })\n        .filter(function(iconId) {\n          return iconId;\n        })\n        [0];\n    }\n\n    return id;\n  },\n\n  _renderIcon: function(iconId) {\n    var\n      iconManager = di('iconManager'),\n      element = this._element,\n      cleaner = this._renderedIconCleaner,\n      self = this;\n\n    iconId = iconId || this._getIconId();\n\n    if (iconId == this._renderedIconId) {\n      return;\n    }\n\n    cleaner && cleaner();\n    this._renderedIconCleaner = null;\n    if (iconId) {\n      iconManager.getIcon(iconId).then(function(icon) {\n        self._renderedIconCleaner = icon.render(element);\n      });\n    }\n\n    this._renderedIconId = iconId;\n  },\n\n  refresh: function(options) {\n    this._renderIcon(this._getIconId() || options.icon);\n  }\n\n};\n'use strict';\n\nfunction IconsPlugin(options) {\n  var\n    elements = this,\n    selector = 'i8-icon,i8icon,[i8-icon],[i8icon],[data-i8-icon],[data-i8icon],.i8icon,.i8-icon',\n    optionsApplied = false;\n\n  if (elements.is(selector)) {\n    elements.i8icon(options);\n    optionsApplied = true;\n  }\n  elements.find(selector).i8icon(\n    optionsApplied\n      ? null\n      : options\n  );\n\n  if (!IconsPlugin.bootstraped) {\n    if (!optionsApplied) {\n      IconPlugin._applyConfig(options);\n    }\n    IconsPlugin.setBootstrapped();\n  }\n\n  return elements;\n}\n\nIconsPlugin.bootstraped = false;\n\nIconsPlugin.cancelBootstrap = function() {\n  IconsPlugin.bootstraped = true;\n};\n\nIconsPlugin.isBootstrapped = function() {\n  return IconsPlugin.bootstraped;\n};\n\nIconsPlugin.setBootstrapped = function(value) {\n  IconsPlugin.bootstraped = typeof value == 'undefined'\n    ? true\n    : value;\n};\n\n'use strict';\n\nfunction bootstrap() {\n\n  jQuery(function() {\n    var\n      BOOTSTRAP_DELAY = 5,\n      timeout = di('timeout');\n\n    if (IconsPlugin.bootstraped) {\n      return;\n    }\n\n    timeout(BOOTSTRAP_DELAY).then(function() {\n      if (IconsPlugin.bootstraped) {\n        return;\n      }\n      jQuery(window.document).i8icons();\n    });\n\n  });\n\n}\n\n'use strict';\n\njQuery.fn.i8icon = IconPlugin;\njQuery.fn.i8icons = IconsPlugin;\n\nready();\nbootstrap();\n\n\n})(window, window.jQuery);"],"sourceRoot":"/source/"}