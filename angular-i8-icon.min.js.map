{"version":3,"sources":["angular-i8-icon.min.js"],"names":["window","angular","di","name","provider","error","baseProvider","providers","instances","instaces","Error","console","hasOwnProperty","Function","ready","fn","functions","push","forEach","IconDirective","$i8Icon","restrict","scope","link","element","attrs","initIconElement","altAttrName","$normalize","$attr","alt","attrName","icon","i8Icon","cleaner","$observe","then","render","IconProvider","this","$get","$injector","iconService","iconManager","registerDependencies","id","getIcon","preload","ScopeCollection","collection","prototype","add","SvgCumulativeIconSetScope","FontIconSetScope","unshift","Promise","all","map","item","resolve","iconId","getIconScope","promise","hasIcon","value","scopes","index","length","reject","params","SvgIconSet","options","nodes","node","iconSize","viewBox","log","parseSvgOptions","SvgIcon","nodeWrapper","icons","getAttribute","querySelectorAll","e","warn","loadByUrl","url","loadSvgByUrl","notExists","ids","filter","exists","getIconById","merge","iconSet","self","Object","keys","mergeByUrl","IconManager","_collections","_defaultCollectionId","_defaultIconSize","DEFAULT_ICON_SIZE","announceIconNotFound","iconSetId","errorMessage","announceIconNotFoundForPromiseCatch","CHECK_URL_REGEX","SINGLE_ICONS_COLLECTION_ID","addIcon","urlConfig","getExt","split","slice","toLowerCase","ext","addSvgIcon","addImageIcon","SvgIconScope","_getSingleIconsCollection","ImageIconScope","addSvgIconSet","ScopeConstructor","SvgIconSetScope","cumulative","_getCollection","addFontIconSet","classConfig","addSpriteIconSet","SpriteIconSetScope","addIconSetAlias","alias","setDefaultIconSet","setDefaultIconSize","getDefaultIconSize","collections","parts","delimiterPosition","Array","apply","test","hasSingleIcon","indexOf","hasIconSet","hasDefaultIconSet","Constructor","Parent","methods","properties","create","expectAlt","expectAria","defaultValue","childHasAttribute","isHidden","style","currentStyle","getComputedStyle","display","children","child","hasChildren","hasChildNodes","childNodes","nodeType","hasAttribute","trim","attr","parentsHaveText","parent","text","prop","ICON_CLASS","hasClass","addClass","httpGet","el","response","append","data","svgElement","find","first","message","String","responseText","statusText","font","sprite","sourceAlias","defaultIconSetUrl","defaultSource","defaultIconSize","document","prepend","AbstractCssClassIcon","iconClassName","className","AbstractIcon","call","inherit","getClassList","getAddedClassList","classList","currClassList","addedClassName","join","removeClass","AbstractElementIcon","cloneNode","firstChild","removeChild","FontIcon","FONT_ICON_CLASS","ImageIcon","IMAGE_ICON_CLASS","width","height","css","pointer-events","query","buildUrlParams","bind","SpriteIcon","SPRITE_ICON_CLASS","svgNode","attributes","styles","defaultAttributes","SVG_ICON_CLASS","removeAttr","tagName","setAttribute","xmlns","version","fit","preserveAspectRatio","AbstractCssClassIconSetScope","classResolver","AbstractScope","parseClassResolver","AbstractRemoteResourceScope","urlResolver","parseUrlResolver","_cache","_resource","urlFn","mergeObjects","_params","arguments","_getResource","_loadResource","resource","AbstractRemoteSvgResourceScope","svgOptions","DEFAULT_WAIT_DURATION","iconIdResolver","waitDuration","waitPromise","waitIconIds","timeout","classBuilder","param","gateway","platformsMap","possiblePrefixes","platforms","ios8","win8","android","androidL","colored","platform","isArray","position","prefix","key","encodeURIComponent","to","_merge","from","args","publicApi","get","$http","$templateCache","cache","ensureDigestDecorator","$rootScope","$$phase","$apply","deferred","$q","defer","when","$timeout","delay","$inject","module","directive"],"mappings":"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","file":"angular-i8-icon.min.js","sourcesContent":[";(function(window, angular) {\n\n'use strict';\n\ndi('ScopeCollection', function(di) {\n\n  function ScopeCollection() {\n    this.collection = [];\n  }\n\n  ScopeCollection.prototype = {\n\n    add: function(scope) {\n      var\n        SvgCumulativeIconSetScope = di('SvgCumulativeIconSetScope'),\n        FontIconSetScope = di('FontIconSetScope');\n\n      if (scope instanceof SvgCumulativeIconSetScope || scope instanceof FontIconSetScope) {\n        this.collection.push(scope);\n      }\n      else {\n        this.collection.unshift(scope);\n      }\n    },\n\n    preload: function() {\n      var\n        Promise = di('Promise');\n\n      return Promise.all(\n        this.collection.map(function(item) {\n          return Promise.resolve(item.preload(iconId))\n            .then(null, function() {\n              return false;\n            })\n        })\n      )\n        .then(function() {\n          return true;\n        }, function() {\n          return false;\n        });\n    },\n\n    getIconScope: function(iconId) {\n      var\n        Promise = di('Promise'),\n        SvgCumulativeIconSetScope = di('SvgCumulativeIconSetScope'),\n        collection = this.collection,\n        promise\n        ;\n\n      promise = Promise.all(\n        collection.map(function(scope) {\n          return Promise.resolve(scope.hasIcon(iconId))\n            .then(function(value) {\n              return value\n                ? scope\n                : false;\n            }, function() {\n              return false;\n            })\n        })\n      );\n\n      return promise.then(function(scopes) {\n        var\n          index;\n        for (index = 0; index < scopes.length; index++) {\n          if (scopes[index]) {\n            return scopes[index];\n          }\n        }\n        return Promise.reject();\n      });\n    },\n\n    getIcon: function(iconId, params) {\n      return this.getIconScope(iconId)\n        .then(function(scope) {\n          return scope.getIcon(iconId, params);\n        });\n    }\n\n  };\n\n  return ScopeCollection;\n\n});\n'use strict';\n\ndi('SvgIconSet', function(di) {\n\n  function SvgIconSet(element, options) {\n    var\n      log = di('log'),\n      parseSvgOptions = di('parseSvgOptions'),\n      SvgIcon = di('SvgIcon'),\n      nodeWrapper = di('nodeWrapper'),\n      index,\n      nodes,\n      node,\n      iconSize,\n      viewBox\n      ;\n\n    options = parseSvgOptions(options);\n\n    this.icons = {};\n\n    viewBox = options.viewBox || element[0].getAttribute('viewBox');\n    iconSize = options.iconSize;\n\n    try {\n      nodes = element[0].querySelectorAll('[id]');\n      for(index = 0; index < nodes.length; index++) {\n        node = nodes[index];\n        this.icons[node.getAttribute('id')] = new SvgIcon(nodeWrapper(node), {\n          iconSize: iconSize,\n          viewBox: viewBox\n        });\n      }\n    }\n    catch(e) {\n      log.warn(e);\n    }\n\n    this.iconSize = iconSize;\n    this.viewBox = viewBox;\n  }\n\n  SvgIconSet.loadByUrl = function(url, options) {\n    var\n      loadSvgByUrl = di('loadSvgByUrl');\n\n    return loadSvgByUrl(url)\n      .then(function(element) {\n        return new SvgIconSet(\n          element,\n          options\n        )\n      });\n  };\n\n  SvgIconSet.prototype = {\n\n    notExists: function(ids) {\n      var\n        icons = this.icons;\n      return ids.filter(function(id) {\n        return !icons.hasOwnProperty(id);\n      });\n    },\n\n    exists: function(id) {\n      return this.icons.hasOwnProperty(id);\n    },\n\n    getIconById: function(id) {\n      return this.icons.hasOwnProperty(id)\n        ? this.icons[id]\n        : null;\n    },\n\n    merge: function(iconSet) {\n      var\n        self = this,\n        icons = iconSet.icons;\n\n      Object.keys(icons)\n        .forEach(function(id) {\n          self.icons[id] = icons[id];\n        });\n\n      return this;\n    },\n\n    mergeByUrl: function(url, options) {\n      var\n        self = this;\n\n      return SvgIconSet.loadByUrl(url, options)\n        .then(function(iconSet) {\n          return self.merge(iconSet);\n        })\n    }\n\n  };\n\n  return SvgIconSet;\n\n});\n\n\n'use strict';\n\nfunction di(name, provider) {\n  var\n    error,\n    baseProvider,\n    providers,\n    instances;\n\n  providers = di.providers = di.providers || {};\n  instances = di.instaces = di.instaces || {};\n\n  if (provider) {\n    if (instances.hasOwnProperty(name)) {\n      error = new Error('Cannot override instantiated service \"' + name + '\"');\n      console.error(error);\n      throw error;\n    }\n    if (!(provider instanceof Function)) {\n      error = new Error('Incorrect provider function \"' + name + '\"');\n      console.error(error);\n      throw error;\n    }\n\n    if (providers.hasOwnProperty(name)) {\n      baseProvider = providers[name];\n      providers[name] = function(di) {\n        return new provider(di, new baseProvider(di));\n      };\n    }\n    else {\n      providers[name] = provider;\n    }\n  }\n  else {\n    if (!providers[name]) {\n      error = new Error('Cannot found service provider \"' + name + '\"');\n      console.error(error);\n      throw error;\n    }\n    if (!instances.hasOwnProperty(name)) {\n      try {\n        instances[name] = new providers[name](di);\n      }\n      catch(error) {\n        console.error(error);\n        throw error;\n      }\n    }\n    return instances[name];\n  }\n}\n\n\n'use strict';\n\ndi('iconManager', function(di) {\n\n  var\n    CHECK_URL_REGEX = /[-a-zA-Z0-9@:%_\\+.~#?&//=]{2,256}\\.[a-z]{2,4}\\b(\\/[-a-zA-Z0-9@:%_\\+.~#?&//=]*)?/i,\n    DEFAULT_ICON_SIZE = 24,\n    SINGLE_ICONS_COLLECTION_ID = '__SINGLE_ICONS_COLLECTION';\n\n  function IconManager() {\n    this._collections = {};\n    this._defaultCollectionId = null;\n    this._defaultIconSize = DEFAULT_ICON_SIZE;\n  }\n\n  IconManager.prototype = {\n\n    addIcon: function(id, urlConfig, options) {\n      var\n        url = urlConfig,\n        ext;\n\n      if (typeof urlConfig == 'object') {\n        url = urlConfig.url;\n      }\n      ext = typeof url == 'function'\n        ? getExt(url())\n        : getExt(url + '');\n\n      return ext == 'svg'\n        ? this.addSvgIcon(id, urlConfig, options)\n        : this.addImageIcon(id, urlConfig)\n      ;\n\n      function getExt(url) {\n        return ((url.split('?')[0] || '').split('.').slice(-1)[0] || '').toLowerCase();\n      }\n    },\n\n    addSvgIcon: function(id, urlConfig, options) {\n      var\n        SvgIconScope = di('SvgIconScope');\n      this._getSingleIconsCollection().add(new SvgIconScope(id, urlConfig, options));\n      return this;\n    },\n\n    addImageIcon: function(id, urlConfig, options) {\n      var\n        ImageIconScope = di('ImageIconScope');\n      this._getSingleIconsCollection().add(new ImageIconScope(id, urlConfig, options));\n      return this;\n    },\n\n    addSvgIconSet: function(id, urlConfig, options) {\n      var\n        SvgCumulativeIconSetScope = di('SvgCumulativeIconSetScope'),\n        SvgIconSetScope = di('SvgIconSetScope'),\n        ScopeConstructor;\n\n      options = options || {};\n\n      ScopeConstructor = options.cumulative\n        ? SvgCumulativeIconSetScope\n        : SvgIconSetScope;\n\n      this._getCollection(id).add(new ScopeConstructor(id, urlConfig, options));\n\n      return this;\n    },\n\n    addFontIconSet: function(id, classConfig) {\n      var\n        FontIconSetScope = di('FontIconSetScope');\n      this._getCollection(id).add(new FontIconSetScope(id, classConfig));\n      return this;\n    },\n\n    addSpriteIconSet: function(id, classConfig) {\n      var\n        SpriteIconSetScope = di('SpriteIconSetScope');\n      this._getCollection(id).add(new SpriteIconSetScope(id, classConfig));\n      return this;\n    },\n\n    addIconSetAlias: function(id, alias) {\n      if (!this._collections.hasOwnProperty(alias)) {\n        this._collections[alias] = this._getCollection(id);\n      }\n      return this;\n    },\n\n    setDefaultIconSet: function(id) {\n      this._defaultCollectionId = id;\n      return this;\n    },\n\n    setDefaultIconSize: function(iconSize) {\n      this._defaultIconSize = iconSize;\n      return this;\n    },\n\n    getDefaultIconSize: function() {\n      return this._defaultIconSize;\n    },\n\n    preload: function() {\n      var\n        collections = this._collections;\n\n      Object.keys(collections).forEach(function(id) {\n        collections[id].preload();\n      });\n\n    },\n\n    getIcon: function(id, params) {\n      var\n        parts,\n        delimiterPosition,\n        iconId,\n        iconSetId;\n\n      id = id || '';\n      params = params || [];\n      parts = id\n        .split(/\\s+/)\n        .filter(function(value) {\n          return value;\n        });\n      id = parts[0];\n      Array.prototype.push.apply(params, parts.slice(1));\n\n      if (CHECK_URL_REGEX.test(id)) {\n        if (!this.hasSingleIcon(id)) {\n          this.addIcon(id, id);\n        }\n        return this._getSingleIconsCollection().getIcon(id, params)\n          .then(null, announceIconNotFoundForPromiseCatch(id));\n      }\n      iconId = id;\n      iconSetId = null;\n      delimiterPosition = id.indexOf(':');\n      if (delimiterPosition != -1) {\n        iconSetId = id.slice(0, delimiterPosition);\n        iconId = id.slice(delimiterPosition+1);\n      }\n\n      if (iconSetId) {\n        if (this.hasIconSet(iconSetId)) {\n          return this._getCollection(iconSetId).getIcon(iconId, params)\n            .then(null, announceIconNotFoundForPromiseCatch(iconId, iconSetId));\n        }\n      }\n      else {\n        if (this.hasSingleIcon(iconId)) {\n          return this._getSingleIconsCollection().getIcon(iconId, params)\n            .then(null, announceIconNotFoundForPromiseCatch(iconId));\n        }\n        if (this.hasDefaultIconSet()) {\n          return this._getCollection(this._defaultCollectionId).getIcon(iconId, params)\n            .then(null, announceIconNotFoundForPromiseCatch(iconId, this._defaultCollectionId));\n        }\n      }\n\n      return announceIconNotFound(id);\n    },\n\n    hasSingleIcon: function(id) {\n      return this._getSingleIconsCollection()\n        .collection\n        .filter(function(scope) {\n          return scope.hasIcon(id);\n        })\n        .length > 0;\n    },\n\n    hasIconSet: function(id) {\n      return this._collections.hasOwnProperty(id);\n    },\n\n    hasDefaultIconSet: function() {\n      return this._defaultCollectionId && this.hasIconSet(this._defaultCollectionId);\n    },\n\n    _getCollection: function(id) {\n      var\n        ScopeCollection = di('ScopeCollection');\n      if (!this._collections.hasOwnProperty(id)) {\n        this._collections[id] = new ScopeCollection();\n      }\n      return this._collections[id];\n    },\n\n    _getSingleIconsCollection: function() {\n      return this._getCollection(SINGLE_ICONS_COLLECTION_ID);\n    }\n\n  };\n\n\n  function announceIconNotFound(iconId, iconSetId) {\n    var\n      log = di('log'),\n      Promise = di('Promise'),\n      errorMessage = 'icon \"' + iconId + '\" not found';\n\n    if (iconSetId) {\n      errorMessage += ' in \"' + iconSetId + '\" icon set';\n    }\n    log.warn(errorMessage);\n    return Promise.reject(errorMessage);\n  }\n\n  function announceIconNotFoundForPromiseCatch(iconId, iconSetId) {\n    return function() {\n      return announceIconNotFound(iconId, iconSetId);\n    }\n  }\n\n\n\n  return new IconManager;\n\n\n});\n\n\n'use strict';\n\ndi('inherit', function() {\n\n  return function inherit(Constructor, Parent, methods, properties) {\n    Constructor.prototype = Object.create(Parent.prototype, properties || {});\n    Object.keys(methods || {})\n      .forEach(function(name) {\n        Constructor.prototype[name] = methods[name];\n      });\n\n    return Constructor;\n  };\n\n});\n'use strict';\n\ndi('initIconElement', function(di) {\n\n  return function initIconElement(element, alt) {\n    var\n      ICON_CLASS = 'i8-icon'\n      ;\n\n    expectAlt(element, alt || '');\n    if (!element.hasClass(ICON_CLASS)) {\n      element.addClass(ICON_CLASS);\n    }\n  };\n\n  function expectAlt(element, alt) {\n\n    if (alt != '' && !parentsHaveText()) {\n      expectAria('aria-label', alt);\n      expectAria('role', 'img');\n    }\n    else {\n      expectAria('aria-hidden', 'true');\n    }\n\n    function expectAria(attrName, defaultValue) {\n      var\n        node = element[0];\n\n      if (!node.hasAttribute(attrName) && !childHasAttribute(node, attrName)) {\n        defaultValue = (typeof defaultValue == 'string') ? defaultValue.trim() : '';\n        if (defaultValue.length) {\n          element.attr(attrName, defaultValue);\n        }\n      }\n\n      function childHasAttribute(node, attrName) {\n        var\n          hasChildren = node.hasChildNodes(),\n          children,\n          index,\n          child;\n\n        if (hasChildren) {\n          children = node.childNodes;\n          for(index = 0; index < children.length; index++){\n            child = children[index];\n            if(child.nodeType === 1 && child.hasAttribute(attrName) && !isHidden(child)) {\n              return true;\n            }\n          }\n        }\n        return false;\n\n        function isHidden(node) {\n          var\n            style = node.currentStyle\n              ? node.currentStyle\n              : window.getComputedStyle(node);\n          return style.display === 'none';\n        }\n      }\n    }\n\n    function parentsHaveText() {\n      var\n        parent = element.parent();\n\n      if (parent.attr('aria-label') || parent.text().trim()) {\n        return true;\n      }\n      if (parent.prop('tagName') != 'BODY') {\n        if (parent.parent().attr('aria-label') || parent.parent().text().trim()) {\n          return true;\n        }\n      }\n      return false;\n    }\n\n  }\n\n});\n'use strict';\n\ndi('loadSvgByUrl', function(di) {\n\n  return function loadSvgByUrl(urlConfig) {\n    var\n      httpGet = di('httpGet'),\n      log = di('log'),\n      Promise = di('Promise'),\n      el = di('nodeWrapper'),\n      url = urlConfig,\n      params = null\n      ;\n\n    if (typeof urlConfig == 'object') {\n      url = urlConfig.url;\n      params = urlConfig.params;\n    }\n\n    return httpGet(url, params)\n      .then(function(response) {\n        var\n          element = el('<div>').append(response.data),\n          svgElement = element.find('svg');\n        return svgElement.length > 0\n          ? svgElement\n          : element.children().first()\n          ;\n      }, function(response) {\n        var\n          message = typeof response == 'string'\n            ? response\n            : String(response.message || response.data || response.responseText || response.statusText);\n\n        log.warn(message);\n        return Promise.reject(message);\n      });\n  }\n\n});\n\n'use strict';\n\ndi('parseSvgOptions', function() {\n\n  return function parseSvgOptions(options) {\n    if (options) {\n      switch(typeof options) {\n        case 'number':\n          options = {\n            iconSize: options\n          };\n          break;\n        case 'string':\n          options = {\n            viewBox: options\n          };\n          break;\n      }\n    }\n    else {\n      options = {};\n    }\n\n    return {\n      iconSize: options.iconSize,\n      viewBox: options.viewBox\n    }\n  }\n\n});\n'use strict';\n\ndi('publicApi', function(di) {\n  var \n    iconManager = di('iconManager');\n  \n  return {\n    icon: function(id, urlConfig, iconSize) {\n      iconManager.addIcon(id, urlConfig, iconSize);\n      return this;\n    },\n\n    iconSet: function(id, urlConfig, iconSize) {\n      iconManager.addSvgIconSet(id, urlConfig, iconSize);\n      return this;\n    },\n\n    font: function(id, classConfig) {\n      iconManager.addFontIconSet(id, classConfig);\n      return this;\n    },\n\n    sprite: function(id, classConfig) {\n      iconManager.addSpriteIconSet(id, classConfig);\n      return this;\n    },\n\n    sourceAlias: function(id, alias) {\n      iconManager.addIconSetAlias(id, alias);\n      return this;\n    },\n\n    defaultIconSetUrl: function(url, iconSize) {\n      iconManager\n        .addSvgIconSet(url, url, iconSize)\n        .setDefaultIconSet(url);\n      return this;\n    },\n\n    defaultSource: function(id) {\n      iconManager.setDefaultIconSet(id);\n      return this;\n    },\n\n    defaultIconSize: function(iconSize) {\n      iconManager.setDefaultIconSize(iconSize);\n      return this;\n    },\n\n    preload: function() {\n      iconManager.preload();\n      return this;\n    }\n\n  };\n\n});\n'use strict';\n\nfunction ready(fn) {\n  var\n    functions;\n\n  functions = ready.functions = ready.functions || [];\n\n  if (fn) {\n    functions.push(fn);\n  }\n  else {\n    functions.forEach(function(fn) {\n      fn(di);\n    });\n  }\n}\n\n'use strict';\n\nready(function(di) {\n  var\n    nodeWrapper = di('nodeWrapper');\n\n  nodeWrapper(window.document).find('head').prepend(\n    '<style type=\"text/css\">@charset \"UTF-8\";.i8-svg-icon,.i8-image-icon{display:inline-block}.i8-svg-icon svg{fill:currentColor}</style>'\n  );\n\n});\n'use strict';\n\ndi('AbstractCssClassIcon', function() {\n  var\n    AbstractIcon = di('AbstractIcon'),\n    inherit = di('inherit')\n    ;\n\n  function AbstractCssClassIcon(iconClassName, className) {\n    AbstractIcon.call(this, iconClassName);\n    this.className = className;\n  }\n\n  return inherit(AbstractCssClassIcon, AbstractIcon, {\n\n    render: function(element) {\n      var\n        classList,\n        addedClassName,\n        cleaner;\n\n      function getClassList() {\n        return element\n          .attr('class')\n          .split(/\\s+/);\n      }\n\n      function getAddedClassList(classList) {\n        var\n          currClassList = getClassList();\n        classList = classList || [];\n        return currClassList.filter(function(className) {\n          return classList.indexOf(className) == -1;\n        });\n      }\n\n      cleaner = AbstractIcon.prototype.render.call(this, element);\n\n      classList = getClassList();\n      element.addClass(this.className);\n      addedClassName = getAddedClassList(classList).join(' ');\n\n      return function() {\n        element.removeClass(addedClassName);\n        cleaner && cleaner();\n      }\n    }\n\n  });\n\n});\n'use strict';\n\ndi('AbstractElementIcon', function() {\n  var\n    AbstractIcon = di('AbstractIcon'),\n    inherit = di('inherit')\n    ;\n\n  function AbstractElementIcon(iconClassName, element) {\n    AbstractIcon.call(this, iconClassName);\n    this.element = element;\n  }\n\n  return inherit(AbstractElementIcon, AbstractIcon, {\n\n    cloneNode: function() {\n      return this.element[0].cloneNode(true);\n    },\n\n    render: function(element) {\n      var\n        cleaner;\n\n      cleaner = AbstractIcon.prototype.render.call(this, element);\n      element.append(this.cloneNode());\n\n      return function() {\n        while (element.firstChild) {\n          element.removeChild(element.firstChild);\n        }\n        cleaner && cleaner();\n      }\n    }\n\n  });\n\n});\n'use strict';\n\ndi('AbstractIcon', function() {\n\n  function AbstractIcon(iconClassName) {\n    this.iconClassName = iconClassName;\n  }\n\n  AbstractIcon.prototype = {\n\n    render: function(element) {\n      var\n        iconClassName = this.iconClassName;\n      element.addClass(iconClassName);\n      return function() {\n        element.removeClass(iconClassName);\n      }\n    }\n\n  };\n\n  return AbstractIcon;\n  \n\n});\n'use strict';\n\ndi('FontIcon', function() {\n  var\n    AbstractCssClassIcon = di('AbstractCssClassIcon'),\n    inherit = di('inherit')\n    ;\n\n  function FontIcon(className) {\n    var\n      FONT_ICON_CLASS = 'i8-font-icon';\n\n    AbstractCssClassIcon.call(this, FONT_ICON_CLASS, className);\n  }\n\n  return inherit(FontIcon, AbstractCssClassIcon);\n\n});\n'use strict';\n\ndi('ImageIcon', function(di) {\n  var\n    AbstractElementIcon = di('AbstractElementIcon'),\n    inherit = di('inherit')\n    ;\n\n  function ImageIcon(element) {\n    var\n      IMAGE_ICON_CLASS = 'i8-image-icon';\n\n    element.attr({\n      width: '100%',\n      height: '100%'\n    });\n\n    element.css({\n      \"pointer-events\": 'none',\n      display: 'inline-block'\n    });\n\n    AbstractElementIcon.call(this, IMAGE_ICON_CLASS, element);\n  }\n\n  ImageIcon.loadByUrl = function(urlConfig) {\n    var\n      buildUrlParams = di('buildUrlParams'),\n      nodeWrapper = di('nodeWrapper'),\n      Promise = di('Promise'),\n      url = urlConfig,\n      query,\n      element\n      ;\n\n    if (typeof urlConfig == 'object') {\n      url = urlConfig.url;\n      query = buildUrlParams(urlConfig.params);\n      if (query) {\n        url = [url, query].join('?');\n      }\n    }\n\n    return new Promise(function(resolve, reject) {\n      element = nodeWrapper('<img>');\n      element.bind('load', function() {\n        resolve(new ImageIcon(element));\n      });\n      element.bind('error', reject);\n      element.attr('src', url);\n    });\n\n  };\n\n  return inherit(ImageIcon, AbstractElementIcon);\n\n});\n'use strict';\n\ndi('SpriteIcon', function() {\n  var\n    AbstractCssClassIcon = di('AbstractCssClassIcon'),\n    inherit = di('inherit')\n    ;\n\n  function SpriteIcon(className) {\n    var\n      SPRITE_ICON_CLASS = 'i8-sprite-icon';\n\n    AbstractCssClassIcon.call(this, SPRITE_ICON_CLASS, className);\n  }\n\n  return inherit(SpriteIcon, AbstractCssClassIcon);\n\n});\n'use strict';\n\ndi('SvgIcon', function(di) {\n  var\n    AbstractElementIcon = di('AbstractElementIcon'),\n    inherit = di('inherit')\n    ;\n\n  function SvgIcon(element, options) {\n    var\n      SVG_ICON_CLASS = 'i8-svg-icon',\n      nodeWrapper = di('nodeWrapper'),\n      iconManager = di('iconManager'),\n      parseSvgOptions = di('parseSvgOptions'),\n      svgElement,\n      svgNode,\n      attributes,\n      styles,\n      defaultAttributes,\n      index,\n      node,\n      iconSize;\n\n    options = parseSvgOptions(options);\n\n    element.removeAttr('id');\n\n    node = element[0];\n    if (node.tagName != 'svg') {\n      if (node.tagName == 'symbol') {\n        svgElement = nodeWrapper('<svg xmlns=\"http://www.w3.org/2000/svg\">');\n        svgNode = svgElement[0];\n        attributes = node.attributes;\n        for (index = 0; index < attributes.length; index++) {\n          svgNode.setAttribute(attributes[index].name, attributes[index].value);\n        }\n        element = svgElement.append(node.children);\n      }\n      else {\n        element = nodeWrapper('<svg xmlns=\"http://www.w3.org/2000/svg\">').append(element);\n      }\n    }\n    node = element[0];\n\n    defaultAttributes = {\n      xmlns: 'http://www.w3.org/2000/svg',\n      version: '1.0'\n    };\n\n    Object.keys(defaultAttributes)\n      .forEach(function(name) {\n        if (!node.getAttribute(name)) {\n          node.setAttribute(name, defaultAttributes[name]);\n        }\n      });\n\n    iconSize = options.iconSize || iconManager.getDefaultIconSize();\n\n    attributes = {\n      fit: '',\n      height: '100%',\n      width: '100%',\n      preserveAspectRatio: 'xMidYMid meet',\n      viewBox: node.getAttribute('viewBox') || options.viewBox || ('0 0 ' + iconSize + ' ' + iconSize)\n    };\n\n    Object.keys(attributes)\n      .forEach(function(name) {\n        node.setAttribute(name, attributes[name]);\n      });\n\n    styles = {\n      \"pointer-events\": 'none',\n      display: 'inline-block'\n    };\n\n    Object.keys(styles)\n      .forEach(function(name) {\n        node.style[name] = styles[name];\n      });\n\n    this.iconSize = iconSize;\n\n    AbstractElementIcon.call(this, SVG_ICON_CLASS, element);\n  }\n\n  SvgIcon.loadByUrl = function(url, options) {\n    var\n      loadSvgByUrl = di('loadSvgByUrl');\n\n    return loadSvgByUrl(url)\n      .then(function(element) {\n        return new SvgIcon(\n          element,\n          options\n        )\n      });\n  };\n\n  return inherit(SvgIcon, AbstractElementIcon);\n\n});\n\n'use strict';\n\ndi('AbstractCssClassIconSetScope', function(di) {\n  var\n    AbstractScope = di('AbstractScope'),\n    inherit = di('inherit')\n    ;\n\n  function AbstractCssClassIconSetScope(id, classResolver) {\n\n    AbstractScope.call(this, id);\n    this.classResolver = parseClassResolver(classResolver);\n  }\n\n  return inherit(AbstractCssClassIconSetScope, AbstractScope);\n\n  function parseClassResolver(classResolver) {\n    var\n      parts;\n    if (typeof classResolver == 'function') {\n      return classResolver;\n    }\n    classResolver = (classResolver || '') + '';\n\n    parts = classResolver.split(/[?%]/);\n    return function(id) {\n      return parts.join(id);\n    }\n  }\n\n});\n'use strict';\n\ndi('AbstractRemoteResourceScope', function(di) {\n  var\n    AbstractScope = di('AbstractScope'),\n    inherit = di('inherit')\n  ;\n\n  function AbstractRemoteResourceScope(id, urlConfig) {\n    AbstractScope.call(this, id);\n\n    this.urlResolver = parseUrlResolver(urlConfig);\n    this._cache = null;\n    this._resource = null;\n  }\n\n  return inherit(AbstractRemoteResourceScope, AbstractScope, {\n\n    preload: function() {\n      return this._getResource();\n    },\n\n    _getResource: function() {\n      var\n        promise,\n        self = this;\n\n      if (this._cache) {\n        return this._cache;\n      }\n      promise = this._cache = this._loadResource();\n      promise.then(null,\n        function(resource) {\n          self._resource = resource;\n        },\n        function() {\n          self._cache = null;\n        }\n      );\n\n      return promise;\n    },\n\n    _loadResource: function() {\n      var\n        Promise = di('Promise');\n      return Promise.reject();\n    }\n\n  });\n\n  function parseUrlResolver(urlConfig) {\n    var\n      mergeObjects = di('mergeObjects'),\n      url,\n      urlFn,\n      params = null;\n\n    if (url && typeof url == 'object') {\n      url = urlConfig.url;\n      params = urlConfig.params;\n    }\n    else {\n      url = urlConfig;\n    }\n\n    urlFn = (typeof url == 'function')\n      ? url\n      : function() { return url; };\n\n    return function(/* value[, value[, ...]]] */) {\n      var\n        urlConfig,\n        _params = null,\n        url\n        ;\n\n      urlConfig = urlFn.apply(null, Array.prototype.slice.call(arguments));\n      url = urlConfig;\n      if (urlConfig && typeof urlConfig == 'object') {\n        url = urlConfig.url;\n        _params = urlConfig.params;\n      }\n\n      return {\n        url: url,\n        params: mergeObjects({}, params || {}, _params || {})\n      }\n    };\n  }\n\n});\n'use strict';\n\ndi('AbstractRemoteSvgResourceScope', function(di) {\n  var\n    AbstractRemoteResourceScope = di('AbstractRemoteResourceScope'),\n    inherit = di('inherit')\n  ;\n\n  function AbstractRemoteSvgResourceScope(id, urlConfig, svgOptions) {\n    var\n      parseSvgOptions = di('parseSvgOptions');\n\n    AbstractRemoteResourceScope.call(this, id, urlConfig);\n\n    this.svgOptions = parseSvgOptions(svgOptions);\n  }\n\n  return inherit(AbstractRemoteSvgResourceScope, AbstractRemoteResourceScope);\n\n});\n'use strict';\n\ndi('AbstractScope', function() {\n\n  function AbstractScope(id) {\n    this.id = id;\n  }\n\n  AbstractScope.prototype = {\n\n    preload: function() {\n      return true;\n    },\n\n    hasIcon: function() {\n      return true;\n    }\n\n  };\n\n  return AbstractScope;\n\n});\n'use strict';\n\ndi('FontIconSetScope', function(di) {\n  var\n    AbstractCssClassIconSetScope = di('AbstractCssClassIconSetScope'),\n    inherit = di('inherit')\n    ;\n\n  function FontIconSetScope(id, classResolver) {\n    AbstractCssClassIconSetScope.call(this, id, classResolver);\n  }\n\n  return inherit(FontIconSetScope, AbstractCssClassIconSetScope, {\n\n    getIcon: function(iconId, params) {\n      var\n        FontIcon = di('FontIcon');\n      return new FontIcon(this.classResolver(iconId, params));\n    }\n\n  });\n\n});\n'use strict';\n\ndi('ImageIconScope', function(di) {\n  var\n    AbstractRemoteResourceScope = di('AbstractRemoteResourceScope'),\n    inherit = di('inherit')\n    ;\n\n  function ImageIconScope(id, urlConfig) {\n    AbstractRemoteResourceScope.call(this, id, urlConfig);\n  }\n\n  return inherit(ImageIconScope, AbstractRemoteResourceScope, {\n\n    _loadResource: function() {\n      var\n        ImageIcon = di('ImageIcon');\n      return ImageIcon.loadByUrl(this.urlResolver());\n    },\n\n    hasIcon: function(iconId) {\n      return iconId == this.id;\n    },\n\n    getIcon: function() {\n      return this._getResource();\n    }\n\n  });\n\n});\n'use strict';\n\ndi('SpriteIconSetScope', function(di) {\n  var\n    AbstractCssClassIconSetScope = di('AbstractCssClassIconSetScope'),\n    inherit = di('inherit')\n    ;\n\n  function SpriteIconSetScope(id, classResolver) {\n    AbstractCssClassIconSetScope.call(this, id, classResolver);\n  }\n\n  return inherit(SpriteIconSetScope, AbstractCssClassIconSetScope, {\n\n    getIcon: function(iconId) {\n      var\n        SpriteIcon = di('SpriteIcon');\n      return new SpriteIcon(this.classResolver(iconId));\n    }\n\n  });\n\n});\n'use strict';\n\ndi('SvgCumulativeIconSetScope', function(di) {\n  var\n    AbstractRemoteSvgResourceScope = di('AbstractRemoteSvgResourceScope'),\n    inherit = di('inherit')\n    ;\n\n  function SvgCumulativeIconSetScope(id, urlConfig, options) {\n    var\n      DEFAULT_WAIT_DURATION = 10;\n\n    AbstractRemoteSvgResourceScope.call(this, id, urlConfig, options);\n    options = options && typeof options == 'object'\n      ? options\n      : {};\n\n    this.iconIdResolver = typeof options.iconIdResolver == 'function'\n      ? options.iconIdResolver\n      : null;\n\n    this.waitDuration = options.waitDuration || DEFAULT_WAIT_DURATION;\n    this.waitPromise = null;\n    this.waitIconIds = [];\n  }\n\n  return inherit(SvgCumulativeIconSetScope, AbstractRemoteSvgResourceScope, {\n\n    _loadResource: function() {\n      var\n        SvgIconSet = di('SvgIconSet');\n      return SvgIconSet.loadByUrl(this.urlResolver(this.waitIconIds), this.svgOptions);\n    },\n\n    preload: function() {\n      return true;\n    },\n\n    getIcon: function(iconId, params) {\n      var\n        Promise = di('Promise'),\n        timeout = di('timeout'),\n        self = this;\n\n      if (this.iconIdResolver) {\n        iconId = this.iconIdResolver(iconId, params);\n      }\n\n      if (this._resource && this._resource.exists(iconId)) {\n        return Promise.resolve(this._resource.getIconById(iconId));\n      }\n\n      if (this.waitPromise) {\n        if (this.waitIconIds.indexOf(iconId) == -1) {\n          this.waitIconIds.push(iconId);\n        }\n      }\n      else {\n        this.waitIconIds = [iconId];\n        this.waitPromise = timeout(this.waitDuration).then(function() {\n          self.waitPromise = null;\n          if (!self._resource) {\n            return self._getResource();\n          }\n          return self._resource.mergeByUrl(\n            self.urlResolver(self._resource.notExists(self.waitIconIds)),\n            self.svgOptions\n          );\n        });\n      }\n\n      return this.waitPromise\n        .then(function(iconSet) {\n          var\n            icon = iconSet.getIconById(iconId);\n          return icon\n            ? icon\n            : Promise.reject();\n        });\n    }\n\n  });\n\n});\n'use strict';\n\ndi('SvgIconScope', function(di) {\n  var\n    AbstractRemoteSvgResourceScope = di('AbstractRemoteSvgResourceScope'),\n    inherit = di('inherit')\n    ;\n\n  function SvgIconScope(id, urlConfig, svgOptions) {\n    AbstractRemoteSvgResourceScope.call(this, id, urlConfig, svgOptions);\n  }\n\n  return inherit(SvgIconScope, AbstractRemoteSvgResourceScope, {\n\n    _loadResource: function() {\n      var\n        SvgIcon = di('SvgIcon');\n      return SvgIcon.loadByUrl(this.urlResolver(), this.svgOptions);\n    },\n\n    hasIcon: function(iconId) {\n      return iconId == this.id;\n    },\n\n    getIcon: function() {\n      return this._getResource();\n    }\n\n  });\n\n});\n'use strict';\n\ndi('SvgIconSetScope', function(di) {\n  var\n    AbstractRemoteSvgResourceScope = di('AbstractRemoteSvgResourceScope'),\n    inherit = di('inherit')\n    ;\n\n  function SvgIconSetScope(id, urlConfig, svgOptions) {\n    AbstractRemoteSvgResourceScope.call(this, id, urlConfig, svgOptions);\n  }\n\n  return inherit(SvgIconSetScope, AbstractRemoteSvgResourceScope, {\n\n    _loadResource: function() {\n      var\n        SvgIconSet = di('SvgIconSet');\n      return SvgIconSet.loadByUrl(this.urlResolver(), this.svgOptions);\n    },\n\n    hasIcon: function(iconId) {\n      return this._getResource()\n        .then(function(iconSet) {\n          return iconSet.exists(iconId);\n        })\n    },\n\n    getIcon: function(iconId) {\n      var\n        Promise = di('Promise');\n\n      return this._getResource()\n        .then(function(iconSet) {\n          var\n            icon = iconSet.getIconById(iconId);\n          return icon\n            ? icon\n            : Promise.reject();\n        })\n    }\n\n  });\n\n});\n'use strict';\n\nready(function(di) {\n  var\n    iconManager = di('iconManager');\n\n  iconManager\n    .addFontIconSet(\n      'fa',\n      function(name, params) {\n        var\n          classBuilder = [\n            'fa',\n            'fa-' + name\n          ];\n        params = params || [];\n        Array.prototype.push.apply(\n          classBuilder,\n          params.map(function(param) {\n            return 'fa-'+param\n          })\n        );\n        return classBuilder.join(' ')\n      }\n    );\n\n});\n\n'use strict';\n\nready(function(di) {\n  var\n    iconManager = di('iconManager');\n\n  iconManager\n    .addIconSetAlias('glyphicon', 'gi')\n    .addFontIconSet('glyphicon', 'glyphicon glyphicon-?');\n\n});\n'use strict';\n\ndi('i8ApiConfig', function() {\n  return {\n    gateway: {\n      url: '//api.icons8.com/icon-sets'\n    }\n  };\n});\n\n'use strict';\n\nready(function(di) {\n  var\n    iconManager = di('iconManager'),\n    platforms = {\n      ios8: ['ios', 'ios7', 'i'],\n      win8: ['win', 'w'],\n      android: ['kitkat', 'ak', 'a-k', 'k'],\n      androidL: ['android-l', 'al', 'a-l', 'l'],\n      colored: ['color', 'c']\n    },\n    platformsMap,\n    possiblePrefixes;\n\n  platformsMap = {};\n  Object.keys(platforms).forEach(function(platform) {\n    platformsMap[platform.toLowerCase()] = platform;\n    platforms[platform].forEach(function(alias) {\n      platformsMap[alias] = platform;\n    });\n  });\n\n  possiblePrefixes = Object.keys(platforms)\n    .map(function(platform) {\n      return platform.toLowerCase();\n    });\n  possiblePrefixes.push(\n    'ios7'\n  );\n\n  iconManager\n    .setDefaultIconSet('i8')\n    .addSvgIconSet(\n      'i8',\n      function(icons) {\n        var\n          options = {\n            url: di('i8ApiConfig').gateway.url,\n            params: {}\n          };\n\n        if (icons) {\n          if (!Array.isArray(icons)) {\n            icons = [icons];\n          }\n          options.params.icons = icons.join(',');\n        }\n        return options;\n      },\n      {\n        cumulative: true,\n        iconIdResolver: function(id, params) {\n          var\n            index,\n            position,\n            prefix;\n          id = String(id || '');\n          if (!Array.isArray(params)) {\n            params = [];\n          }\n          params = params.map(function(param) {\n            return String(param).toLowerCase();\n          });\n          for (index = 0; index < params.length; index++) {\n            if (platformsMap.hasOwnProperty(params[index])) {\n              return [platformsMap[params[index]], id].join('-');\n            }\n          }\n          position = id.indexOf('-');\n          if (position > 0) {\n            prefix = id.slice(0, position).toLowerCase();\n            if (possiblePrefixes.indexOf(prefix)) {\n              return [platformsMap[prefix], id.slice(position + 1)].join('-');\n            }\n          }\n          return [platformsMap['c'], id].join('-');\n        }\n      }\n    );\n\n});\n\n\n'use strict';\n\ndi('buildUrlParams', function() {\n\n  return function buildUrlParams(params) {\n    var\n      parts = [];\n\n    params = params || {};\n    Object.keys(params)\n      .filter(function() {\n        return typeof params[key] != 'undefined' && params[key] !== null;\n      })\n      .map(function(key) {\n        return !Array.isArray(params[key])\n          ? [params[key]]\n          : params[key];\n      })\n      .forEach(function(key) {\n        params[key].forEach(function(value) {\n          parts.push(encodeURIComponent(key) + '=' + encodeURIComponent(value + ''));\n        });\n      });\n\n    return parts.join('&');\n  };\n\n});\n'use strict';\n\ndi('mergeObjects', function() {\n\n  return function mergeObjects(to /*, from [, from[, ...]]*/) {\n    var\n      args = Array.prototype.slice.call(arguments);\n    if (args.length == 0) {\n      return {};\n    }\n    if (args.length < 2) {\n      if (!Array.isArray(to)) {\n        return to;\n      }\n      args = to;\n      to = args[0];\n    }\n    args.slice(1).forEach(function(from) {\n      to = _merge(to, from);\n    });\n    return to;\n\n    function _merge(to, from) {\n      if (!to || !from || typeof to != 'object' || typeof from != 'object' || Array.isArray(to) || Array.isArray(from)) {\n        return from;\n      }\n      Object.keys(from).forEach(function(key) {\n        if (to.hasOwnProperty(key)) {\n          to[key] = _merge(to[key], from[key]);\n        }\n        else {\n          to[key] = from[key];\n        }\n      });\n      return to;\n    }\n  };\n\n});\n\n\n'use strict';\n\ndi('nodeWrapper', function() {\n  return angular.element;\n});\n'use strict';\n\ndi('publicApi', function(di, publicApi) {\n  delete publicApi.preload;\n  return publicApi;\n});\n'use strict';\n\ndi('registerDependencies', function(di) {\n\n  return function registerDependencies($injector) {\n    di('log', function() {\n      return $injector.get('$log');\n    });\n\n    di('httpGet', function() {\n      var\n        $http = $injector.get('$http'),\n        $templateCache = $injector.get('$templateCache')\n        ;\n\n      return function(url, params) {\n        var\n          options = {\n            cache: $templateCache\n          };\n        if (params) {\n          options.params = params;\n        }\n        return $http.get(url, options);\n      }\n    });\n\n    di('Promise', function() {\n      var\n        $q = $injector.get('$q'),\n        $rootScope = $injector.get('$rootScope');\n\n      function ensureDigestDecorator(fn) {\n        return function() {\n          var\n            args = Array.prototype.slice.call(arguments);\n\n          if (!$rootScope.$$phase) {\n            $rootScope.$apply(function() {\n              fn.apply(this, args);\n            })\n          }\n          else {\n            fn.apply(this, args);\n          }\n        }\n      }\n\n      function Promise(value) {\n        var\n          deferred;\n        if (typeof value != 'function') {\n          return Promise.resolve(value);\n        }\n        deferred = $q.defer();\n        value(\n          ensureDigestDecorator(deferred.resolve),\n          ensureDigestDecorator(deferred.reject)\n        );\n        return deferred.promise;\n      }\n\n      Promise.reject = $q.reject;\n      Promise.resolve = $q.when;\n      Promise.all = $q.all;\n\n      return Promise;\n    });\n\n    di('timeout', function() {\n      var\n        $timeout = $injector.get('$timeout');\n\n      return function(fn, delay) {\n        if (typeof fn != 'function') {\n          delay = fn;\n          fn = function() {};\n        }\n        return $timeout(fn, delay);\n      };\n    });\n\n  }\n\n});\n\n\n'use strict';\n\n\n/**\n * @ngdoc directive\n * @name i8Icon\n * @module i8.icon\n *\n * @restrict EA\n *\n * @description\n */\n\nfunction IconDirective($i8Icon) {\n  return {\n    restrict: 'EA',\n    scope: true,\n    link: function (scope, element, attrs) {\n      var\n        initIconElement = di('initIconElement'),\n        altAttrName = attrs.$normalize(attrs.$attr.alt || ''),\n        attrName =  attrs.$normalize(attrs.$attr.icon || attrs.$attr.i8Icon || ''),\n        cleaner = null\n        ;\n\n      initIconElement(element, attrs[altAttrName] || attrs[attrName]);\n\n      if (attrName) {\n        attrs.$observe(attrName, function(icon) {\n          cleaner && cleaner();\n          cleaner = null;\n          if (icon) {\n            $i8Icon(icon).then(function(icon) {\n              cleaner = icon.render(element);\n            });\n          }\n        });\n      }\n\n    }\n  };\n}\n\nIconDirective.$inject = [\n  '$i8Icon'\n];\n\n\n'use strict';\n\n\n/**\n * @ngdoc service\n * @name $i8IconProvider\n * @module i8.icon\n *\n * @description\n *\n */\n\nfunction IconProvider() {\n\n  this.$get = ['$injector', function($injector) {\n    var\n      iconManager = di('iconManager'),\n      registerDependencies = di('registerDependencies'),\n      iconService;\n\n    registerDependencies($injector);\n\n    iconService = function(id) {\n      return iconManager.getIcon(id);\n    };\n    iconService.preload = function() {\n      iconManager.preload();\n    };\n\n    return iconService;\n  }];\n\n}\n\nIconProvider.prototype = di('publicApi');\n\n\n'use strict';\n\n/**\n * @ngdoc module\n * @name i8.icon\n * @description\n * Icon\n */\nangular.module('i8.icon', [])\n  .provider('$i8Icon', IconProvider)\n  .directive('i8Icon', IconDirective)\n;\n\nready();\n\n})(window, window.angular);"],"sourceRoot":"/source/"}