{"version":3,"sources":["jquery-i8-icon.min.js"],"names":["window","jQuery","di","name","provider","error","baseProvider","providers","instances","instaces","Error","console","hasOwnProperty","Function","ready","fn","functions","push","forEach","IconPlugin","config","icon","_applyConfig","IconsPlugin","bootstraped","cancelBootstrap","this","each","I8_ICON_DATA_KEY","element","instance","data","options","refresh","IconController","initIconElement","_element","_getAlt","alt","_renderIcon","_getIconId","elements","selector","optionsApplied","is","i8icon","find","setBootstrapped","bootstrap","BOOTSTRAP_DELAY","timeout","then","document","i8icons","AbstractCssClassIcon","iconClassName","className","AbstractIcon","call","inherit","render","getClassList","attr","split","getAddedClassList","classList","currClassList","filter","indexOf","addedClassName","cleaner","prototype","addClass","join","removeClass","AbstractElementIcon","cloneNode","append","firstChild","removeChild","FontIcon","FONT_ICON_CLASS","ImageIcon","IMAGE_ICON_CLASS","width","height","css","pointer-events","display","loadByUrl","urlConfig","query","buildUrlParams","nodeWrapper","Promise","url","params","resolve","reject","bind","SpriteIcon","SPRITE_ICON_CLASS","SvgIcon","svgElement","svgNode","attributes","styles","defaultAttributes","index","node","iconSize","SVG_ICON_CLASS","iconManager","parseSvgOptions","removeAttr","tagName","length","setAttribute","value","children","xmlns","version","Object","keys","getAttribute","getDefaultIconSize","fit","preserveAspectRatio","viewBox","style","loadSvgByUrl","AbstractCssClassIconSetScope","id","classResolver","AbstractScope","parseClassResolver","parts","AbstractRemoteResourceScope","urlResolver","parseUrlResolver","_cache","_resource","urlFn","mergeObjects","_params","apply","Array","slice","arguments","preload","_getResource","promise","self","_loadResource","resource","AbstractRemoteSvgResourceScope","svgOptions","hasIcon","FontIconSetScope","getIcon","iconId","ImageIconScope","SpriteIconSetScope","SvgCumulativeIconSetScope","DEFAULT_WAIT_DURATION","iconIdResolver","waitDuration","waitPromise","waitIconIds","SvgIconSet","exists","getIconById","mergeByUrl","notExists","iconSet","SvgIconScope","SvgIconSetScope","ScopeCollection","collection","add","scope","unshift","all","map","item","getIconScope","scopes","nodes","log","icons","querySelectorAll","e","warn","ids","merge","IconManager","_collections","_defaultCollectionId","_defaultIconSize","DEFAULT_ICON_SIZE","announceIconNotFound","iconSetId","errorMessage","announceIconNotFoundForPromiseCatch","CHECK_URL_REGEX","SINGLE_ICONS_COLLECTION_ID","addIcon","getExt","toLowerCase","ext","addSvgIcon","addImageIcon","_getSingleIconsCollection","addSvgIconSet","ScopeConstructor","cumulative","_getCollection","addFontIconSet","classConfig","addSpriteIconSet","addIconSetAlias","alias","setDefaultIconSet","setDefaultIconSize","collections","delimiterPosition","test","hasSingleIcon","hasIconSet","hasDefaultIconSet","Constructor","Parent","methods","properties","create","expectAlt","expectAria","attrName","defaultValue","childHasAttribute","isHidden","currentStyle","getComputedStyle","child","hasChildren","hasChildNodes","childNodes","nodeType","hasAttribute","trim","parentsHaveText","parent","text","prop","ICON_CLASS","hasClass","httpGet","el","response","first","message","String","responseText","statusText","font","sprite","sourceAlias","defaultIconSetUrl","defaultSource","defaultIconSize","prepend","classBuilder","param","gateway","platformsMap","possiblePrefixes","platforms","ios8","win8","android","androidL","colored","platform","isArray","position","prefix","deferred","Deferred","_jqPromise","promises","jqPromises","result","when","done","fail","jqPromise","cache","compiledUrl","urlBuilder","ajax","dataType","success","getConsoleWriteDelegate","type","noop","logDebug","debug","debugEnabled","args","extend","concat","delay","resolveFn","_timeoutId","setTimeout","cancel","timeoutPromise","clearTimeout","normalizeConfigs","configs","normalizeConfigFilter","normalizeConfig","normalizeUrlBasedConfig","uri","normalizeClassNameBasedConfig","publicApi","iconSets","fonts","sprites","prefixes","match","exec","_renderedIconCleaner","_renderedIconId","isBootstrapped"],"mappings":"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","file":"jquery-i8-icon.min.js","sourcesContent":[";(function(window, jQuery) {\n\n'use strict';\n\ndi('AbstractCssClassIcon', function() {\n  var\n    AbstractIcon = di('AbstractIcon'),\n    inherit = di('inherit')\n    ;\n\n  function AbstractCssClassIcon(iconClassName, className) {\n    AbstractIcon.call(this, iconClassName);\n    this.className = className;\n  }\n\n  return inherit(AbstractCssClassIcon, AbstractIcon, {\n\n    render: function(element) {\n      var\n        classList,\n        addedClassName,\n        cleaner;\n\n      function getClassList() {\n        return element\n          .attr('class')\n          .split(/\\s+/);\n      }\n\n      function getAddedClassList(classList) {\n        var\n          currClassList = getClassList();\n        classList = classList || [];\n        return currClassList.filter(function(className) {\n          return classList.indexOf(className) == -1;\n        });\n      }\n\n      cleaner = AbstractIcon.prototype.render.call(this, element);\n\n      classList = getClassList();\n      element.addClass(this.className);\n      addedClassName = getAddedClassList(classList).join(' ');\n\n      return function() {\n        element.removeClass(addedClassName);\n        cleaner && cleaner();\n      }\n    }\n\n  });\n\n});\n'use strict';\n\ndi('AbstractElementIcon', function() {\n  var\n    AbstractIcon = di('AbstractIcon'),\n    inherit = di('inherit')\n    ;\n\n  function AbstractElementIcon(iconClassName, element) {\n    AbstractIcon.call(this, iconClassName);\n    this.element = element;\n  }\n\n  return inherit(AbstractElementIcon, AbstractIcon, {\n\n    cloneNode: function() {\n      return this.element[0].cloneNode(true);\n    },\n\n    render: function(element) {\n      var\n        cleaner;\n\n      cleaner = AbstractIcon.prototype.render.call(this, element);\n      element.append(this.cloneNode());\n\n      return function() {\n        while (element.firstChild) {\n          element.removeChild(element.firstChild);\n        }\n        cleaner && cleaner();\n      }\n    }\n\n  });\n\n});\n'use strict';\n\ndi('AbstractIcon', function() {\n\n  function AbstractIcon(iconClassName) {\n    this.iconClassName = iconClassName;\n  }\n\n  AbstractIcon.prototype = {\n\n    render: function(element) {\n      var\n        iconClassName = this.iconClassName;\n      element.addClass(iconClassName);\n      return function() {\n        element.removeClass(iconClassName);\n      }\n    }\n\n  };\n\n  return AbstractIcon;\n  \n\n});\n'use strict';\n\ndi('FontIcon', function() {\n  var\n    AbstractCssClassIcon = di('AbstractCssClassIcon'),\n    inherit = di('inherit')\n    ;\n\n  function FontIcon(className) {\n    var\n      FONT_ICON_CLASS = 'i8-font-icon';\n\n    AbstractCssClassIcon.call(this, FONT_ICON_CLASS, className);\n  }\n\n  return inherit(FontIcon, AbstractCssClassIcon);\n\n});\n'use strict';\n\ndi('ImageIcon', function(di) {\n  var\n    AbstractElementIcon = di('AbstractElementIcon'),\n    inherit = di('inherit')\n    ;\n\n  function ImageIcon(element) {\n    var\n      IMAGE_ICON_CLASS = 'i8-image-icon';\n\n    element.attr({\n      width: '100%',\n      height: '100%'\n    });\n\n    element.css({\n      \"pointer-events\": 'none',\n      display: 'inline-block'\n    });\n\n    AbstractElementIcon.call(this, IMAGE_ICON_CLASS, element);\n  }\n\n  ImageIcon.loadByUrl = function(urlConfig) {\n    var\n      buildUrlParams = di('buildUrlParams'),\n      nodeWrapper = di('nodeWrapper'),\n      Promise = di('Promise'),\n      url = urlConfig,\n      query,\n      element\n      ;\n\n    if (typeof urlConfig == 'object') {\n      url = urlConfig.url;\n      query = buildUrlParams(urlConfig.params);\n      if (query) {\n        url = [url, query].join('?');\n      }\n    }\n\n    return new Promise(function(resolve, reject) {\n      element = nodeWrapper('<img>');\n      element.bind('load', function() {\n        resolve(new ImageIcon(element));\n      });\n      element.bind('error', reject);\n      element.attr('src', url);\n    });\n\n  };\n\n  return inherit(ImageIcon, AbstractElementIcon);\n\n});\n'use strict';\n\ndi('SpriteIcon', function() {\n  var\n    AbstractCssClassIcon = di('AbstractCssClassIcon'),\n    inherit = di('inherit')\n    ;\n\n  function SpriteIcon(className) {\n    var\n      SPRITE_ICON_CLASS = 'i8-sprite-icon';\n\n    AbstractCssClassIcon.call(this, SPRITE_ICON_CLASS, className);\n  }\n\n  return inherit(SpriteIcon, AbstractCssClassIcon);\n\n});\n'use strict';\n\ndi('SvgIcon', function(di) {\n  var\n    AbstractElementIcon = di('AbstractElementIcon'),\n    inherit = di('inherit')\n    ;\n\n  function SvgIcon(element, options) {\n    var\n      SVG_ICON_CLASS = 'i8-svg-icon',\n      nodeWrapper = di('nodeWrapper'),\n      iconManager = di('iconManager'),\n      parseSvgOptions = di('parseSvgOptions'),\n      svgElement,\n      svgNode,\n      attributes,\n      styles,\n      defaultAttributes,\n      index,\n      node,\n      iconSize;\n\n    options = parseSvgOptions(options);\n\n    element.removeAttr('id');\n\n    node = element[0];\n    if (node.tagName != 'svg') {\n      if (node.tagName == 'symbol') {\n        svgElement = nodeWrapper('<svg xmlns=\"http://www.w3.org/2000/svg\">');\n        svgNode = svgElement[0];\n        attributes = node.attributes;\n        for (index = 0; index < attributes.length; index++) {\n          svgNode.setAttribute(attributes[index].name, attributes[index].value);\n        }\n        element = svgElement.append(node.children);\n      }\n      else {\n        element = nodeWrapper('<svg xmlns=\"http://www.w3.org/2000/svg\">').append(element);\n      }\n    }\n    node = element[0];\n\n    defaultAttributes = {\n      xmlns: 'http://www.w3.org/2000/svg',\n      version: '1.0'\n    };\n\n    Object.keys(defaultAttributes)\n      .forEach(function(name) {\n        if (!node.getAttribute(name)) {\n          node.setAttribute(name, defaultAttributes[name]);\n        }\n      });\n\n    iconSize = options.iconSize || iconManager.getDefaultIconSize();\n\n    attributes = {\n      fit: '',\n      height: '100%',\n      width: '100%',\n      preserveAspectRatio: 'xMidYMid meet',\n      viewBox: node.getAttribute('viewBox') || options.viewBox || ('0 0 ' + iconSize + ' ' + iconSize)\n    };\n\n    Object.keys(attributes)\n      .forEach(function(name) {\n        node.setAttribute(name, attributes[name]);\n      });\n\n    styles = {\n      \"pointer-events\": 'none',\n      display: 'inline-block'\n    };\n\n    Object.keys(styles)\n      .forEach(function(name) {\n        node.style[name] = styles[name];\n      });\n\n    this.iconSize = iconSize;\n\n    AbstractElementIcon.call(this, SVG_ICON_CLASS, element);\n  }\n\n  SvgIcon.loadByUrl = function(url, options) {\n    var\n      loadSvgByUrl = di('loadSvgByUrl');\n\n    return loadSvgByUrl(url)\n      .then(function(element) {\n        return new SvgIcon(\n          element,\n          options\n        )\n      });\n  };\n\n  return inherit(SvgIcon, AbstractElementIcon);\n\n});\n\n'use strict';\n\ndi('AbstractCssClassIconSetScope', function(di) {\n  var\n    AbstractScope = di('AbstractScope'),\n    inherit = di('inherit')\n    ;\n\n  function AbstractCssClassIconSetScope(id, classResolver) {\n\n    AbstractScope.call(this, id);\n    this.classResolver = parseClassResolver(classResolver);\n  }\n\n  return inherit(AbstractCssClassIconSetScope, AbstractScope);\n\n  function parseClassResolver(classResolver) {\n    var\n      parts;\n    if (typeof classResolver == 'function') {\n      return classResolver;\n    }\n    classResolver = (classResolver || '') + '';\n\n    parts = classResolver.split(/[?%]/);\n    return function(id) {\n      return parts.join(id);\n    }\n  }\n\n});\n'use strict';\n\ndi('AbstractRemoteResourceScope', function(di) {\n  var\n    AbstractScope = di('AbstractScope'),\n    inherit = di('inherit')\n  ;\n\n  function AbstractRemoteResourceScope(id, urlConfig) {\n    AbstractScope.call(this, id);\n\n    this.urlResolver = parseUrlResolver(urlConfig);\n    this._cache = null;\n    this._resource = null;\n  }\n\n  return inherit(AbstractRemoteResourceScope, AbstractScope, {\n\n    preload: function() {\n      return this._getResource();\n    },\n\n    _getResource: function() {\n      var\n        promise,\n        self = this;\n\n      if (this._cache) {\n        return this._cache;\n      }\n      promise = this._cache = this._loadResource();\n      promise.then(null,\n        function(resource) {\n          self._resource = resource;\n        },\n        function() {\n          self._cache = null;\n        }\n      );\n\n      return promise;\n    },\n\n    _loadResource: function() {\n      var\n        Promise = di('Promise');\n      return Promise.reject();\n    }\n\n  });\n\n  function parseUrlResolver(urlConfig) {\n    var\n      mergeObjects = di('mergeObjects'),\n      url,\n      urlFn,\n      params = null;\n\n    if (url && typeof url == 'object') {\n      url = urlConfig.url;\n      params = urlConfig.params;\n    }\n    else {\n      url = urlConfig;\n    }\n\n    urlFn = (typeof url == 'function')\n      ? url\n      : function() { return url; };\n\n    return function(/* value[, value[, ...]]] */) {\n      var\n        urlConfig,\n        _params = null,\n        url\n        ;\n\n      urlConfig = urlFn.apply(null, Array.prototype.slice.call(arguments));\n      url = urlConfig;\n      if (urlConfig && typeof urlConfig == 'object') {\n        url = urlConfig.url;\n        _params = urlConfig.params;\n      }\n\n      return {\n        url: url,\n        params: mergeObjects({}, params || {}, _params || {})\n      }\n    };\n  }\n\n});\n'use strict';\n\ndi('AbstractRemoteSvgResourceScope', function(di) {\n  var\n    AbstractRemoteResourceScope = di('AbstractRemoteResourceScope'),\n    inherit = di('inherit')\n  ;\n\n  function AbstractRemoteSvgResourceScope(id, urlConfig, svgOptions) {\n    var\n      parseSvgOptions = di('parseSvgOptions');\n\n    AbstractRemoteResourceScope.call(this, id, urlConfig);\n\n    this.svgOptions = parseSvgOptions(svgOptions);\n  }\n\n  return inherit(AbstractRemoteSvgResourceScope, AbstractRemoteResourceScope);\n\n});\n'use strict';\n\ndi('AbstractScope', function() {\n\n  function AbstractScope(id) {\n    this.id = id;\n  }\n\n  AbstractScope.prototype = {\n\n    preload: function() {\n      return true;\n    },\n\n    hasIcon: function() {\n      return true;\n    }\n\n  };\n\n  return AbstractScope;\n\n});\n'use strict';\n\ndi('FontIconSetScope', function(di) {\n  var\n    AbstractCssClassIconSetScope = di('AbstractCssClassIconSetScope'),\n    inherit = di('inherit')\n    ;\n\n  function FontIconSetScope(id, classResolver) {\n    AbstractCssClassIconSetScope.call(this, id, classResolver);\n  }\n\n  return inherit(FontIconSetScope, AbstractCssClassIconSetScope, {\n\n    getIcon: function(iconId, params) {\n      var\n        FontIcon = di('FontIcon');\n      return new FontIcon(this.classResolver(iconId, params));\n    }\n\n  });\n\n});\n'use strict';\n\ndi('ImageIconScope', function(di) {\n  var\n    AbstractRemoteResourceScope = di('AbstractRemoteResourceScope'),\n    inherit = di('inherit')\n    ;\n\n  function ImageIconScope(id, urlConfig) {\n    AbstractRemoteResourceScope.call(this, id, urlConfig);\n  }\n\n  return inherit(ImageIconScope, AbstractRemoteResourceScope, {\n\n    _loadResource: function() {\n      var\n        ImageIcon = di('ImageIcon');\n      return ImageIcon.loadByUrl(this.urlResolver());\n    },\n\n    hasIcon: function(iconId) {\n      return iconId == this.id;\n    },\n\n    getIcon: function() {\n      return this._getResource();\n    }\n\n  });\n\n});\n'use strict';\n\ndi('SpriteIconSetScope', function(di) {\n  var\n    AbstractCssClassIconSetScope = di('AbstractCssClassIconSetScope'),\n    inherit = di('inherit')\n    ;\n\n  function SpriteIconSetScope(id, classResolver) {\n    AbstractCssClassIconSetScope.call(this, id, classResolver);\n  }\n\n  return inherit(SpriteIconSetScope, AbstractCssClassIconSetScope, {\n\n    getIcon: function(iconId) {\n      var\n        SpriteIcon = di('SpriteIcon');\n      return new SpriteIcon(this.classResolver(iconId));\n    }\n\n  });\n\n});\n'use strict';\n\ndi('SvgCumulativeIconSetScope', function(di) {\n  var\n    AbstractRemoteSvgResourceScope = di('AbstractRemoteSvgResourceScope'),\n    inherit = di('inherit')\n    ;\n\n  function SvgCumulativeIconSetScope(id, urlConfig, options) {\n    var\n      DEFAULT_WAIT_DURATION = 10;\n\n    AbstractRemoteSvgResourceScope.call(this, id, urlConfig, options);\n    options = options && typeof options == 'object'\n      ? options\n      : {};\n\n    this.iconIdResolver = typeof options.iconIdResolver == 'function'\n      ? options.iconIdResolver\n      : null;\n\n    this.waitDuration = options.waitDuration || DEFAULT_WAIT_DURATION;\n    this.waitPromise = null;\n    this.waitIconIds = [];\n  }\n\n  return inherit(SvgCumulativeIconSetScope, AbstractRemoteSvgResourceScope, {\n\n    _loadResource: function() {\n      var\n        SvgIconSet = di('SvgIconSet');\n      return SvgIconSet.loadByUrl(this.urlResolver(this.waitIconIds), this.svgOptions);\n    },\n\n    preload: function() {\n      return true;\n    },\n\n    getIcon: function(iconId, params) {\n      var\n        Promise = di('Promise'),\n        timeout = di('timeout'),\n        self = this;\n\n      if (this.iconIdResolver) {\n        iconId = this.iconIdResolver(iconId, params);\n      }\n\n      if (this._resource && this._resource.exists(iconId)) {\n        return Promise.resolve(this._resource.getIconById(iconId));\n      }\n\n      if (this.waitPromise) {\n        if (this.waitIconIds.indexOf(iconId) == -1) {\n          this.waitIconIds.push(iconId);\n        }\n      }\n      else {\n        this.waitIconIds = [iconId];\n        this.waitPromise = timeout(this.waitDuration).then(function() {\n          self.waitPromise = null;\n          if (!self._resource) {\n            return self._getResource();\n          }\n          return self._resource.mergeByUrl(\n            self.urlResolver(self._resource.notExists(self.waitIconIds)),\n            self.svgOptions\n          );\n        });\n      }\n\n      return this.waitPromise\n        .then(function(iconSet) {\n          var\n            icon = iconSet.getIconById(iconId);\n          return icon\n            ? icon\n            : Promise.reject();\n        });\n    }\n\n  });\n\n});\n'use strict';\n\ndi('SvgIconScope', function(di) {\n  var\n    AbstractRemoteSvgResourceScope = di('AbstractRemoteSvgResourceScope'),\n    inherit = di('inherit')\n    ;\n\n  function SvgIconScope(id, urlConfig, svgOptions) {\n    AbstractRemoteSvgResourceScope.call(this, id, urlConfig, svgOptions);\n  }\n\n  return inherit(SvgIconScope, AbstractRemoteSvgResourceScope, {\n\n    _loadResource: function() {\n      var\n        SvgIcon = di('SvgIcon');\n      return SvgIcon.loadByUrl(this.urlResolver(), this.svgOptions);\n    },\n\n    hasIcon: function(iconId) {\n      return iconId == this.id;\n    },\n\n    getIcon: function() {\n      return this._getResource();\n    }\n\n  });\n\n});\n'use strict';\n\ndi('SvgIconSetScope', function(di) {\n  var\n    AbstractRemoteSvgResourceScope = di('AbstractRemoteSvgResourceScope'),\n    inherit = di('inherit')\n    ;\n\n  function SvgIconSetScope(id, urlConfig, svgOptions) {\n    AbstractRemoteSvgResourceScope.call(this, id, urlConfig, svgOptions);\n  }\n\n  return inherit(SvgIconSetScope, AbstractRemoteSvgResourceScope, {\n\n    _loadResource: function() {\n      var\n        SvgIconSet = di('SvgIconSet');\n      return SvgIconSet.loadByUrl(this.urlResolver(), this.svgOptions);\n    },\n\n    hasIcon: function(iconId) {\n      return this._getResource()\n        .then(function(iconSet) {\n          return iconSet.exists(iconId);\n        })\n    },\n\n    getIcon: function(iconId) {\n      var\n        Promise = di('Promise');\n\n      return this._getResource()\n        .then(function(iconSet) {\n          var\n            icon = iconSet.getIconById(iconId);\n          return icon\n            ? icon\n            : Promise.reject();\n        })\n    }\n\n  });\n\n});\n'use strict';\n\ndi('ScopeCollection', function(di) {\n\n  function ScopeCollection() {\n    this.collection = [];\n  }\n\n  ScopeCollection.prototype = {\n\n    add: function(scope) {\n      var\n        SvgCumulativeIconSetScope = di('SvgCumulativeIconSetScope'),\n        FontIconSetScope = di('FontIconSetScope');\n\n      if (scope instanceof SvgCumulativeIconSetScope || scope instanceof FontIconSetScope) {\n        this.collection.push(scope);\n      }\n      else {\n        this.collection.unshift(scope);\n      }\n    },\n\n    preload: function() {\n      var\n        Promise = di('Promise');\n\n      return Promise.all(\n        this.collection.map(function(item) {\n          return Promise.resolve(item.preload(iconId))\n            .then(null, function() {\n              return false;\n            })\n        })\n      )\n        .then(function() {\n          return true;\n        }, function() {\n          return false;\n        });\n    },\n\n    getIconScope: function(iconId) {\n      var\n        Promise = di('Promise'),\n        SvgCumulativeIconSetScope = di('SvgCumulativeIconSetScope'),\n        collection = this.collection,\n        promise\n        ;\n\n      promise = Promise.all(\n        collection.map(function(scope) {\n          return Promise.resolve(scope.hasIcon(iconId))\n            .then(function(value) {\n              return value\n                ? scope\n                : false;\n            }, function() {\n              return false;\n            })\n        })\n      );\n\n      return promise.then(function(scopes) {\n        var\n          index;\n        for (index = 0; index < scopes.length; index++) {\n          if (scopes[index]) {\n            return scopes[index];\n          }\n        }\n        return Promise.reject();\n      });\n    },\n\n    getIcon: function(iconId, params) {\n      return this.getIconScope(iconId)\n        .then(function(scope) {\n          return scope.getIcon(iconId, params);\n        });\n    }\n\n  };\n\n  return ScopeCollection;\n\n});\n'use strict';\n\ndi('SvgIconSet', function(di) {\n\n  function SvgIconSet(element, options) {\n    var\n      log = di('log'),\n      parseSvgOptions = di('parseSvgOptions'),\n      SvgIcon = di('SvgIcon'),\n      nodeWrapper = di('nodeWrapper'),\n      index,\n      nodes,\n      node,\n      iconSize,\n      viewBox\n      ;\n\n    options = parseSvgOptions(options);\n\n    this.icons = {};\n\n    viewBox = options.viewBox || element[0].getAttribute('viewBox');\n    iconSize = options.iconSize;\n\n    try {\n      nodes = element[0].querySelectorAll('[id]');\n      for(index = 0; index < nodes.length; index++) {\n        node = nodes[index];\n        this.icons[node.getAttribute('id')] = new SvgIcon(nodeWrapper(node), {\n          iconSize: iconSize,\n          viewBox: viewBox\n        });\n      }\n    }\n    catch(e) {\n      log.warn(e);\n    }\n\n    this.iconSize = iconSize;\n    this.viewBox = viewBox;\n  }\n\n  SvgIconSet.loadByUrl = function(url, options) {\n    var\n      loadSvgByUrl = di('loadSvgByUrl');\n\n    return loadSvgByUrl(url)\n      .then(function(element) {\n        return new SvgIconSet(\n          element,\n          options\n        )\n      });\n  };\n\n  SvgIconSet.prototype = {\n\n    notExists: function(ids) {\n      var\n        icons = this.icons;\n      return ids.filter(function(id) {\n        return !icons.hasOwnProperty(id);\n      });\n    },\n\n    exists: function(id) {\n      return this.icons.hasOwnProperty(id);\n    },\n\n    getIconById: function(id) {\n      return this.icons.hasOwnProperty(id)\n        ? this.icons[id]\n        : null;\n    },\n\n    merge: function(iconSet) {\n      var\n        self = this,\n        icons = iconSet.icons;\n\n      Object.keys(icons)\n        .forEach(function(id) {\n          self.icons[id] = icons[id];\n        });\n\n      return this;\n    },\n\n    mergeByUrl: function(url, options) {\n      var\n        self = this;\n\n      return SvgIconSet.loadByUrl(url, options)\n        .then(function(iconSet) {\n          return self.merge(iconSet);\n        })\n    }\n\n  };\n\n  return SvgIconSet;\n\n});\n\n\n'use strict';\n\nfunction di(name, provider) {\n  var\n    error,\n    baseProvider,\n    providers,\n    instances;\n\n  providers = di.providers = di.providers || {};\n  instances = di.instaces = di.instaces || {};\n\n  if (provider) {\n    if (instances.hasOwnProperty(name)) {\n      error = new Error('Cannot override instantiated service \"' + name + '\"');\n      console.error(error);\n      throw error;\n    }\n    if (!(provider instanceof Function)) {\n      error = new Error('Incorrect provider function \"' + name + '\"');\n      console.error(error);\n      throw error;\n    }\n\n    if (providers.hasOwnProperty(name)) {\n      baseProvider = providers[name];\n      providers[name] = function(di) {\n        return new provider(di, new baseProvider(di));\n      };\n    }\n    else {\n      providers[name] = provider;\n    }\n  }\n  else {\n    if (!providers[name]) {\n      error = new Error('Cannot found service provider \"' + name + '\"');\n      console.error(error);\n      throw error;\n    }\n    if (!instances.hasOwnProperty(name)) {\n      try {\n        instances[name] = new providers[name](di);\n      }\n      catch(error) {\n        console.error(error);\n        throw error;\n      }\n    }\n    return instances[name];\n  }\n}\n\n\n'use strict';\n\ndi('iconManager', function(di) {\n\n  var\n    CHECK_URL_REGEX = /[-a-zA-Z0-9@:%_\\+.~#?&//=]{2,256}\\.[a-z]{2,4}\\b(\\/[-a-zA-Z0-9@:%_\\+.~#?&//=]*)?/i,\n    DEFAULT_ICON_SIZE = 24,\n    SINGLE_ICONS_COLLECTION_ID = '__SINGLE_ICONS_COLLECTION';\n\n  function IconManager() {\n    this._collections = {};\n    this._defaultCollectionId = null;\n    this._defaultIconSize = DEFAULT_ICON_SIZE;\n  }\n\n  IconManager.prototype = {\n\n    addIcon: function(id, urlConfig, options) {\n      var\n        url = urlConfig,\n        ext;\n\n      if (typeof urlConfig == 'object') {\n        url = urlConfig.url;\n      }\n      ext = typeof url == 'function'\n        ? getExt(url())\n        : getExt(url + '');\n\n      return ext == 'svg'\n        ? this.addSvgIcon(id, urlConfig, options)\n        : this.addImageIcon(id, urlConfig)\n      ;\n\n      function getExt(url) {\n        return ((url.split('?')[0] || '').split('.').slice(-1)[0] || '').toLowerCase();\n      }\n    },\n\n    addSvgIcon: function(id, urlConfig, options) {\n      var\n        SvgIconScope = di('SvgIconScope');\n      this._getSingleIconsCollection().add(new SvgIconScope(id, urlConfig, options));\n      return this;\n    },\n\n    addImageIcon: function(id, urlConfig, options) {\n      var\n        ImageIconScope = di('ImageIconScope');\n      this._getSingleIconsCollection().add(new ImageIconScope(id, urlConfig, options));\n      return this;\n    },\n\n    addSvgIconSet: function(id, urlConfig, options) {\n      var\n        SvgCumulativeIconSetScope = di('SvgCumulativeIconSetScope'),\n        SvgIconSetScope = di('SvgIconSetScope'),\n        ScopeConstructor;\n\n      options = options || {};\n\n      ScopeConstructor = options.cumulative\n        ? SvgCumulativeIconSetScope\n        : SvgIconSetScope;\n\n      this._getCollection(id).add(new ScopeConstructor(id, urlConfig, options));\n\n      return this;\n    },\n\n    addFontIconSet: function(id, classConfig) {\n      var\n        FontIconSetScope = di('FontIconSetScope');\n      this._getCollection(id).add(new FontIconSetScope(id, classConfig));\n      return this;\n    },\n\n    addSpriteIconSet: function(id, classConfig) {\n      var\n        SpriteIconSetScope = di('SpriteIconSetScope');\n      this._getCollection(id).add(new SpriteIconSetScope(id, classConfig));\n      return this;\n    },\n\n    addIconSetAlias: function(id, alias) {\n      if (!this._collections.hasOwnProperty(alias)) {\n        this._collections[alias] = this._getCollection(id);\n      }\n      return this;\n    },\n\n    setDefaultIconSet: function(id) {\n      this._defaultCollectionId = id;\n      return this;\n    },\n\n    setDefaultIconSize: function(iconSize) {\n      this._defaultIconSize = iconSize;\n      return this;\n    },\n\n    getDefaultIconSize: function() {\n      return this._defaultIconSize;\n    },\n\n    preload: function() {\n      var\n        collections = this._collections;\n\n      Object.keys(collections).forEach(function(id) {\n        collections[id].preload();\n      });\n\n    },\n\n    getIcon: function(id, params) {\n      var\n        parts,\n        delimiterPosition,\n        iconId,\n        iconSetId;\n\n      id = id || '';\n      params = params || [];\n      parts = id\n        .split(/\\s+/)\n        .filter(function(value) {\n          return value;\n        });\n      id = parts[0];\n      Array.prototype.push.apply(params, parts.slice(1));\n\n      if (CHECK_URL_REGEX.test(id)) {\n        if (!this.hasSingleIcon(id)) {\n          this.addIcon(id, id);\n        }\n        return this._getSingleIconsCollection().getIcon(id, params)\n          .then(null, announceIconNotFoundForPromiseCatch(id));\n      }\n      iconId = id;\n      iconSetId = null;\n      delimiterPosition = id.indexOf(':');\n      if (delimiterPosition != -1) {\n        iconSetId = id.slice(0, delimiterPosition);\n        iconId = id.slice(delimiterPosition+1);\n      }\n\n      if (iconSetId) {\n        if (this.hasIconSet(iconSetId)) {\n          return this._getCollection(iconSetId).getIcon(iconId, params)\n            .then(null, announceIconNotFoundForPromiseCatch(iconId, iconSetId));\n        }\n      }\n      else {\n        if (this.hasSingleIcon(iconId)) {\n          return this._getSingleIconsCollection().getIcon(iconId, params)\n            .then(null, announceIconNotFoundForPromiseCatch(iconId));\n        }\n        if (this.hasDefaultIconSet()) {\n          return this._getCollection(this._defaultCollectionId).getIcon(iconId, params)\n            .then(null, announceIconNotFoundForPromiseCatch(iconId, this._defaultCollectionId));\n        }\n      }\n\n      return announceIconNotFound(id);\n    },\n\n    hasSingleIcon: function(id) {\n      return this._getSingleIconsCollection()\n        .collection\n        .filter(function(scope) {\n          return scope.hasIcon(id);\n        })\n        .length > 0;\n    },\n\n    hasIconSet: function(id) {\n      return this._collections.hasOwnProperty(id);\n    },\n\n    hasDefaultIconSet: function() {\n      return this._defaultCollectionId && this.hasIconSet(this._defaultCollectionId);\n    },\n\n    _getCollection: function(id) {\n      var\n        ScopeCollection = di('ScopeCollection');\n      if (!this._collections.hasOwnProperty(id)) {\n        this._collections[id] = new ScopeCollection();\n      }\n      return this._collections[id];\n    },\n\n    _getSingleIconsCollection: function() {\n      return this._getCollection(SINGLE_ICONS_COLLECTION_ID);\n    }\n\n  };\n\n\n  function announceIconNotFound(iconId, iconSetId) {\n    var\n      log = di('log'),\n      Promise = di('Promise'),\n      errorMessage = 'icon \"' + iconId + '\" not found';\n\n    if (iconSetId) {\n      errorMessage += ' in \"' + iconSetId + '\" icon set';\n    }\n    log.warn(errorMessage);\n    return Promise.reject(errorMessage);\n  }\n\n  function announceIconNotFoundForPromiseCatch(iconId, iconSetId) {\n    return function() {\n      return announceIconNotFound(iconId, iconSetId);\n    }\n  }\n\n\n\n  return new IconManager;\n\n\n});\n\n\n'use strict';\n\ndi('inherit', function() {\n\n  return function inherit(Constructor, Parent, methods, properties) {\n    Constructor.prototype = Object.create(Parent.prototype, properties || {});\n    Object.keys(methods || {})\n      .forEach(function(name) {\n        Constructor.prototype[name] = methods[name];\n      });\n\n    return Constructor;\n  };\n\n});\n'use strict';\n\ndi('initIconElement', function(di) {\n\n  return function initIconElement(element, alt) {\n    var\n      ICON_CLASS = 'i8-icon'\n      ;\n\n    expectAlt(element, alt || '');\n    if (!element.hasClass(ICON_CLASS)) {\n      element.addClass(ICON_CLASS);\n    }\n  };\n\n  function expectAlt(element, alt) {\n\n    if (alt != '' && !parentsHaveText()) {\n      expectAria('aria-label', alt);\n      expectAria('role', 'img');\n    }\n    else {\n      expectAria('aria-hidden', 'true');\n    }\n\n    function expectAria(attrName, defaultValue) {\n      var\n        node = element[0];\n\n      if (!node.hasAttribute(attrName) && !childHasAttribute(node, attrName)) {\n        defaultValue = (typeof defaultValue == 'string') ? defaultValue.trim() : '';\n        if (defaultValue.length) {\n          element.attr(attrName, defaultValue);\n        }\n      }\n\n      function childHasAttribute(node, attrName) {\n        var\n          hasChildren = node.hasChildNodes(),\n          children,\n          index,\n          child;\n\n        if (hasChildren) {\n          children = node.childNodes;\n          for(index = 0; index < children.length; index++){\n            child = children[index];\n            if(child.nodeType === 1 && child.hasAttribute(attrName) && !isHidden(child)) {\n              return true;\n            }\n          }\n        }\n        return false;\n\n        function isHidden(node) {\n          var\n            style = node.currentStyle\n              ? node.currentStyle\n              : window.getComputedStyle(node);\n          return style.display === 'none';\n        }\n      }\n    }\n\n    function parentsHaveText() {\n      var\n        parent = element.parent();\n\n      if (parent.attr('aria-label') || parent.text().trim()) {\n        return true;\n      }\n      if (parent.prop('tagName') != 'BODY') {\n        if (parent.parent().attr('aria-label') || parent.parent().text().trim()) {\n          return true;\n        }\n      }\n      return false;\n    }\n\n  }\n\n});\n'use strict';\n\ndi('loadSvgByUrl', function(di) {\n\n  return function loadSvgByUrl(urlConfig) {\n    var\n      httpGet = di('httpGet'),\n      log = di('log'),\n      Promise = di('Promise'),\n      el = di('nodeWrapper'),\n      url = urlConfig,\n      params = null\n      ;\n\n    if (typeof urlConfig == 'object') {\n      url = urlConfig.url;\n      params = urlConfig.params;\n    }\n\n    return httpGet(url, params)\n      .then(function(response) {\n        var\n          element = el('<div>').append(response.data),\n          svgElement = element.find('svg');\n        return svgElement.length > 0\n          ? svgElement\n          : element.children().first()\n          ;\n      }, function(response) {\n        var\n          message = typeof response == 'string'\n            ? response\n            : String(response.message || response.data || response.responseText || response.statusText);\n\n        log.warn(message);\n        return Promise.reject(message);\n      });\n  }\n\n});\n\n'use strict';\n\ndi('parseSvgOptions', function() {\n\n  return function parseSvgOptions(options) {\n    if (options) {\n      switch(typeof options) {\n        case 'number':\n          options = {\n            iconSize: options\n          };\n          break;\n        case 'string':\n          options = {\n            viewBox: options\n          };\n          break;\n      }\n    }\n    else {\n      options = {};\n    }\n\n    return {\n      iconSize: options.iconSize,\n      viewBox: options.viewBox\n    }\n  }\n\n});\n'use strict';\n\ndi('publicApi', function(di) {\n  var \n    iconManager = di('iconManager');\n  \n  return {\n    icon: function(id, urlConfig, iconSize) {\n      iconManager.addIcon(id, urlConfig, iconSize);\n      return this;\n    },\n\n    iconSet: function(id, urlConfig, iconSize) {\n      iconManager.addSvgIconSet(id, urlConfig, iconSize);\n      return this;\n    },\n\n    font: function(id, classConfig) {\n      iconManager.addFontIconSet(id, classConfig);\n      return this;\n    },\n\n    sprite: function(id, classConfig) {\n      iconManager.addSpriteIconSet(id, classConfig);\n      return this;\n    },\n\n    sourceAlias: function(id, alias) {\n      iconManager.addIconSetAlias(id, alias);\n      return this;\n    },\n\n    defaultIconSetUrl: function(url, iconSize) {\n      iconManager\n        .addSvgIconSet(url, url, iconSize)\n        .setDefaultIconSet(url);\n      return this;\n    },\n\n    defaultSource: function(id) {\n      iconManager.setDefaultIconSet(id);\n      return this;\n    },\n\n    defaultIconSize: function(iconSize) {\n      iconManager.setDefaultIconSize(iconSize);\n      return this;\n    },\n\n    preload: function() {\n      iconManager.preload();\n      return this;\n    }\n\n  };\n\n});\n'use strict';\n\nfunction ready(fn) {\n  var\n    functions;\n\n  functions = ready.functions = ready.functions || [];\n\n  if (fn) {\n    functions.push(fn);\n  }\n  else {\n    functions.forEach(function(fn) {\n      fn(di);\n    });\n  }\n}\n\n'use strict';\n\nready(function(di) {\n  var\n    nodeWrapper = di('nodeWrapper');\n\n  nodeWrapper(window.document).find('head').prepend(\n    '<style type=\"text/css\">@charset \"UTF-8\";.i8-svg-icon,.i8-image-icon{display:inline-block}.i8-svg-icon svg{fill:currentColor}</style>'\n  );\n\n});\n'use strict';\n\nready(function(di) {\n  var\n    iconManager = di('iconManager');\n\n  iconManager\n    .addFontIconSet(\n      'fa',\n      function(name, params) {\n        var\n          classBuilder = [\n            'fa',\n            'fa-' + name\n          ];\n        params = params || [];\n        Array.prototype.push.apply(\n          classBuilder,\n          params.map(function(param) {\n            return 'fa-'+param\n          })\n        );\n        return classBuilder.join(' ')\n      }\n    );\n\n});\n\n'use strict';\n\nready(function(di) {\n  var\n    iconManager = di('iconManager');\n\n  iconManager\n    .addIconSetAlias('glyphicon', 'gi')\n    .addFontIconSet('glyphicon', 'glyphicon glyphicon-?');\n\n});\n'use strict';\n\ndi('i8ApiConfig', function() {\n  return {\n    gateway: {\n      url: '//api.icons8.com/icon-sets'\n    }\n  };\n});\n\n'use strict';\n\nready(function(di) {\n  var\n    iconManager = di('iconManager'),\n    platforms = {\n      ios8: ['ios', 'ios7', 'i'],\n      win8: ['win', 'w'],\n      android: ['kitkat', 'ak', 'a-k', 'k'],\n      androidL: ['android-l', 'al', 'a-l', 'l'],\n      colored: ['color', 'c']\n    },\n    platformsMap,\n    possiblePrefixes;\n\n  platformsMap = {};\n  Object.keys(platforms).forEach(function(platform) {\n    platformsMap[platform.toLowerCase()] = platform;\n    platforms[platform].forEach(function(alias) {\n      platformsMap[alias] = platform;\n    });\n  });\n\n  possiblePrefixes = Object.keys(platforms)\n    .map(function(platform) {\n      return platform.toLowerCase();\n    });\n  possiblePrefixes.push(\n    'ios7'\n  );\n\n  iconManager\n    .setDefaultIconSet('i8')\n    .addSvgIconSet(\n      'i8',\n      function(icons) {\n        var\n          options = {\n            url: di('i8ApiConfig').gateway.url,\n            params: {}\n          };\n\n        if (icons) {\n          if (!Array.isArray(icons)) {\n            icons = [icons];\n          }\n          options.params.icons = icons.join(',');\n        }\n        return options;\n      },\n      {\n        cumulative: true,\n        iconIdResolver: function(id, params) {\n          var\n            index,\n            position,\n            prefix;\n          id = String(id || '');\n          if (!Array.isArray(params)) {\n            params = [];\n          }\n          params = params.map(function(param) {\n            return String(param).toLowerCase();\n          });\n          for (index = 0; index < params.length; index++) {\n            if (platformsMap.hasOwnProperty(params[index])) {\n              return [platformsMap[params[index]], id].join('-');\n            }\n          }\n          position = id.indexOf('-');\n          if (position > 0) {\n            prefix = id.slice(0, position).toLowerCase();\n            if (possiblePrefixes.indexOf(prefix)) {\n              return [platformsMap[prefix], id.slice(position + 1)].join('-');\n            }\n          }\n          return [platformsMap['c'], id].join('-');\n        }\n      }\n    );\n\n});\n\n\n'use strict';\n\ndi('Promise', function() {\n\n  if (window.Promise) {\n    return window.Promise;\n  }\n\n  function Promise(param) {\n    var\n      deferred;\n\n    if (typeof param == 'function') {\n      deferred = new jQuery.Deferred();\n      param(deferred.resolve, deferred.reject);\n      this._jqPromise = deferred;\n    }\n    else if (param && typeof param == 'object' && param.then){\n      this._jqPromise = param._jqPromise\n        ? param._jqPromise\n        : param;\n    }\n    else {\n      this._jqPromise = new jQuery.Deferred().resolve(param);\n    }\n  }\n\n  Promise.reject = function(value) {\n    return new Promise(\n      new jQuery.Deferred().reject(value)\n    );\n  };\n\n  Promise.resolve = function(value) {\n    return new Promise(\n      new jQuery.Deferred().resolve(value)\n    );\n  };\n\n  Promise.all = function(promises) {\n    var\n      jqPromises,\n      result = [];\n\n    if (!Array.isArray(promises)) {\n      return Promise.reject();\n    }\n\n    jqPromises = promises.map(function(value) {\n      if (value && typeof value == 'object' && value._jqPromise) {\n        value = value._jqPromise;\n      }\n      return value;\n    });\n    jqPromises.forEach(function(promise, index) {\n      promise.then(function(value) {\n        result[index] = value;\n      });\n    });\n\n    return new Promise(jQuery.when.apply(jQuery, jqPromises))\n      .then(function() {\n        return result;\n      })\n      ;\n  };\n\n  Promise.prototype = {\n\n    then: function(done, fail) {\n      var\n        jqPromise;\n\n      jqPromise = this._jqPromise.then(\n        done && function(value) {\n          var\n            result = done(value);\n          if (result && typeof result == 'object' && result._jqPromise) {\n            result = result._jqPromise;\n          }\n          return result;\n        },\n        fail && function(value) {\n          var\n            result = fail(value);\n          if (result && typeof result == 'object' && result.then) {\n            return result._jqPromise\n              ? result._jqPromise\n              : result;\n          }\n          if (typeof result != 'undefined') {\n            return new jQuery.Deferred().reject(result);\n          }\n        }\n      );\n\n      return new Promise(jqPromise);\n    }\n\n  };\n\n  return Promise;\n\n});\n\n'use strict';\n\ndi('buildUrlParams', function(di) {\n\n  return function buildUrlParams(params) {\n    return jQuery.param(params || {});\n  }\n\n});\n'use strict';\n\ndi('httpGet', function(di) {\n\n  var cache = {};\n\n  return function httpGet(url, params) {\n    var\n      Promise = di('Promise'),\n      buildUrlParams = di('buildUrlParams'),\n      urlBuilder = [url],\n      compiledUrl,\n      query,\n      promise\n      ;\n\n    params = params || {};\n    query = buildUrlParams(params);\n    if (query) {\n      urlBuilder.push(query);\n    }\n    compiledUrl = urlBuilder.join('?');\n\n    if (cache.hasOwnProperty(compiledUrl)) {\n      return cache[compiledUrl];\n    }\n\n    cache[compiledUrl] = promise = new Promise(function(resolve, reject) {\n      jQuery.ajax({\n        url: url,\n        data: params,\n        dataType: 'text',\n        success: function(data) {\n          resolve({\n            data: data\n          });\n        },\n        error: reject\n      })\n      ;\n    });\n\n    return promise;\n  }\n\n});\n\n'use strict';\n\ndi('log', function() {\n  var\n    noop = function() {},\n    log = {},\n    logDebug = getConsoleWriteDelegate('debug');\n\n  ['log', 'info', 'warn', 'error'].forEach(function(type) {\n    log[type] = getConsoleWriteDelegate(type);\n  });\n\n  log.debug = function() {\n    if (!log.debugEnabled) {\n      return noop;\n    }\n    return logDebug.apply(null, Array.prototype.slice.call(arguments));\n  };\n\n  return log;\n\n  function getConsoleWriteDelegate(type) {\n    return function() {\n      var\n        console = window.console;\n\n      if (console) {\n        console[type].apply(console, Array.prototype.slice.call(arguments));\n      }\n    }\n  }\n\n\n\n});\n\n\n'use strict';\n\ndi('mergeObjects', function() {\n\n  return function mergeObjects(/* to, from [, from[, ...]]*/) {\n    var\n      args = Array.prototype.slice.call(arguments);\n\n    switch(args.length) {\n      case 0: args.push({});\n      case 1: args.push({});\n    }\n\n    return jQuery.extend.apply(jQuery, [true].concat(args));\n  }\n\n});\n\n\n'use strict';\n\ndi('nodeWrapper', function() {\n  return jQuery;\n});\n'use strict';\n\ndi('timeout', function(di) {\n\n  function timeout(fn, delay) {\n    var\n      Promise = di('Promise'),\n      promise,\n      resolve;\n\n    if (typeof fn != 'function') {\n      delay = fn;\n      fn = function() {};\n    }\n\n    promise = new Promise(function(resolveFn) {\n      resolve = resolveFn;\n    });\n    promise.then(fn);\n    promise._timeoutId = setTimeout(resolve, delay);\n\n    return promise;\n  }\n\n  timeout.cancel = function(timeoutPromise) {\n    if (timeoutPromise._timeoutId) {\n      clearTimeout(timeoutPromise._timeoutId);\n    }\n  };\n\n  return timeout;\n\n});\n\n\n'use strict';\n\nfunction IconPlugin(config) {\n  config = config || {};\n\n  if (typeof config == 'string') {\n    config = {\n      icon: config\n    };\n  }\n\n  IconPlugin._applyConfig(config);\n\n  if (!IconsPlugin.bootstraped) {\n    IconsPlugin.cancelBootstrap();\n  }\n\n  return this.each(function() {\n    var\n      I8_ICON_DATA_KEY = '__I8_ICON_DATA',\n      element = jQuery(this),\n      instance = element.data(I8_ICON_DATA_KEY),\n      options = {\n        icon: config.icon + ''\n      };\n\n    if (instance) {\n      instance.refresh(options);\n    }\n    else {\n      element.data(I8_ICON_DATA_KEY, new IconController(element, options));\n    }\n  });\n}\n\nIconPlugin._applyConfig = function(config) {\n  var\n    publicApi = di('publicApi'),\n    iconManager = di('iconManager');\n\n  if (typeof config == 'function') {\n    config = config(publicApi);\n  }\n  config = config || {};\n\n  normalizeConfigs(config.icons, normalizeUrlBasedConfig).forEach(function(config) {\n    if (!iconManager.hasSingleIcon(config.id)) {\n      iconManager.addIcon(config.id, config.url, config);\n    }\n  });\n  normalizeConfigs(config[\"icon-sets\"] || config.iconSets, normalizeUrlBasedConfig).forEach(function(config) {\n    if (!iconManager.hasIconSet(config.id)) {\n      iconManager.addSvgIconSet(config.id, config.url, config);\n    }\n  });\n  normalizeConfigs(config.fonts, normalizeClassNameBasedConfig).forEach(function(config) {\n    if (!iconManager.hasIconSet(config.id)) {\n      iconManager.addFontIconSet(config.id, config.className);\n    }\n  });\n  normalizeConfigs(config.sprites, normalizeClassNameBasedConfig).forEach(function(config) {\n    if (!iconManager.hasIconSet(config.id)) {\n      iconManager.addSpriteIconSet(config.id, config.className);\n    }\n  });\n\n  function normalizeConfigs(configs, normalizeConfigFilter) {\n    if (configs && typeof configs == 'object') {\n      if (Array.isArray(configs)) {\n        configs = configs.map(normalizeConfig);\n      }\n      else {\n        configs = Object.keys(configs)\n          .map(function(id) {\n            return normalizeConfig(configs[id], id);\n          });\n      }\n      return configs.filter(function(config) {\n        return config;\n      });\n    }\n    return [];\n\n    function normalizeConfig(config, id) {\n      config = config || {};\n      if (typeof config != 'string') {\n        if (!config.id && config.id !== 0) {\n          config.id = id;\n        }\n      }\n      return normalizeConfigFilter && normalizeConfigFilter(config, id);\n    }\n  }\n\n  function normalizeUrlBasedConfig(config, id) {\n    if (typeof config == 'string') {\n      config = {\n        url: config,\n        id: id\n      }\n    }\n    config.url = config.url || config.uri;\n    return config.id && config.url\n      ? config\n      : null;\n  }\n\n  function normalizeClassNameBasedConfig(config, id) {\n    if (typeof config == 'string') {\n      config = {\n        className: config,\n        id: id\n      }\n    }\n    config.className = config.className || config[\"class\"];\n    return config.id && config.className\n      ? config\n      : null;\n  }\n\n};\n\nfunction IconController(element, options) {\n  var\n    initIconElement = di('initIconElement');\n\n  options = options || {};\n\n  this._element = element;\n  initIconElement(element, this._getAlt() || options.alt);\n  this._renderIcon(this._getIconId() || options.icon);\n}\n\nIconController.prototype = {\n\n  _getAlt: function() {\n    var\n      element = this._element;\n    return element.attr('alt') || element.data('alt');\n  },\n\n  _getIconId: function() {\n    var\n      element = this._element,\n      index,\n      prefixes,\n      prefix,\n      id = null;\n\n    prefixes = ['', 'i8-', 'i8', 'i8:'];\n    for (index = 0; !id && index < prefixes.length; index++) {\n      prefix = prefixes[index];\n      id = element.attr(prefix + 'icon') || element.data(prefix + 'icon');\n    }\n\n    if (!id) {\n      id = element\n        .attr('class')\n        .split(/\\s+/)\n        .map(function(className) {\n          var\n            match,\n            parts;\n          match = /^i8[-:]?icon[-:]([^;|,]+)[;|,]?(.*)$/i.exec(className);\n          if (!match || !match[1]) {\n            return null;\n          }\n          parts = [match[1]];\n          if (match[2]) {\n            Array.prototype.push.apply(parts, match[2].split(/[;|,]/));\n          }\n          return parts.join(' ');\n        })\n        .filter(function(iconId) {\n          return iconId;\n        })\n        [0];\n    }\n\n    return id;\n  },\n\n  _renderIcon: function(iconId) {\n    var\n      iconManager = di('iconManager'),\n      element = this._element,\n      cleaner = this._renderedIconCleaner,\n      self = this;\n\n    iconId = iconId || this._getIconId();\n\n    if (iconId == this._renderedIconId) {\n      return;\n    }\n\n    cleaner && cleaner();\n    this._renderedIconCleaner = null;\n    if (iconId) {\n      iconManager.getIcon(iconId).then(function(icon) {\n        self._renderedIconCleaner = icon.render(element);\n      });\n    }\n\n    this._renderedIconId = iconId;\n  },\n\n  refresh: function(options) {\n    this._renderIcon(this._getIconId() || options.icon);\n  }\n\n};\n'use strict';\n\nfunction IconsPlugin(options) {\n  var\n    elements = this,\n    selector = 'i8-icon,i8icon,[i8-icon],[i8icon],[data-i8-icon],[data-i8icon],.i8icon,.i8-icon',\n    optionsApplied = false;\n\n  if (elements.is(selector)) {\n    elements.i8icon(options);\n    optionsApplied = true;\n  }\n  elements.find(selector).i8icon(\n    optionsApplied\n      ? null\n      : options\n  );\n\n  if (!IconsPlugin.bootstraped) {\n    if (!optionsApplied) {\n      IconPlugin._applyConfig(options);\n    }\n    IconsPlugin.setBootstrapped();\n  }\n\n  return elements;\n}\n\nIconsPlugin.bootstraped = false;\n\nIconsPlugin.cancelBootstrap = function() {\n  IconsPlugin.bootstraped = true;\n};\n\nIconsPlugin.isBootstrapped = function() {\n  return IconsPlugin.bootstraped;\n};\n\nIconsPlugin.setBootstrapped = function(value) {\n  IconsPlugin.bootstraped = typeof value == 'undefined'\n    ? true\n    : value;\n};\n\n'use strict';\n\nfunction bootstrap() {\n\n  jQuery(function() {\n    var\n      BOOTSTRAP_DELAY = 5,\n      timeout = di('timeout');\n\n    if (IconsPlugin.bootstraped) {\n      return;\n    }\n\n    timeout(BOOTSTRAP_DELAY).then(function() {\n      if (IconsPlugin.bootstraped) {\n        return;\n      }\n      jQuery(window.document).i8icons();\n    });\n\n  });\n\n}\n\n'use strict';\n\njQuery.fn.i8icon = IconPlugin;\njQuery.fn.i8icons = IconsPlugin;\n\nready();\nbootstrap();\n\n\n})(window, window.jQuery);"],"sourceRoot":"/source/"}