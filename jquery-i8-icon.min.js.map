{"version":3,"sources":["jquery-i8-icon.min.js"],"names":["window","jQuery","di","name","provider","error","baseProvider","providers","instances","instaces","Error","console","hasOwnProperty","Function","ready","fn","functions","push","forEach","IconPlugin","config","icon","_applyConfig","IconsPlugin","bootstraped","cancelBootstrap","this","each","I8_ICON_DATA_KEY","element","instance","data","options","refresh","IconController","id","initIconElement","_element","_getIconId","_getAlt","alt","_renderIcon","elements","selector","optionsApplied","is","i8icon","find","setBootstrapped","bootstrap","BOOTSTRAP_DELAY","timeout","then","document","i8icons","AbstractCssClassIcon","iconClassName","className","AbstractIcon","call","inherit","render","getClassList","attr","split","getAddedClassList","classList","currClassList","filter","indexOf","addedClassName","cleaner","prototype","addClass","join","removeClass","AbstractElementIcon","cloneNode","append","firstChild","removeChild","FontIcon","FONT_ICON_CLASS","ImageIcon","IMAGE_ICON_CLASS","width","height","css","pointer-events","display","loadByUrl","urlConfig","query","buildUrlParams","nodeWrapper","Promise","url","params","resolve","reject","bind","SpriteIcon","SPRITE_ICON_CLASS","SvgIcon","svgElement","svgNode","attributes","styles","defaultAttributes","index","node","iconSize","SVG_ICON_CLASS","iconManager","parseSvgOptions","removeAttr","tagName","length","setAttribute","value","children","xmlns","version","Object","keys","getAttribute","getDefaultIconSize","fit","preserveAspectRatio","viewBox","style","loadSvgByUrl","AbstractCssClassIconSetScope","classResolver","AbstractScope","parseClassResolver","parts","AbstractRemoteResourceScope","urlResolver","parseUrlResolver","_cache","_resource","urlFn","mergeObjects","_params","apply","Array","slice","arguments","location","protocol","preload","_getResource","promise","self","_loadResource","resource","AbstractRemoteSvgResourceScope","svgOptions","hasIcon","FontIconSetScope","getIcon","iconId","ImageIconScope","SpriteIconSetScope","SvgCumulativeIconSetScope","DEFAULT_WAIT_DURATION","iconIdResolver","waitDuration","waitPromise","waitIconIds","SvgIconSet","exists","getIconById","mergeByUrl","notExists","iconSet","SvgIconScope","SvgIconSetScope","ScopeCollection","collection","add","scope","unshift","all","map","item","getIconScope","scopes","nodes","log","icons","querySelectorAll","e","warn","ids","merge","IconManager","_collections","_defaultCollectionId","_defaultIconSize","DEFAULT_ICON_SIZE","announceIconNotFound","iconSetId","errorMessage","announceIconNotFoundForPromiseCatch","CHECK_URL_REGEX","SINGLE_ICONS_COLLECTION_ID","addIcon","getExt","toLowerCase","ext","addImageIcon","addSvgIcon","_getSingleIconsCollection","addSvgIconSet","ScopeConstructor","cumulative","_getCollection","addFontIconSet","classConfig","addSpriteIconSet","addIconSetAlias","alias","setDefaultIconSet","setDefaultIconSize","collections","delimiterPosition","test","hasSingleIcon","hasIconSet","hasDefaultIconSet","Constructor","Parent","methods","properties","create","expectAlt","expectAria","attrName","defaultValue","childHasAttribute","isHidden","currentStyle","getComputedStyle","child","hasChildren","hasChildNodes","childNodes","nodeType","hasAttribute","trim","parentsHaveText","parent","text","prop","ICON_CLASS","hasClass","httpGet","el","response","first","message","String","responseText","statusText","font","sprite","sourceAlias","defaultIconSetUrl","defaultSource","defaultIconSize","prepend","classBuilder","param","gateway","platformsMap","possiblePrefixes","platforms","ios8","win8","android","androidL","colored","platform","isArray","position","prefix","deferred","Deferred","_jqPromise","promises","jqPromises","result","when","done","fail","jqPromise","cache","compiledUrl","urlBuilder","ajax","dataType","success","getConsoleWriteDelegate","type","noop","logDebug","debug","debugEnabled","args","extend","concat","delay","resolveFn","_timeoutId","setTimeout","cancel","timeoutPromise","clearTimeout","normalizeConfigs","configs","normalizeConfigFilter","normalizeConfig","normalizeUrlBasedConfig","uri","normalizeClassNameBasedConfig","publicApi","iconSets","fonts","sprites","prefixes","match","exec","_renderedIconCleaner","_renderedIconId","isBootstrapped"],"mappings":"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","file":"jquery-i8-icon.min.js","sourcesContent":[";(function(window, jQuery) {\n\n'use strict';\n\ndi('AbstractCssClassIcon', function() {\n  var\n    AbstractIcon = di('AbstractIcon'),\n    inherit = di('inherit')\n    ;\n\n  function AbstractCssClassIcon(iconClassName, className) {\n    AbstractIcon.call(this, iconClassName);\n    this.className = className;\n  }\n\n  return inherit(AbstractCssClassIcon, AbstractIcon, {\n\n    render: function(element) {\n      var\n        classList,\n        addedClassName,\n        cleaner;\n\n      function getClassList() {\n        return element\n          .attr('class')\n          .split(/\\s+/);\n      }\n\n      function getAddedClassList(classList) {\n        var\n          currClassList = getClassList();\n        classList = classList || [];\n        return currClassList.filter(function(className) {\n          return classList.indexOf(className) == -1;\n        });\n      }\n\n      cleaner = AbstractIcon.prototype.render.call(this, element);\n\n      classList = getClassList();\n      element.addClass(this.className);\n      addedClassName = getAddedClassList(classList).join(' ');\n\n      return function() {\n        element.removeClass(addedClassName);\n        cleaner && cleaner();\n      }\n    }\n\n  });\n\n});\n'use strict';\n\ndi('AbstractElementIcon', function() {\n  var\n    AbstractIcon = di('AbstractIcon'),\n    inherit = di('inherit')\n    ;\n\n  function AbstractElementIcon(iconClassName, element) {\n    AbstractIcon.call(this, iconClassName);\n    this.element = element;\n  }\n\n  return inherit(AbstractElementIcon, AbstractIcon, {\n\n    cloneNode: function() {\n      return this.element[0].cloneNode(true);\n    },\n\n    render: function(element) {\n      var\n        cleaner;\n\n      cleaner = AbstractIcon.prototype.render.call(this, element);\n      element.append(this.cloneNode());\n\n      return function() {\n        while (element.firstChild) {\n          element.removeChild(element.firstChild);\n        }\n        cleaner && cleaner();\n      }\n    }\n\n  });\n\n});\n'use strict';\n\ndi('AbstractIcon', function() {\n\n  function AbstractIcon(iconClassName) {\n    this.iconClassName = iconClassName;\n  }\n\n  AbstractIcon.prototype = {\n\n    render: function(element) {\n      var\n        iconClassName = this.iconClassName;\n      element.addClass(iconClassName);\n      return function() {\n        element.removeClass(iconClassName);\n      }\n    }\n\n  };\n\n  return AbstractIcon;\n  \n\n});\n'use strict';\n\ndi('FontIcon', function() {\n  var\n    AbstractCssClassIcon = di('AbstractCssClassIcon'),\n    inherit = di('inherit')\n    ;\n\n  function FontIcon(className) {\n    var\n      FONT_ICON_CLASS = 'i8-font-icon';\n\n    AbstractCssClassIcon.call(this, FONT_ICON_CLASS, className);\n  }\n\n  return inherit(FontIcon, AbstractCssClassIcon);\n\n});\n'use strict';\n\ndi('ImageIcon', function(di) {\n  var\n    AbstractElementIcon = di('AbstractElementIcon'),\n    inherit = di('inherit')\n    ;\n\n  function ImageIcon(element) {\n    var\n      IMAGE_ICON_CLASS = 'i8-image-icon';\n\n    element.attr({\n      width: '100%',\n      height: '100%'\n    });\n\n    element.css({\n      \"pointer-events\": 'none',\n      display: 'inline-block'\n    });\n\n    AbstractElementIcon.call(this, IMAGE_ICON_CLASS, element);\n  }\n\n  ImageIcon.loadByUrl = function(urlConfig) {\n    var\n      buildUrlParams = di('buildUrlParams'),\n      nodeWrapper = di('nodeWrapper'),\n      Promise = di('Promise'),\n      url = urlConfig,\n      query,\n      element\n      ;\n\n    if (typeof urlConfig == 'object') {\n      url = urlConfig.url;\n      query = buildUrlParams(urlConfig.params);\n      if (query) {\n        url = [url, query].join('?');\n      }\n    }\n\n    return new Promise(function(resolve, reject) {\n      element = nodeWrapper('<img>');\n      element.bind('load', function() {\n        resolve(new ImageIcon(element));\n      });\n      element.bind('error', reject);\n      element.attr('src', url);\n    });\n\n  };\n\n  return inherit(ImageIcon, AbstractElementIcon);\n\n});\n'use strict';\n\ndi('SpriteIcon', function() {\n  var\n    AbstractCssClassIcon = di('AbstractCssClassIcon'),\n    inherit = di('inherit')\n    ;\n\n  function SpriteIcon(className) {\n    var\n      SPRITE_ICON_CLASS = 'i8-sprite-icon';\n\n    AbstractCssClassIcon.call(this, SPRITE_ICON_CLASS, className);\n  }\n\n  return inherit(SpriteIcon, AbstractCssClassIcon);\n\n});\n'use strict';\n\ndi('SvgIcon', function(di) {\n  var\n    AbstractElementIcon = di('AbstractElementIcon'),\n    inherit = di('inherit')\n    ;\n\n  function SvgIcon(element, options) {\n    var\n      SVG_ICON_CLASS = 'i8-svg-icon',\n      nodeWrapper = di('nodeWrapper'),\n      iconManager = di('iconManager'),\n      parseSvgOptions = di('parseSvgOptions'),\n      svgElement,\n      svgNode,\n      attributes,\n      styles,\n      defaultAttributes,\n      index,\n      node,\n      iconSize;\n\n    options = parseSvgOptions(options);\n\n    element.removeAttr('id');\n\n    node = element[0];\n    if (node.tagName != 'svg') {\n      if (node.tagName == 'symbol') {\n        svgElement = nodeWrapper('<svg xmlns=\"http://www.w3.org/2000/svg\">');\n        svgNode = svgElement[0];\n        attributes = node.attributes;\n        for (index = 0; index < attributes.length; index++) {\n          svgNode.setAttribute(attributes[index].name, attributes[index].value);\n        }\n        element = svgElement.append(nodeWrapper(node).children());\n      }\n      else {\n        element = nodeWrapper('<svg xmlns=\"http://www.w3.org/2000/svg\">').append(element);\n      }\n    }\n    node = element[0];\n\n    defaultAttributes = {\n      xmlns: 'http://www.w3.org/2000/svg',\n      version: '1.0'\n    };\n\n    Object.keys(defaultAttributes)\n      .forEach(function(name) {\n        if (!node.getAttribute(name)) {\n          node.setAttribute(name, defaultAttributes[name]);\n        }\n      });\n\n    iconSize = options.iconSize || iconManager.getDefaultIconSize();\n\n    attributes = {\n      fit: '',\n      height: '100%',\n      width: '100%',\n      preserveAspectRatio: 'xMidYMid meet',\n      viewBox: node.getAttribute('viewBox') || options.viewBox || ('0 0 ' + iconSize + ' ' + iconSize)\n    };\n\n    Object.keys(attributes)\n      .forEach(function(name) {\n        node.setAttribute(name, attributes[name]);\n      });\n\n    styles = {\n      \"pointer-events\": 'none',\n      display: 'inline-block'\n    };\n\n    Object.keys(styles)\n      .forEach(function(name) {\n        node.style[name] = styles[name];\n      });\n\n    this.iconSize = iconSize;\n    AbstractElementIcon.call(this, SVG_ICON_CLASS, element);\n  }\n\n  SvgIcon.loadByUrl = function(url, options) {\n    var\n      loadSvgByUrl = di('loadSvgByUrl');\n\n    return loadSvgByUrl(url)\n      .then(function(element) {\n        return new SvgIcon(\n          element,\n          options\n        )\n      });\n  };\n\n  return inherit(SvgIcon, AbstractElementIcon);\n\n});\n\n'use strict';\n\ndi('AbstractCssClassIconSetScope', function(di) {\n  var\n    AbstractScope = di('AbstractScope'),\n    inherit = di('inherit')\n    ;\n\n  function AbstractCssClassIconSetScope(id, classResolver) {\n\n    AbstractScope.call(this, id);\n    this.classResolver = parseClassResolver(classResolver);\n  }\n\n  return inherit(AbstractCssClassIconSetScope, AbstractScope);\n\n  function parseClassResolver(classResolver) {\n    var\n      parts;\n    if (typeof classResolver == 'function') {\n      return classResolver;\n    }\n    classResolver = (classResolver || '') + '';\n\n    parts = classResolver.split(/[?%]/);\n    return function(id) {\n      return parts.join(id);\n    }\n  }\n\n});\n'use strict';\n\ndi('AbstractRemoteResourceScope', function(di) {\n  var\n    AbstractScope = di('AbstractScope'),\n    inherit = di('inherit')\n  ;\n\n  function AbstractRemoteResourceScope(id, urlConfig) {\n    AbstractScope.call(this, id);\n\n    this.urlResolver = parseUrlResolver(urlConfig);\n    this._cache = null;\n    this._resource = null;\n  }\n\n  return inherit(AbstractRemoteResourceScope, AbstractScope, {\n\n    preload: function() {\n      return this._getResource();\n    },\n\n    _getResource: function() {\n      var\n        promise,\n        self = this;\n\n      if (this._cache) {\n        return this._cache;\n      }\n      promise = this._cache = this._loadResource();\n      promise.then(null,\n        function(resource) {\n          self._resource = resource;\n        },\n        function() {\n          self._cache = null;\n        }\n      );\n\n      return promise;\n    },\n\n    _loadResource: function() {\n      var\n        Promise = di('Promise');\n      return Promise.reject();\n    }\n\n  });\n\n  function parseUrlResolver(urlConfig) {\n    var\n      mergeObjects = di('mergeObjects'),\n      url,\n      urlFn,\n      params = null;\n\n    if (url && typeof url == 'object') {\n      url = urlConfig.url;\n      params = urlConfig.params;\n    }\n    else {\n      url = urlConfig;\n    }\n\n    urlFn = (typeof url == 'function')\n      ? url\n      : function() { return url; };\n\n    return function(/* value[, value[, ...]]] */) {\n      var\n        urlConfig,\n        _params = null,\n        url\n        ;\n\n      urlConfig = urlFn.apply(null, Array.prototype.slice.call(arguments));\n      url = urlConfig;\n      if (urlConfig && typeof urlConfig == 'object') {\n        url = urlConfig.url;\n        _params = urlConfig.params;\n      }\n\n      if (url.slice(0, 2) === '//') {\n        url = window.document.location.protocol + url;\n      }\n\n      return {\n        url: url,\n        params: mergeObjects({}, params || {}, _params || {})\n      }\n    };\n  }\n\n});\n'use strict';\n\ndi('AbstractRemoteSvgResourceScope', function(di) {\n  var\n    AbstractRemoteResourceScope = di('AbstractRemoteResourceScope'),\n    inherit = di('inherit')\n  ;\n\n  function AbstractRemoteSvgResourceScope(id, urlConfig, svgOptions) {\n    var\n      parseSvgOptions = di('parseSvgOptions');\n\n    AbstractRemoteResourceScope.call(this, id, urlConfig);\n\n    this.svgOptions = parseSvgOptions(svgOptions);\n  }\n\n  return inherit(AbstractRemoteSvgResourceScope, AbstractRemoteResourceScope);\n\n});\n'use strict';\n\ndi('AbstractScope', function() {\n\n  function AbstractScope(id) {\n    this.id = id;\n  }\n\n  AbstractScope.prototype = {\n\n    preload: function() {\n      return true;\n    },\n\n    hasIcon: function() {\n      return true;\n    }\n\n  };\n\n  return AbstractScope;\n\n});\n'use strict';\n\ndi('FontIconSetScope', function(di) {\n  var\n    AbstractCssClassIconSetScope = di('AbstractCssClassIconSetScope'),\n    inherit = di('inherit')\n    ;\n\n  function FontIconSetScope(id, classResolver) {\n    AbstractCssClassIconSetScope.call(this, id, classResolver);\n  }\n\n  return inherit(FontIconSetScope, AbstractCssClassIconSetScope, {\n\n    getIcon: function(iconId, params) {\n      var\n        FontIcon = di('FontIcon');\n      return new FontIcon(this.classResolver(iconId, params));\n    }\n\n  });\n\n});\n'use strict';\n\ndi('ImageIconScope', function(di) {\n  var\n    AbstractRemoteResourceScope = di('AbstractRemoteResourceScope'),\n    inherit = di('inherit')\n    ;\n\n  function ImageIconScope(id, urlConfig) {\n    AbstractRemoteResourceScope.call(this, id, urlConfig);\n  }\n\n  return inherit(ImageIconScope, AbstractRemoteResourceScope, {\n\n    _loadResource: function() {\n      var\n        ImageIcon = di('ImageIcon');\n      return ImageIcon.loadByUrl(this.urlResolver());\n    },\n\n    hasIcon: function(iconId) {\n      return iconId == this.id;\n    },\n\n    getIcon: function() {\n      return this._getResource();\n    }\n\n  });\n\n});\n'use strict';\n\ndi('SpriteIconSetScope', function(di) {\n  var\n    AbstractCssClassIconSetScope = di('AbstractCssClassIconSetScope'),\n    inherit = di('inherit')\n    ;\n\n  function SpriteIconSetScope(id, classResolver) {\n    AbstractCssClassIconSetScope.call(this, id, classResolver);\n  }\n\n  return inherit(SpriteIconSetScope, AbstractCssClassIconSetScope, {\n\n    getIcon: function(iconId) {\n      var\n        SpriteIcon = di('SpriteIcon');\n      return new SpriteIcon(this.classResolver(iconId));\n    }\n\n  });\n\n});\n'use strict';\n\ndi('SvgCumulativeIconSetScope', function(di) {\n  var\n    AbstractRemoteSvgResourceScope = di('AbstractRemoteSvgResourceScope'),\n    inherit = di('inherit')\n    ;\n\n  function SvgCumulativeIconSetScope(id, urlConfig, options) {\n    var\n      DEFAULT_WAIT_DURATION = 10;\n\n    AbstractRemoteSvgResourceScope.call(this, id, urlConfig, options);\n    options = options && typeof options == 'object'\n      ? options\n      : {};\n\n    this.iconIdResolver = typeof options.iconIdResolver == 'function'\n      ? options.iconIdResolver\n      : null;\n\n    this.waitDuration = options.waitDuration || DEFAULT_WAIT_DURATION;\n    this.waitPromise = null;\n    this.waitIconIds = [];\n  }\n\n  return inherit(SvgCumulativeIconSetScope, AbstractRemoteSvgResourceScope, {\n\n    _loadResource: function() {\n      var\n        SvgIconSet = di('SvgIconSet');\n      return SvgIconSet.loadByUrl(this.urlResolver(this.waitIconIds), this.svgOptions);\n    },\n\n    preload: function() {\n      return true;\n    },\n\n    getIcon: function(iconId, params) {\n      var\n        Promise = di('Promise'),\n        timeout = di('timeout'),\n        self = this;\n\n      if (this.iconIdResolver) {\n        iconId = this.iconIdResolver(iconId, params);\n      }\n\n      if (this._resource && this._resource.exists(iconId)) {\n        return Promise.resolve(this._resource.getIconById(iconId));\n      }\n\n      if (this.waitPromise) {\n        if (this.waitIconIds.indexOf(iconId) == -1) {\n          this.waitIconIds.push(iconId);\n        }\n      }\n      else {\n        this.waitIconIds = [iconId];\n        this.waitPromise = timeout(this.waitDuration).then(function() {\n          self.waitPromise = null;\n          if (!self._resource) {\n            return self._getResource();\n          }\n          return self._resource.mergeByUrl(\n            self.urlResolver(self._resource.notExists(self.waitIconIds)),\n            self.svgOptions\n          );\n        });\n      }\n\n      return this.waitPromise\n        .then(function(iconSet) {\n          var\n            icon = iconSet.getIconById(iconId);\n          return icon\n            ? icon\n            : Promise.reject();\n        });\n    }\n\n  });\n\n});\n'use strict';\n\ndi('SvgIconScope', function(di) {\n  var\n    AbstractRemoteSvgResourceScope = di('AbstractRemoteSvgResourceScope'),\n    inherit = di('inherit')\n    ;\n\n  function SvgIconScope(id, urlConfig, svgOptions) {\n    AbstractRemoteSvgResourceScope.call(this, id, urlConfig, svgOptions);\n  }\n\n  return inherit(SvgIconScope, AbstractRemoteSvgResourceScope, {\n\n    _loadResource: function() {\n      var\n        SvgIcon = di('SvgIcon');\n      return SvgIcon.loadByUrl(this.urlResolver(), this.svgOptions);\n    },\n\n    hasIcon: function(iconId) {\n      return iconId == this.id;\n    },\n\n    getIcon: function() {\n      return this._getResource();\n    }\n\n  });\n\n});\n'use strict';\n\ndi('SvgIconSetScope', function(di) {\n  var\n    AbstractRemoteSvgResourceScope = di('AbstractRemoteSvgResourceScope'),\n    inherit = di('inherit')\n    ;\n\n  function SvgIconSetScope(id, urlConfig, svgOptions) {\n    AbstractRemoteSvgResourceScope.call(this, id, urlConfig, svgOptions);\n  }\n\n  return inherit(SvgIconSetScope, AbstractRemoteSvgResourceScope, {\n\n    _loadResource: function() {\n      var\n        SvgIconSet = di('SvgIconSet');\n      return SvgIconSet.loadByUrl(this.urlResolver(), this.svgOptions);\n    },\n\n    hasIcon: function(iconId) {\n      return this._getResource()\n        .then(function(iconSet) {\n          return iconSet.exists(iconId);\n        })\n    },\n\n    getIcon: function(iconId) {\n      var\n        Promise = di('Promise');\n\n      return this._getResource()\n        .then(function(iconSet) {\n          var\n            icon = iconSet.getIconById(iconId);\n          return icon\n            ? icon\n            : Promise.reject();\n        })\n    }\n\n  });\n\n});\n'use strict';\n\ndi('ScopeCollection', function(di) {\n\n  function ScopeCollection() {\n    this.collection = [];\n  }\n\n  ScopeCollection.prototype = {\n\n    add: function(scope) {\n      var\n        SvgCumulativeIconSetScope = di('SvgCumulativeIconSetScope'),\n        FontIconSetScope = di('FontIconSetScope');\n\n      if (scope instanceof SvgCumulativeIconSetScope || scope instanceof FontIconSetScope) {\n        this.collection.push(scope);\n      }\n      else {\n        this.collection.unshift(scope);\n      }\n    },\n\n    preload: function() {\n      var\n        Promise = di('Promise');\n\n      return Promise.all(\n        this.collection.map(function(item) {\n          return Promise.resolve(item.preload())\n            .then(null, function() {\n              return false;\n            })\n        })\n      )\n        .then(function() {\n          return true;\n        }, function() {\n          return false;\n        });\n    },\n\n    getIconScope: function(iconId) {\n      var\n        Promise = di('Promise'),\n        SvgCumulativeIconSetScope = di('SvgCumulativeIconSetScope'),\n        collection = this.collection,\n        promise\n        ;\n\n      promise = Promise.all(\n        collection.map(function(scope) {\n          return Promise.resolve(scope.hasIcon(iconId))\n            .then(function(value) {\n              return value\n                ? scope\n                : false;\n            }, function() {\n              return false;\n            })\n        })\n      );\n\n      return promise.then(function(scopes) {\n        var\n          index;\n        for (index = 0; index < scopes.length; index++) {\n          if (scopes[index]) {\n            return scopes[index];\n          }\n        }\n        return Promise.reject();\n      });\n    },\n\n    getIcon: function(iconId, params) {\n      return this.getIconScope(iconId)\n        .then(function(scope) {\n          return scope.getIcon(iconId, params);\n        });\n    }\n\n  };\n\n  return ScopeCollection;\n\n});\n'use strict';\n\ndi('SvgIconSet', function(di) {\n\n  function SvgIconSet(element, options) {\n    var\n      log = di('log'),\n      parseSvgOptions = di('parseSvgOptions'),\n      SvgIcon = di('SvgIcon'),\n      nodeWrapper = di('nodeWrapper'),\n      index,\n      nodes,\n      node,\n      iconSize,\n      viewBox\n      ;\n\n    options = parseSvgOptions(options);\n\n    this.icons = {};\n\n    viewBox = options.viewBox || element[0].getAttribute('viewBox');\n    iconSize = options.iconSize;\n\n    try {\n      nodes = element[0].querySelectorAll('[id]');\n      for(index = 0; index < nodes.length; index++) {\n        node = nodes[index];\n        this.icons[node.getAttribute('id')] = new SvgIcon(nodeWrapper(node), {\n          iconSize: iconSize,\n          viewBox: viewBox\n        });\n      }\n    }\n    catch(e) {\n      log.warn(e);\n    }\n\n    this.iconSize = iconSize;\n    this.viewBox = viewBox;\n  }\n\n  SvgIconSet.loadByUrl = function(url, options) {\n    var\n      loadSvgByUrl = di('loadSvgByUrl');\n\n    return loadSvgByUrl(url)\n      .then(function(element) {\n        return new SvgIconSet(\n          element,\n          options\n        )\n      });\n  };\n\n  SvgIconSet.prototype = {\n\n    notExists: function(ids) {\n      var\n        icons = this.icons;\n      return ids.filter(function(id) {\n        return !icons.hasOwnProperty(id);\n      });\n    },\n\n    exists: function(id) {\n      return this.icons.hasOwnProperty(id);\n    },\n\n    getIconById: function(id) {\n      return this.icons.hasOwnProperty(id)\n        ? this.icons[id]\n        : null;\n    },\n\n    merge: function(iconSet) {\n      var\n        self = this,\n        icons = iconSet.icons;\n\n      Object.keys(icons)\n        .forEach(function(id) {\n          self.icons[id] = icons[id];\n        });\n\n      return this;\n    },\n\n    mergeByUrl: function(url, options) {\n      var\n        self = this;\n\n      return SvgIconSet.loadByUrl(url, options)\n        .then(function(iconSet) {\n          return self.merge(iconSet);\n        })\n    }\n\n  };\n\n  return SvgIconSet;\n\n});\n\n\n'use strict';\n\nfunction di(name, provider) {\n  var\n    error,\n    baseProvider,\n    providers,\n    instances;\n\n  providers = di.providers = di.providers || {};\n  instances = di.instaces = di.instaces || {};\n\n  if (provider) {\n    if (instances.hasOwnProperty(name)) {\n      error = new Error('Cannot override instantiated service \"' + name + '\"');\n      console.error(error);\n      throw error;\n    }\n    if (!(provider instanceof Function)) {\n      error = new Error('Incorrect provider function \"' + name + '\"');\n      console.error(error);\n      throw error;\n    }\n\n    if (providers.hasOwnProperty(name)) {\n      baseProvider = providers[name];\n      providers[name] = function(di) {\n        return new provider(di, new baseProvider(di));\n      };\n    }\n    else {\n      providers[name] = provider;\n    }\n  }\n  else {\n    if (!providers[name]) {\n      error = new Error('Cannot found service provider \"' + name + '\"');\n      console.error(error);\n      throw error;\n    }\n    if (!instances.hasOwnProperty(name)) {\n      try {\n        instances[name] = new providers[name](di);\n      }\n      catch(error) {\n        console.error(error);\n        throw error;\n      }\n    }\n    return instances[name];\n  }\n}\n\n\n'use strict';\n\ndi('iconManager', function(di) {\n\n  var\n    CHECK_URL_REGEX = /[-a-zA-Z0-9@:%_\\+.~#?&//=]{2,256}\\.[a-z]{2,4}\\b(\\/[-a-zA-Z0-9@:%_\\+.~#?&//=]*)?/i,\n    DEFAULT_ICON_SIZE = 24,\n    SINGLE_ICONS_COLLECTION_ID = '__SINGLE_ICONS_COLLECTION';\n\n  function IconManager() {\n    this._collections = {};\n    this._defaultCollectionId = null;\n    this._defaultIconSize = DEFAULT_ICON_SIZE;\n  }\n\n  IconManager.prototype = {\n\n    addIcon: function(id, urlConfig, options) {\n      var\n        url = urlConfig,\n        ext;\n\n      if (typeof urlConfig == 'object') {\n        url = urlConfig.url;\n      }\n      ext = typeof url == 'function'\n        ? getExt(url())\n        : getExt(url + '');\n\n      return ext == 'svg' || !ext\n        ? this.addSvgIcon(id, urlConfig, options)\n        : this.addImageIcon(id, urlConfig)\n      ;\n\n      function getExt(url) {\n        return (((url.split('?')[0] || '').split(/[/\\\\]/).slice(-1)[0] || '').split('.').slice(-1)[0] || '').toLowerCase();\n      }\n    },\n\n    addSvgIcon: function(id, urlConfig, options) {\n      var\n        SvgIconScope = di('SvgIconScope');\n      this._getSingleIconsCollection().add(new SvgIconScope(id, urlConfig, options));\n      return this;\n    },\n\n    addImageIcon: function(id, urlConfig, options) {\n      var\n        ImageIconScope = di('ImageIconScope');\n      this._getSingleIconsCollection().add(new ImageIconScope(id, urlConfig, options));\n      return this;\n    },\n\n    addSvgIconSet: function(id, urlConfig, options) {\n      var\n        SvgCumulativeIconSetScope = di('SvgCumulativeIconSetScope'),\n        SvgIconSetScope = di('SvgIconSetScope'),\n        ScopeConstructor;\n\n      options = options || {};\n\n      ScopeConstructor = options.cumulative\n        ? SvgCumulativeIconSetScope\n        : SvgIconSetScope;\n\n      this._getCollection(id).add(new ScopeConstructor(id, urlConfig, options));\n\n      return this;\n    },\n\n    addFontIconSet: function(id, classConfig) {\n      var\n        FontIconSetScope = di('FontIconSetScope');\n      this._getCollection(id).add(new FontIconSetScope(id, classConfig));\n      return this;\n    },\n\n    addSpriteIconSet: function(id, classConfig) {\n      var\n        SpriteIconSetScope = di('SpriteIconSetScope');\n      this._getCollection(id).add(new SpriteIconSetScope(id, classConfig));\n      return this;\n    },\n\n    addIconSetAlias: function(id, alias) {\n      if (!this._collections.hasOwnProperty(alias)) {\n        this._collections[alias] = this._getCollection(id);\n      }\n      return this;\n    },\n\n    setDefaultIconSet: function(id) {\n      this._defaultCollectionId = id;\n      return this;\n    },\n\n    setDefaultIconSize: function(iconSize) {\n      this._defaultIconSize = iconSize;\n      return this;\n    },\n\n    getDefaultIconSize: function() {\n      return this._defaultIconSize;\n    },\n\n    preload: function() {\n      var\n        collections = this._collections;\n\n      Object.keys(collections).forEach(function(id) {\n        collections[id].preload();\n      });\n\n    },\n\n    getIcon: function(id, params) {\n      var\n        parts,\n        delimiterPosition,\n        iconId,\n        iconSetId;\n\n      id = id || '';\n      params = params || [];\n      parts = id\n        .split(/\\s+/)\n        .filter(function(value) {\n          return value;\n        });\n      id = parts[0];\n      Array.prototype.push.apply(params, parts.slice(1));\n\n      if (CHECK_URL_REGEX.test(id)) {\n        if (!this.hasSingleIcon(id)) {\n          this.addIcon(id, id);\n        }\n        return this._getSingleIconsCollection().getIcon(id, params)\n          .then(null, announceIconNotFoundForPromiseCatch(id));\n      }\n      iconId = id;\n      iconSetId = null;\n      delimiterPosition = id.indexOf(':');\n      if (delimiterPosition != -1) {\n        iconSetId = id.slice(0, delimiterPosition);\n        iconId = id.slice(delimiterPosition+1);\n      }\n\n      if (iconSetId) {\n        if (this.hasIconSet(iconSetId)) {\n          return this._getCollection(iconSetId).getIcon(iconId, params)\n            .then(null, announceIconNotFoundForPromiseCatch(iconId, iconSetId));\n        }\n      }\n      else {\n        if (this.hasSingleIcon(iconId)) {\n          return this._getSingleIconsCollection().getIcon(iconId, params)\n            .then(null, announceIconNotFoundForPromiseCatch(iconId));\n        }\n        if (this.hasDefaultIconSet()) {\n          return this._getCollection(this._defaultCollectionId).getIcon(iconId, params)\n            .then(null, announceIconNotFoundForPromiseCatch(iconId, this._defaultCollectionId));\n        }\n      }\n\n      return announceIconNotFound(id);\n    },\n\n    hasSingleIcon: function(id) {\n      return this._getSingleIconsCollection()\n        .collection\n        .filter(function(scope) {\n          return scope.hasIcon(id);\n        })\n        .length > 0;\n    },\n\n    hasIconSet: function(id) {\n      return this._collections.hasOwnProperty(id);\n    },\n\n    hasDefaultIconSet: function() {\n      return this._defaultCollectionId && this.hasIconSet(this._defaultCollectionId);\n    },\n\n    _getCollection: function(id) {\n      var\n        ScopeCollection = di('ScopeCollection');\n      if (!this._collections.hasOwnProperty(id)) {\n        this._collections[id] = new ScopeCollection();\n      }\n      return this._collections[id];\n    },\n\n    _getSingleIconsCollection: function() {\n      return this._getCollection(SINGLE_ICONS_COLLECTION_ID);\n    }\n\n  };\n\n\n  function announceIconNotFound(iconId, iconSetId) {\n    var\n      log = di('log'),\n      Promise = di('Promise'),\n      errorMessage = 'icon \"' + iconId + '\" not found';\n\n    if (iconSetId) {\n      errorMessage += ' in \"' + iconSetId + '\" icon set';\n    }\n    log.warn(errorMessage);\n    return Promise.reject(errorMessage);\n  }\n\n  function announceIconNotFoundForPromiseCatch(iconId, iconSetId) {\n    return function() {\n      return announceIconNotFound(iconId, iconSetId);\n    }\n  }\n\n\n\n  return new IconManager;\n\n\n});\n\n\n'use strict';\n\ndi('inherit', function() {\n\n  return function inherit(Constructor, Parent, methods, properties) {\n    Constructor.prototype = Object.create(Parent.prototype, properties || {});\n    Object.keys(methods || {})\n      .forEach(function(name) {\n        Constructor.prototype[name] = methods[name];\n      });\n\n    return Constructor;\n  };\n\n});\n'use strict';\n\ndi('initIconElement', function() {\n\n  return function initIconElement(element, alt) {\n    var\n      ICON_CLASS = 'i8-icon'\n      ;\n\n    expectAlt(element, alt || '');\n    if (!element.hasClass(ICON_CLASS)) {\n      element.addClass(ICON_CLASS);\n    }\n  };\n\n  function expectAlt(element, alt) {\n\n    if (alt != '' && !parentsHaveText()) {\n      expectAria('aria-label', alt);\n      expectAria('role', 'img');\n    }\n    else {\n      expectAria('aria-hidden', 'true');\n    }\n\n    function expectAria(attrName, defaultValue) {\n      var\n        node = element[0];\n\n      if (!node.hasAttribute(attrName) && !childHasAttribute(node, attrName)) {\n        defaultValue = (typeof defaultValue == 'string') ? defaultValue.trim() : '';\n        if (defaultValue.length) {\n          element.attr(attrName, defaultValue);\n        }\n      }\n\n      function childHasAttribute(node, attrName) {\n        var\n          hasChildren = node.hasChildNodes(),\n          children,\n          index,\n          child;\n\n        if (hasChildren) {\n          children = node.childNodes;\n          for(index = 0; index < children.length; index++){\n            child = children[index];\n            if(child.nodeType === 1 && child.hasAttribute(attrName) && !isHidden(child)) {\n              return true;\n            }\n          }\n        }\n        return false;\n\n        function isHidden(node) {\n          var\n            style = node.currentStyle\n              ? node.currentStyle\n              : window.getComputedStyle(node);\n          return style.display === 'none';\n        }\n      }\n    }\n\n    function parentsHaveText() {\n      var\n        parent = element.parent();\n\n      if (parent.attr('aria-label') || parent.text().trim()) {\n        return true;\n      }\n      if (parent.prop('tagName') != 'BODY') {\n        if (parent.parent().attr('aria-label') || parent.parent().text().trim()) {\n          return true;\n        }\n      }\n      return false;\n    }\n\n  }\n\n});\n'use strict';\n\ndi('loadSvgByUrl', function(di) {\n\n  return function loadSvgByUrl(urlConfig) {\n    var\n      httpGet = di('httpGet'),\n      log = di('log'),\n      Promise = di('Promise'),\n      el = di('nodeWrapper'),\n      url = urlConfig,\n      params = null\n      ;\n\n    if (typeof urlConfig == 'object') {\n      url = urlConfig.url;\n      params = urlConfig.params;\n    }\n\n    return httpGet(url, params)\n      .then(function(response) {\n        var\n          element = el('<div>').append(response.data),\n          svgElement = element.find('svg');\n        return svgElement.length > 0\n          ? svgElement\n          : element.children().first()\n          ;\n      }, function(response) {\n        var\n          message = typeof response == 'string'\n            ? response\n            : String(response.message || response.data || response.responseText || response.statusText);\n\n        log.warn(message);\n        return Promise.reject(message);\n      });\n  }\n\n});\n\n'use strict';\n\ndi('parseSvgOptions', function() {\n\n  return function parseSvgOptions(options) {\n    if (options) {\n      switch(typeof options) {\n        case 'number':\n          options = {\n            iconSize: options\n          };\n          break;\n        case 'string':\n          options = {\n            viewBox: options\n          };\n          break;\n      }\n    }\n    else {\n      options = {};\n    }\n\n    return {\n      iconSize: options.iconSize,\n      viewBox: options.viewBox\n    }\n  }\n\n});\n'use strict';\n\ndi('publicApi', function(di) {\n  var \n    iconManager = di('iconManager');\n  \n  return {\n    icon: function(id, urlConfig, iconSize) {\n      iconManager.addIcon(id, urlConfig, iconSize);\n      return this;\n    },\n\n    iconSet: function(id, urlConfig, iconSize) {\n      iconManager.addSvgIconSet(id, urlConfig, iconSize);\n      return this;\n    },\n\n    font: function(id, classConfig) {\n      iconManager.addFontIconSet(id, classConfig);\n      return this;\n    },\n\n    sprite: function(id, classConfig) {\n      iconManager.addSpriteIconSet(id, classConfig);\n      return this;\n    },\n\n    sourceAlias: function(id, alias) {\n      iconManager.addIconSetAlias(id, alias);\n      return this;\n    },\n\n    defaultIconSetUrl: function(url, iconSize) {\n      iconManager\n        .addSvgIconSet(url, url, iconSize)\n        .setDefaultIconSet(url);\n      return this;\n    },\n\n    defaultSource: function(id) {\n      iconManager.setDefaultIconSet(id);\n      return this;\n    },\n\n    defaultIconSize: function(iconSize) {\n      iconManager.setDefaultIconSize(iconSize);\n      return this;\n    },\n\n    preload: function() {\n      iconManager.preload();\n      return this;\n    }\n\n  };\n\n});\n'use strict';\n\nfunction ready(fn) {\n  var\n    functions;\n\n  functions = ready.functions = ready.functions || [];\n\n  if (fn) {\n    functions.push(fn);\n  }\n  else {\n    functions.forEach(function(fn) {\n      fn(di);\n    });\n  }\n}\n\n'use strict';\n\nready(function(di) {\n  var\n    nodeWrapper = di('nodeWrapper');\n\n  nodeWrapper(window.document).find('head').prepend(\n    '<style type=\"text/css\">@charset \"UTF-8\";i8-icon,i8icon,[i8-icon],[i8icon],[data-i8-icon],[data-i8icon],.i8icon,.i8-icon{display:inline-block}.i8-svg-icon svg{fill:currentColor}</style>'\n  );\n\n});\n'use strict';\n\nready(function(di) {\n  var\n    iconManager = di('iconManager');\n\n  iconManager\n    .addFontIconSet(\n      'fa',\n      function(name, params) {\n        var\n          classBuilder = [\n            'fa',\n            'fa-' + name\n          ];\n        params = params || [];\n        Array.prototype.push.apply(\n          classBuilder,\n          params.map(function(param) {\n            return 'fa-'+param\n          })\n        );\n        return classBuilder.join(' ')\n      }\n    );\n\n});\n\n'use strict';\n\nready(function(di) {\n  var\n    iconManager = di('iconManager');\n\n  iconManager\n    .addIconSetAlias('glyphicon', 'gi')\n    .addFontIconSet('glyphicon', 'glyphicon glyphicon-?');\n\n});\n'use strict';\n\ndi('i8ApiConfig', function() {\n  return {\n    gateway: {\n      url: '//api.icons8.com/icon-sets'\n    }\n  };\n});\n\n'use strict';\n\nready(function(di) {\n  var\n    iconManager = di('iconManager'),\n    platforms = {\n      ios8: ['ios', 'ios7', 'i'],\n      win8: ['win', 'w'],\n      android: ['kitkat', 'ak', 'a-k', 'k'],\n      androidL: ['android-l', 'al', 'a-l', 'l'],\n      colored: ['color', 'c']\n    },\n    platformsMap,\n    possiblePrefixes;\n\n  platformsMap = {};\n  Object.keys(platforms).forEach(function(platform) {\n    platformsMap[platform.toLowerCase()] = platform;\n    platforms[platform].forEach(function(alias) {\n      platformsMap[alias] = platform;\n    });\n  });\n\n  possiblePrefixes = Object.keys(platforms)\n    .map(function(platform) {\n      return platform.toLowerCase();\n    });\n  possiblePrefixes.push(\n    'ios7'\n  );\n\n  iconManager\n    .setDefaultIconSet('i8')\n    .addSvgIconSet(\n      'i8',\n      function(icons) {\n        var\n          options = {\n            url: di('i8ApiConfig').gateway.url,\n            params: {}\n          };\n\n        if (icons) {\n          if (!Array.isArray(icons)) {\n            icons = [icons];\n          }\n          options.params.icons = icons.join(',');\n        }\n        return options;\n      },\n      {\n        cumulative: true,\n        iconIdResolver: function(id, params) {\n          var\n            index,\n            position,\n            prefix;\n          id = String(id || '');\n          if (!Array.isArray(params)) {\n            params = [];\n          }\n          params = params.map(function(param) {\n            return String(param).toLowerCase();\n          });\n          for (index = 0; index < params.length; index++) {\n            if (platformsMap.hasOwnProperty(params[index])) {\n              return [platformsMap[params[index]], id].join('-');\n            }\n          }\n          position = id.indexOf('-');\n          if (position > 0) {\n            prefix = id.slice(0, position).toLowerCase();\n            if (possiblePrefixes.indexOf(prefix)) {\n              return [platformsMap[prefix], id.slice(position + 1)].join('-');\n            }\n          }\n          return [platformsMap['c'], id].join('-');\n        }\n      }\n    );\n\n});\n\n\n'use strict';\n\ndi('Promise', function() {\n\n  if (window.Promise) {\n    return window.Promise;\n  }\n\n  function Promise(param) {\n    var\n      deferred;\n\n    if (typeof param == 'function') {\n      deferred = new jQuery.Deferred();\n      param(deferred.resolve, deferred.reject);\n      this._jqPromise = deferred;\n    }\n    else if (param && typeof param == 'object' && param.then){\n      this._jqPromise = param._jqPromise\n        ? param._jqPromise\n        : param;\n    }\n    else {\n      this._jqPromise = new jQuery.Deferred().resolve(param);\n    }\n  }\n\n  Promise.reject = function(value) {\n    return new Promise(\n      new jQuery.Deferred().reject(value)\n    );\n  };\n\n  Promise.resolve = function(value) {\n    return new Promise(\n      new jQuery.Deferred().resolve(value)\n    );\n  };\n\n  Promise.all = function(promises) {\n    var\n      jqPromises,\n      result = [];\n\n    if (!Array.isArray(promises)) {\n      return Promise.reject();\n    }\n\n    jqPromises = promises.map(function(value) {\n      if (value && typeof value == 'object' && value._jqPromise) {\n        value = value._jqPromise;\n      }\n      return value;\n    });\n    jqPromises.forEach(function(promise, index) {\n      promise.then(function(value) {\n        result[index] = value;\n      });\n    });\n\n    return new Promise(jQuery.when.apply(jQuery, jqPromises))\n      .then(function() {\n        return result;\n      })\n      ;\n  };\n\n  Promise.prototype = {\n\n    then: function(done, fail) {\n      var\n        jqPromise;\n\n      jqPromise = this._jqPromise.then(\n        done && function(value) {\n          var\n            result = done(value);\n          if (result && typeof result == 'object' && result._jqPromise) {\n            result = result._jqPromise;\n          }\n          return result;\n        },\n        fail && function(value) {\n          var\n            result = fail(value);\n          if (result && typeof result == 'object' && result.then) {\n            return result._jqPromise\n              ? result._jqPromise\n              : result;\n          }\n          if (typeof result != 'undefined') {\n            return new jQuery.Deferred().reject(result);\n          }\n        }\n      );\n\n      return new Promise(jqPromise);\n    }\n\n  };\n\n  return Promise;\n\n});\n\n'use strict';\n\ndi('buildUrlParams', function(di) {\n\n  return function buildUrlParams(params) {\n    return jQuery.param(params || {});\n  }\n\n});\n'use strict';\n\ndi('httpGet', function(di) {\n\n  var cache = {};\n\n  return function httpGet(url, params) {\n    var\n      Promise = di('Promise'),\n      buildUrlParams = di('buildUrlParams'),\n      urlBuilder = [url],\n      compiledUrl,\n      query,\n      promise\n      ;\n\n    params = params || {};\n    query = buildUrlParams(params);\n    if (query) {\n      urlBuilder.push(query);\n    }\n    compiledUrl = urlBuilder.join('?');\n\n    if (cache.hasOwnProperty(compiledUrl)) {\n      return cache[compiledUrl];\n    }\n\n    cache[compiledUrl] = promise = new Promise(function(resolve, reject) {\n      jQuery.ajax({\n        url: url,\n        data: params,\n        dataType: 'text',\n        success: function(data) {\n          resolve({\n            data: data\n          });\n        },\n        error: reject\n      })\n      ;\n    });\n\n    return promise;\n  }\n\n});\n\n'use strict';\n\ndi('log', function() {\n  var\n    noop = function() {},\n    log = {},\n    logDebug = getConsoleWriteDelegate('debug');\n\n  ['log', 'info', 'warn', 'error'].forEach(function(type) {\n    log[type] = getConsoleWriteDelegate(type);\n  });\n\n  log.debug = function() {\n    if (!log.debugEnabled) {\n      return noop;\n    }\n    return logDebug.apply(null, Array.prototype.slice.call(arguments));\n  };\n\n  return log;\n\n  function getConsoleWriteDelegate(type) {\n    return function() {\n      var\n        console = window.console;\n\n      if (console) {\n        console[type].apply(console, Array.prototype.slice.call(arguments));\n      }\n    }\n  }\n\n\n\n});\n\n\n'use strict';\n\ndi('mergeObjects', function() {\n\n  return function mergeObjects(/* to, from [, from[, ...]]*/) {\n    var\n      args = Array.prototype.slice.call(arguments);\n\n    switch(args.length) {\n      case 0: args.push({});\n      case 1: args.push({});\n    }\n\n    return jQuery.extend.apply(jQuery, [true].concat(args));\n  }\n\n});\n\n\n'use strict';\n\ndi('nodeWrapper', function() {\n  return jQuery;\n});\n'use strict';\n\ndi('timeout', function(di) {\n\n  function timeout(fn, delay) {\n    var\n      Promise = di('Promise'),\n      promise,\n      resolve;\n\n    if (typeof fn != 'function') {\n      delay = fn;\n      fn = function() {};\n    }\n\n    promise = new Promise(function(resolveFn) {\n      resolve = resolveFn;\n    });\n    promise.then(fn);\n    promise._timeoutId = setTimeout(resolve, delay);\n\n    return promise;\n  }\n\n  timeout.cancel = function(timeoutPromise) {\n    if (timeoutPromise._timeoutId) {\n      clearTimeout(timeoutPromise._timeoutId);\n    }\n  };\n\n  return timeout;\n\n});\n\n\n'use strict';\n\nfunction IconPlugin(config) {\n  config = config || {};\n\n  if (typeof config == 'string') {\n    config = {\n      icon: config\n    };\n  }\n\n  IconPlugin._applyConfig(config);\n\n  if (!IconsPlugin.bootstraped) {\n    IconsPlugin.cancelBootstrap();\n  }\n\n  return this.each(function() {\n    var\n      I8_ICON_DATA_KEY = '__I8_ICON_DATA',\n      element = jQuery(this),\n      instance = element.data(I8_ICON_DATA_KEY),\n      options = {\n        icon: config.icon + ''\n      };\n\n    if (instance) {\n      instance.refresh(options);\n    }\n    else {\n      element.data(I8_ICON_DATA_KEY, new IconController(element, options));\n    }\n  });\n}\n\nIconPlugin._applyConfig = function(config) {\n  var\n    publicApi = di('publicApi'),\n    iconManager = di('iconManager');\n\n  if (typeof config == 'function') {\n    config = config(publicApi);\n  }\n  config = config || {};\n\n  normalizeConfigs(config.icons, normalizeUrlBasedConfig).forEach(function(config) {\n    if (!iconManager.hasSingleIcon(config.id)) {\n      iconManager.addIcon(config.id, config.url, config);\n    }\n  });\n  normalizeConfigs(config[\"icon-sets\"] || config.iconSets, normalizeUrlBasedConfig).forEach(function(config) {\n    if (!iconManager.hasIconSet(config.id)) {\n      iconManager.addSvgIconSet(config.id, config.url, config);\n    }\n  });\n  normalizeConfigs(config.fonts, normalizeClassNameBasedConfig).forEach(function(config) {\n    if (!iconManager.hasIconSet(config.id)) {\n      iconManager.addFontIconSet(config.id, config.className);\n    }\n  });\n  normalizeConfigs(config.sprites, normalizeClassNameBasedConfig).forEach(function(config) {\n    if (!iconManager.hasIconSet(config.id)) {\n      iconManager.addSpriteIconSet(config.id, config.className);\n    }\n  });\n\n  function normalizeConfigs(configs, normalizeConfigFilter) {\n    if (configs && typeof configs == 'object') {\n      if (Array.isArray(configs)) {\n        configs = configs.map(normalizeConfig);\n      }\n      else {\n        configs = Object.keys(configs)\n          .map(function(id) {\n            return normalizeConfig(configs[id], id);\n          });\n      }\n      return configs.filter(function(config) {\n        return config;\n      });\n    }\n    return [];\n\n    function normalizeConfig(config, id) {\n      config = config || {};\n      if (typeof config != 'string') {\n        if (!config.id && config.id !== 0) {\n          config.id = id;\n        }\n      }\n      return normalizeConfigFilter && normalizeConfigFilter(config, id);\n    }\n  }\n\n  function normalizeUrlBasedConfig(config, id) {\n    if (typeof config == 'string') {\n      config = {\n        url: config,\n        id: id\n      }\n    }\n    config.url = config.url || config.uri;\n    return config.id && config.url\n      ? config\n      : null;\n  }\n\n  function normalizeClassNameBasedConfig(config, id) {\n    if (typeof config == 'string') {\n      config = {\n        className: config,\n        id: id\n      }\n    }\n    config.className = config.className || config[\"class\"];\n    return config.id && config.className\n      ? config\n      : null;\n  }\n\n};\n\nfunction IconController(element, options) {\n  var\n    initIconElement = di('initIconElement'),\n    id;\n\n  options = options || {};\n  this._element = element;\n\n  id = this._getIconId() || options.icon;\n  initIconElement(element, this._getAlt() || options.alt || id);\n  this._renderIcon(id);\n}\n\nIconController.prototype = {\n\n  _getAlt: function() {\n    var\n      element = this._element;\n    return element.attr('alt') || element.data('alt');\n  },\n\n  _getIconId: function() {\n    var\n      element = this._element,\n      index,\n      prefixes,\n      prefix,\n      id = null;\n\n    prefixes = ['', 'i8-', 'i8', 'i8:'];\n    for (index = 0; !id && index < prefixes.length; index++) {\n      prefix = prefixes[index];\n      id = element.attr(prefix + 'icon') || element.data(prefix + 'icon');\n    }\n\n    if (!id) {\n      id = element\n        .attr('class')\n        .split(/\\s+/)\n        .map(function(className) {\n          var\n            match,\n            parts;\n          match = /^i8[-:]?icon[-:]([^;|,]+)[;|,]?(.*)$/i.exec(className);\n          if (!match || !match[1]) {\n            return null;\n          }\n          parts = [match[1]];\n          if (match[2]) {\n            Array.prototype.push.apply(parts, match[2].split(/[;|,:]/));\n          }\n          return parts.join(' ');\n        })\n        .filter(function(iconId) {\n          return iconId;\n        })\n        [0];\n    }\n\n    return id;\n  },\n\n  _renderIcon: function(iconId) {\n    var\n      iconManager = di('iconManager'),\n      element = this._element,\n      cleaner = this._renderedIconCleaner,\n      self = this;\n\n    iconId = iconId || this._getIconId();\n\n    if (iconId == this._renderedIconId) {\n      return;\n    }\n\n    cleaner && cleaner();\n    this._renderedIconCleaner = null;\n    if (iconId) {\n      iconManager.getIcon(iconId).then(function(icon) {\n        self._renderedIconCleaner = icon.render(element);\n      });\n    }\n\n    this._renderedIconId = iconId;\n  },\n\n  refresh: function(options) {\n    this._renderIcon(this._getIconId() || options.icon);\n  }\n\n};\n'use strict';\n\nfunction IconsPlugin(options) {\n  var\n    elements = this,\n    selector = 'i8-icon,i8icon,[i8-icon],[i8icon],[data-i8-icon],[data-i8icon],.i8icon,.i8-icon',\n    optionsApplied = false;\n\n  if (elements.is(selector)) {\n    elements.i8icon(options);\n    optionsApplied = true;\n  }\n  elements.find(selector).i8icon(\n    optionsApplied\n      ? null\n      : options\n  );\n\n  if (!IconsPlugin.bootstraped) {\n    if (!optionsApplied) {\n      IconPlugin._applyConfig(options);\n    }\n    IconsPlugin.setBootstrapped();\n  }\n\n  return elements;\n}\n\nIconsPlugin.bootstraped = false;\n\nIconsPlugin.cancelBootstrap = function() {\n  IconsPlugin.bootstraped = true;\n};\n\nIconsPlugin.isBootstrapped = function() {\n  return IconsPlugin.bootstraped;\n};\n\nIconsPlugin.setBootstrapped = function(value) {\n  IconsPlugin.bootstraped = typeof value == 'undefined'\n    ? true\n    : value;\n};\n\n'use strict';\n\nfunction bootstrap() {\n\n  jQuery(function() {\n    var\n      BOOTSTRAP_DELAY = 5,\n      timeout = di('timeout');\n\n    if (IconsPlugin.bootstraped) {\n      return;\n    }\n\n    timeout(BOOTSTRAP_DELAY).then(function() {\n      if (IconsPlugin.bootstraped) {\n        return;\n      }\n      jQuery(window.document).i8icons();\n    });\n\n  });\n\n}\n\n'use strict';\n\njQuery.fn.i8icon = IconPlugin;\njQuery.fn.i8icons = IconsPlugin;\n\nready();\nbootstrap();\n\n\n})(window, window.jQuery);"],"sourceRoot":"/source/"}