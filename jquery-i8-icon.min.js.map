{"version":3,"sources":["jquery-i8-icon.min.js"],"names":["window","jQuery","di","name","provider","error","baseProvider","providers","instances","instaces","Error","console","hasOwnProperty","Function","ready","fn","functions","push","forEach","IconPlugin","config","icon","_applyConfig","IconsPlugin","bootstraped","cancelBootstrap","this","each","I8_ICON_DATA_KEY","element","instance","data","options","refresh","IconController","initIconElement","_element","_getAlt","_getIconId","_renderIcon","elements","selector","optionsApplied","is","i8icon","find","setBootstrapped","bootstrap","BOOTSTRAP_DELAY","timeout","then","document","i8icons","AbstractCssClassIcon","iconClassName","className","AbstractIcon","call","inherit","render","getClassList","attr","split","getAddedClassList","classList","currClassList","filter","indexOf","addedClassName","cleaner","prototype","addClass","join","removeClass","AbstractElementIcon","cloneNode","append","firstChild","removeChild","FontIcon","FONT_ICON_CLASS","ImageIcon","IMAGE_ICON_CLASS","width","height","css","pointer-events","display","loadByUrl","urlConfig","query","buildUrlParams","nodeWrapper","Promise","url","params","resolve","reject","bind","SpriteIcon","SPRITE_ICON_CLASS","SvgIcon","svgElement","svgNode","attributes","styles","defaultAttributes","index","node","iconSize","SVG_ICON_CLASS","iconManager","parseSvgOptions","removeAttr","tagName","length","setAttribute","value","children","xmlns","version","Object","keys","getAttribute","getDefaultSvgIconSize","fit","preserveAspectRatio","viewBox","style","loadSvgByUrl","AbstractCssClassIconSetScope","id","cssClassResolver","AbstractScope","_classResolver","parseCssClassResolver","classResolver","parts","_resolveCssClass","AbstractRemoteResourceScope","_urlResolver","parseUrlResolver","_preloadable","preloadable","_cache","_resource","urlFn","mergeObjects","_params","apply","Array","slice","arguments","String","location","protocol","preload","_getResource","_resolveUrl","promise","self","_loadResource","resource","AbstractRemoteSvgResourceScope","svgOptions","_iconIdParser","parseIconIdResolver","iconIdParser","_iconIdResolver","iconIdResolver","hasIcon","_parseIconId","iconId","_resolveIconId","FontIconSetScope","getIcon","ImageIconScope","SpriteIconSetScope","SvgCumulativeIconSetScope","DEFAULT_WAIT_DURATION","waitDuration","waitPromise","waitIconIds","SvgIconSet","exists","getIconById","mergeByUrl","notExists","iconSet","SvgIconScope","SvgIconSetScope","ScopeCollection","collection","add","scope","unshift","all","map","item","getIconScope","scopes","nodes","log","icons","querySelectorAll","e","warn","ids","merge","IconManager","_collections","_defaultCollectionId","_defaultSvgIconSize","DEFAULT_SVG_ICON_SIZE","announceIconNotFound","iconSetId","errorMessage","announceIconNotFoundForPromiseCatch","CHECK_URL_REGEX","SINGLE_ICONS_COLLECTION_ID","addIcon","getExt","toLowerCase","ext","addImageIcon","addSvgIcon","_getSingleIconsCollection","addSvgIconSet","ScopeConstructor","cumulative","_getCollection","addFontIconSet","cssClassConfig","addSpriteIconSet","addIconSetAlias","alias","setDefaultIconSet","setDefaultSvgIconSize","collections","delimiterPosition","test","hasSingleIcon","hasIconSet","hasDefaultIconSet","Constructor","Parent","methods","properties","create","expectAlt","alt","expectAria","attrName","defaultValue","childHasAttribute","isHidden","currentStyle","getComputedStyle","child","hasChildren","hasChildNodes","childNodes","nodeType","hasAttribute","trim","parentsHaveText","parent","text","prop","pieces","ICON_CLASS","hasClass","httpGet","el","response","first","message","responseText","statusText","api","svgSet","font","sprite","sourceAlias","defaultSvgSetUrl","defaultSource","defaultSvgIconSize","defaultIconSetUrl","defaultSvgIconSetUrl","prepend","classBuilder","param","gateway","platformsMap","platforms","ios8","win8","android","androidL","flat_color","platform","isArray","categories","iconIdFilter","replace","category","deferred","Deferred","_jqPromise","promises","jqPromises","result","when","done","fail","jqPromise","cache","compiledUrl","urlBuilder","ajax","dataType","success","getConsoleWriteDelegate","type","noop","logDebug","debug","debugEnabled","args","extend","concat","delay","resolveFn","_timeoutId","setTimeout","cancel","timeoutPromise","clearTimeout","parseConfigs","parseConfig","configParserFn","configs","pop","parseUrlBasedConfig","uri","parseCssClassNameBasedConfig","cssClass","parsedConfig","addConfig","addConfigDecorator","configStrategies","publicApi","iconSetsExistenceMap","entity","svgSets","iconSets","fonts","sprites","size","svgIconSize","altAttr","altData","prefixes","prefix","match","exec","_renderedIconCleaner","_renderedIconId","isBootstrapped"],"mappings":"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","file":"jquery-i8-icon.min.js","sourcesContent":[";(function(window, jQuery) {\n\n'use strict';\n\ndi('AbstractCssClassIcon', function() {\n  var\n    AbstractIcon = di('AbstractIcon'),\n    inherit = di('inherit')\n    ;\n\n  function AbstractCssClassIcon(iconClassName, className) {\n    AbstractIcon.call(this, iconClassName);\n    this.className = className;\n  }\n\n  return inherit(AbstractCssClassIcon, AbstractIcon, {\n\n    render: function(element) {\n      var\n        classList,\n        addedClassName,\n        cleaner;\n\n      function getClassList() {\n        return element\n          .attr('class')\n          .split(/\\s+/);\n      }\n\n      function getAddedClassList(classList) {\n        var\n          currClassList = getClassList();\n        classList = classList || [];\n        return currClassList.filter(function(className) {\n          return classList.indexOf(className) == -1;\n        });\n      }\n\n      cleaner = AbstractIcon.prototype.render.call(this, element);\n\n      classList = getClassList();\n      element.addClass(this.className);\n      addedClassName = getAddedClassList(classList).join(' ');\n\n      return function() {\n        element.removeClass(addedClassName);\n        cleaner && cleaner();\n      }\n    }\n\n  });\n\n});\n'use strict';\n\ndi('AbstractElementIcon', function() {\n  var\n    AbstractIcon = di('AbstractIcon'),\n    inherit = di('inherit')\n    ;\n\n  function AbstractElementIcon(iconClassName, element) {\n    AbstractIcon.call(this, iconClassName);\n    this.element = element;\n  }\n\n  return inherit(AbstractElementIcon, AbstractIcon, {\n\n    cloneNode: function() {\n      return this.element[0].cloneNode(true);\n    },\n\n    render: function(element) {\n      var\n        cleaner;\n\n      cleaner = AbstractIcon.prototype.render.call(this, element);\n      element.append(this.cloneNode());\n\n      return function() {\n        while (element.firstChild) {\n          element.removeChild(element.firstChild);\n        }\n        cleaner && cleaner();\n      }\n    }\n\n  });\n\n});\n'use strict';\n\ndi('AbstractIcon', function() {\n\n  function AbstractIcon(iconClassName) {\n    this.iconClassName = iconClassName;\n  }\n\n  AbstractIcon.prototype = {\n\n    render: function(element) {\n      var\n        iconClassName = this.iconClassName;\n      element.addClass(iconClassName);\n      return function() {\n        element.removeClass(iconClassName);\n      }\n    }\n\n  };\n\n  return AbstractIcon;\n  \n\n});\n'use strict';\n\ndi('FontIcon', function() {\n  var\n    AbstractCssClassIcon = di('AbstractCssClassIcon'),\n    inherit = di('inherit')\n    ;\n\n  function FontIcon(className) {\n    var\n      FONT_ICON_CLASS = 'i8-font-icon';\n\n    AbstractCssClassIcon.call(this, FONT_ICON_CLASS, className);\n  }\n\n  return inherit(FontIcon, AbstractCssClassIcon);\n\n});\n'use strict';\n\ndi('ImageIcon', function(di) {\n  var\n    AbstractElementIcon = di('AbstractElementIcon'),\n    inherit = di('inherit')\n    ;\n\n  function ImageIcon(element) {\n    var\n      IMAGE_ICON_CLASS = 'i8-image-icon';\n\n    element.attr({\n      width: '100%',\n      height: '100%'\n    });\n\n    element.css({\n      \"pointer-events\": 'none',\n      display: 'inline-block'\n    });\n\n    AbstractElementIcon.call(this, IMAGE_ICON_CLASS, element);\n  }\n\n  ImageIcon.loadByUrl = function(urlConfig) {\n    var\n      buildUrlParams = di('buildUrlParams'),\n      nodeWrapper = di('nodeWrapper'),\n      Promise = di('Promise'),\n      url = urlConfig,\n      query,\n      element\n      ;\n\n    if (typeof urlConfig == 'object') {\n      url = urlConfig.url;\n      query = buildUrlParams(urlConfig.params);\n      if (query) {\n        url = [url, query].join('?');\n      }\n    }\n\n    return new Promise(function(resolve, reject) {\n      element = nodeWrapper('<img>');\n      element.bind('load', function() {\n        resolve(new ImageIcon(element));\n      });\n      element.bind('error', reject);\n      element.attr('src', url);\n    });\n\n  };\n\n  return inherit(ImageIcon, AbstractElementIcon);\n\n});\n'use strict';\n\ndi('SpriteIcon', function() {\n  var\n    AbstractCssClassIcon = di('AbstractCssClassIcon'),\n    inherit = di('inherit')\n    ;\n\n  function SpriteIcon(className) {\n    var\n      SPRITE_ICON_CLASS = 'i8-sprite-icon';\n\n    AbstractCssClassIcon.call(this, SPRITE_ICON_CLASS, className);\n  }\n\n  return inherit(SpriteIcon, AbstractCssClassIcon);\n\n});\n'use strict';\n\ndi('SvgIcon', function(di) {\n  var\n    AbstractElementIcon = di('AbstractElementIcon'),\n    inherit = di('inherit')\n    ;\n\n  function SvgIcon(element, options) {\n    var\n      SVG_ICON_CLASS = 'i8-svg-icon',\n      nodeWrapper = di('nodeWrapper'),\n      iconManager = di('iconManager'),\n      parseSvgOptions = di('parseSvgOptions'),\n      svgElement,\n      svgNode,\n      attributes,\n      styles,\n      defaultAttributes,\n      index,\n      node,\n      iconSize;\n\n    options = parseSvgOptions(options);\n\n    [\n      'id',\n      'x',\n      'y'\n    ].forEach(function(attr) {\n        element.removeAttr(attr);\n      });\n\n    node = element[0];\n    if (node.tagName != 'svg') {\n      if (node.tagName == 'symbol') {\n        svgElement = nodeWrapper('<svg xmlns=\"http://www.w3.org/2000/svg\">');\n        svgNode = svgElement[0];\n        attributes = node.attributes;\n        for (index = 0; index < attributes.length; index++) {\n          svgNode.setAttribute(attributes[index].name, attributes[index].value);\n        }\n        element = svgElement.append(nodeWrapper(node).children());\n      }\n      else {\n        element = nodeWrapper('<svg xmlns=\"http://www.w3.org/2000/svg\">').append(element);\n      }\n    }\n    node = element[0];\n\n    defaultAttributes = {\n      xmlns: 'http://www.w3.org/2000/svg',\n      version: '1.0'\n    };\n\n    Object.keys(defaultAttributes)\n      .forEach(function(name) {\n        if (!node.getAttribute(name)) {\n          node.setAttribute(name, defaultAttributes[name]);\n        }\n      });\n\n    iconSize = options.iconSize || iconManager.getDefaultSvgIconSize();\n\n    attributes = {\n      fit: '',\n      height: '100%',\n      width: '100%',\n      preserveAspectRatio: 'xMidYMid meet',\n      viewBox: node.getAttribute('viewBox') || options.viewBox || ('0 0 ' + iconSize + ' ' + iconSize)\n    };\n\n    Object.keys(attributes)\n      .forEach(function(name) {\n        node.setAttribute(name, attributes[name]);\n      });\n\n    styles = {\n      \"pointer-events\": 'none',\n      display: 'inline-block'\n    };\n\n    Object.keys(styles)\n      .forEach(function(name) {\n        node.style[name] = styles[name];\n      });\n\n    this.iconSize = iconSize;\n    AbstractElementIcon.call(this, SVG_ICON_CLASS, element);\n  }\n\n  SvgIcon.loadByUrl = function(url, options) {\n    var\n      loadSvgByUrl = di('loadSvgByUrl');\n\n    return loadSvgByUrl(url)\n      .then(function(element) {\n        return new SvgIcon(\n          element,\n          options\n        )\n      });\n  };\n\n  return inherit(SvgIcon, AbstractElementIcon);\n\n});\n\n'use strict';\n\ndi('AbstractCssClassIconSetScope', function(di) {\n  var\n    AbstractScope = di('AbstractScope'),\n    inherit = di('inherit')\n    ;\n\n  function AbstractCssClassIconSetScope(id, cssClassResolver, options) {\n    AbstractScope.call(this, id, options);\n\n    this._classResolver = parseCssClassResolver(cssClassResolver);\n  }\n\n  return inherit(AbstractCssClassIconSetScope, AbstractScope, {\n\n    _resolveCssClass: function(className) {\n      return this._classResolver(className);\n    }\n\n  });\n\n  function parseCssClassResolver(classResolver) {\n    var\n      parts;\n    if (typeof classResolver == 'function') {\n      return classResolver;\n    }\n    classResolver = (classResolver || '') + '';\n\n    parts = classResolver.split(/[?%]/);\n    return function(id) {\n      return parts.join(id);\n    }\n  }\n\n});\n'use strict';\n\ndi('AbstractRemoteResourceScope', function(di) {\n  var\n    AbstractScope = di('AbstractScope'),\n    inherit = di('inherit')\n  ;\n\n  function AbstractRemoteResourceScope(id, urlConfig, options) {\n    AbstractScope.call(this, id, options);\n\n    this._urlResolver = parseUrlResolver(urlConfig);\n    this._preloadable = this.options.preloadable || typeof this.options.preloadable == 'undefined';\n    this._cache = null;\n    this._resource = null;\n  }\n\n  return inherit(AbstractRemoteResourceScope, AbstractScope, {\n\n    preload: function() {\n      return this._preloadable\n        ? this._getResource()\n        : true;\n    },\n\n    _resolveUrl: function(url) {\n      return this._urlResolver(url);\n    },\n\n    _getResource: function() {\n      var\n        promise,\n        self = this;\n\n      if (this._cache) {\n        return this._cache;\n      }\n      promise = this._cache = this._loadResource();\n      promise.then(null,\n        function(resource) {\n          self._resource = resource;\n        },\n        function() {\n          self._cache = null;\n        }\n      );\n\n      return promise;\n    },\n\n    _loadResource: function() {\n      var\n        Promise = di('Promise');\n      return Promise.reject();\n    }\n\n  });\n\n  function parseUrlResolver(urlConfig) {\n    var\n      mergeObjects = di('mergeObjects'),\n      url,\n      urlFn,\n      params = null;\n\n    if (url && typeof url == 'object') {\n      url = urlConfig.url;\n      params = urlConfig.params;\n    }\n    else {\n      url = urlConfig;\n    }\n\n    urlFn = (typeof url == 'function')\n      ? url\n      : function() { return url; };\n\n    return function(/* value[, value[, ...]]] */) {\n      var\n        urlConfig,\n        _params = null,\n        url\n        ;\n\n      urlConfig = urlFn.apply(null, Array.prototype.slice.call(arguments));\n      url = urlConfig;\n      if (urlConfig && typeof urlConfig == 'object') {\n        url = urlConfig.url;\n        _params = urlConfig.params;\n      }\n\n      url = String(url || '');\n      if (url.slice(0, 2) === '//') {\n        url = window.document.location.protocol + url;\n      }\n\n      return {\n        url: url,\n        params: mergeObjects({}, params || {}, _params || {})\n      }\n    };\n  }\n\n});\n'use strict';\n\ndi('AbstractRemoteSvgResourceScope', function(di) {\n  var\n    AbstractRemoteResourceScope = di('AbstractRemoteResourceScope'),\n    inherit = di('inherit'),\n    parseSvgOptions = di('parseSvgOptions')\n  ;\n\n  function AbstractRemoteSvgResourceScope(id, urlConfig, options) {\n    var\n      svgOptions = parseSvgOptions(options),\n      self = this;\n\n    AbstractRemoteResourceScope.call(this, id, urlConfig, options);\n\n    Object.keys(svgOptions)\n      .forEach(function(name) {\n        self.options[name] = svgOptions[name];\n      });\n  }\n\n  return inherit(AbstractRemoteSvgResourceScope, AbstractRemoteResourceScope);\n\n});\n'use strict';\n\ndi('AbstractScope', function() {\n\n  function AbstractScope(id, options) {\n    options = options && typeof options == 'object'\n      ? options\n      : {};\n\n    this.id = id;\n    this.options = options;\n\n    this._iconIdParser = parseIconIdResolver(options.iconIdParser);\n    this._iconIdResolver = parseIconIdResolver(options.iconIdResolver);\n  }\n\n  AbstractScope.prototype = {\n\n    preload: function() {\n      return true;\n    },\n\n    hasIcon: function() {\n      return true;\n    },\n\n    _parseIconId: function(iconId, params) {\n      return this._iconIdParser(iconId, params);\n    },\n\n    _resolveIconId: function(iconId) {\n      return this._iconIdResolver(iconId);\n    }\n\n  };\n\n  return AbstractScope;\n\n  function parseIconIdResolver(value) {\n    return typeof value == 'function'\n      ? value\n      : function(value) {\n        return value;\n      };\n  }\n\n});\n'use strict';\n\ndi('FontIconSetScope', function(di) {\n  var\n    AbstractCssClassIconSetScope = di('AbstractCssClassIconSetScope'),\n    inherit = di('inherit')\n    ;\n\n  function FontIconSetScope(id, cssClassResolver, options) {\n    AbstractCssClassIconSetScope.call(this, id, cssClassResolver, options);\n  }\n\n  return inherit(FontIconSetScope, AbstractCssClassIconSetScope, {\n\n    getIcon: function(iconId, params) {\n      var\n        FontIcon = di('FontIcon');\n      return new FontIcon(this._resolveCssClass(this._parseIconId(iconId, params), params));\n    }\n\n  });\n\n});\n'use strict';\n\ndi('ImageIconScope', function(di) {\n  var\n    AbstractRemoteResourceScope = di('AbstractRemoteResourceScope'),\n    inherit = di('inherit')\n    ;\n\n  function ImageIconScope(id, urlConfig, options) {\n    AbstractRemoteResourceScope.call(this, id, urlConfig, options);\n  }\n\n  return inherit(ImageIconScope, AbstractRemoteResourceScope, {\n\n    _loadResource: function() {\n      var\n        ImageIcon = di('ImageIcon');\n      return ImageIcon.loadByUrl(this._resolveUrl());\n    },\n\n    hasIcon: function(iconId, params) {\n      return this._parseIconId(iconId, params) == this._resolveIconId(this.id);\n    },\n\n    getIcon: function() {\n      return this._getResource();\n    }\n\n  });\n\n});\n'use strict';\n\ndi('SpriteIconSetScope', function(di) {\n  var\n    AbstractCssClassIconSetScope = di('AbstractCssClassIconSetScope'),\n    inherit = di('inherit')\n    ;\n\n  function SpriteIconSetScope(id, classResolver, options) {\n    AbstractCssClassIconSetScope.call(this, id, classResolver, options);\n  }\n\n  return inherit(SpriteIconSetScope, AbstractCssClassIconSetScope, {\n\n    getIcon: function(iconId, params) {\n      var\n        SpriteIcon = di('SpriteIcon');\n      return new SpriteIcon(this._resolveCssClass(this._parseIconId(iconId, params), params));\n    }\n\n  });\n\n});\n'use strict';\n\ndi('SvgCumulativeIconSetScope', function(di) {\n  var\n    AbstractRemoteSvgResourceScope = di('AbstractRemoteSvgResourceScope'),\n    inherit = di('inherit')\n    ;\n\n  function SvgCumulativeIconSetScope(id, urlConfig, options) {\n    var\n      DEFAULT_WAIT_DURATION = 10;\n\n    AbstractRemoteSvgResourceScope.call(this, id, urlConfig, options);\n\n    this.waitDuration = this.options.waitDuration || DEFAULT_WAIT_DURATION;\n    this.waitPromise = null;\n    this.waitIconIds = [];\n  }\n\n  return inherit(SvgCumulativeIconSetScope, AbstractRemoteSvgResourceScope, {\n\n    _loadResource: function() {\n      var\n        SvgIconSet = di('SvgIconSet');\n      return SvgIconSet.loadByUrl(this._resolveUrl(this.waitIconIds), this.options);\n    },\n\n    preload: function() {\n      return true;\n    },\n\n    getIcon: function(iconId, params) {\n      var\n        Promise = di('Promise'),\n        timeout = di('timeout'),\n        self = this;\n\n      iconId = this._parseIconId(iconId, params);\n\n      if (this._resource && this._resource.exists(iconId)) {\n        return Promise.resolve(this._resource.getIconById(iconId));\n      }\n\n      if (this.waitPromise) {\n        if (this.waitIconIds.indexOf(iconId) == -1) {\n          this.waitIconIds.push(iconId);\n        }\n      }\n      else {\n        this.waitIconIds = [iconId];\n        this.waitPromise = timeout(this.waitDuration).then(function() {\n          self.waitPromise = null;\n          if (!self._resource) {\n            return self._getResource();\n          }\n          return self._resource.mergeByUrl(\n            self._resolveUrl(self._resource.notExists(self.waitIconIds)),\n            self.options\n          );\n        });\n      }\n\n      return this.waitPromise\n        .then(function(iconSet) {\n          var\n            icon = iconSet.getIconById(iconId);\n          return icon\n            ? icon\n            : Promise.reject();\n        });\n    }\n\n  });\n\n});\n'use strict';\n\ndi('SvgIconScope', function(di) {\n  var\n    AbstractRemoteSvgResourceScope = di('AbstractRemoteSvgResourceScope'),\n    inherit = di('inherit')\n    ;\n\n  function SvgIconScope(id, urlConfig, options) {\n    AbstractRemoteSvgResourceScope.call(this, id, urlConfig, options);\n  }\n\n  return inherit(SvgIconScope, AbstractRemoteSvgResourceScope, {\n\n    _loadResource: function() {\n      var\n        SvgIcon = di('SvgIcon');\n      return SvgIcon.loadByUrl(this._resolveUrl(), this.options);\n    },\n\n    hasIcon: function(iconId, params) {\n      return this._parseIconId(iconId, params) == this._resolveIconId(this.id);\n    },\n\n    getIcon: function() {\n      return this._getResource();\n    }\n\n  });\n\n});\n'use strict';\n\ndi('SvgIconSetScope', function(di) {\n  var\n    AbstractRemoteSvgResourceScope = di('AbstractRemoteSvgResourceScope'),\n    inherit = di('inherit')\n    ;\n\n  function SvgIconSetScope(id, urlConfig, options) {\n    AbstractRemoteSvgResourceScope.call(this, id, urlConfig, options);\n  }\n\n  return inherit(SvgIconSetScope, AbstractRemoteSvgResourceScope, {\n\n    _loadResource: function() {\n      var\n        SvgIconSet = di('SvgIconSet');\n      return SvgIconSet.loadByUrl(this._resolveUrl(), this.options);\n    },\n\n    hasIcon: function(iconId, params) {\n      iconId = this._parseIconId(iconId, params);\n\n      return this._getResource()\n        .then(function(iconSet) {\n          return iconSet.exists(iconId);\n        })\n    },\n\n    getIcon: function(iconId, params) {\n      var\n        Promise = di('Promise');\n\n      iconId = this._parseIconId(iconId, params);\n      return this._getResource()\n        .then(function(iconSet) {\n          var\n            icon = iconSet.getIconById(iconId);\n          return icon\n            ? icon\n            : Promise.reject();\n        })\n    }\n\n  });\n\n});\n'use strict';\n\ndi('ScopeCollection', function(di) {\n\n  function ScopeCollection() {\n    this.collection = [];\n  }\n\n  ScopeCollection.prototype = {\n\n    add: function(scope) {\n      var\n        SvgCumulativeIconSetScope = di('SvgCumulativeIconSetScope'),\n        FontIconSetScope = di('FontIconSetScope');\n\n      if (scope instanceof SvgCumulativeIconSetScope || scope instanceof FontIconSetScope) {\n        this.collection.push(scope);\n      }\n      else {\n        this.collection.unshift(scope);\n      }\n    },\n\n    preload: function() {\n      var\n        Promise = di('Promise');\n\n      return Promise.all(\n        this.collection.map(function(item) {\n          return Promise.resolve(item.preload())\n            .then(null, function() {\n              return false;\n            })\n        })\n      )\n        .then(function() {\n          return true;\n        }, function() {\n          return false;\n        });\n    },\n\n    getIconScope: function(iconId, params) {\n      var\n        Promise = di('Promise'),\n        SvgCumulativeIconSetScope = di('SvgCumulativeIconSetScope'),\n        collection = this.collection,\n        promise\n        ;\n\n      promise = Promise.all(\n        collection.map(function(scope) {\n          return Promise.resolve(scope.hasIcon(iconId, params))\n            .then(function(value) {\n              return value\n                ? scope\n                : false;\n            }, function() {\n              return false;\n            })\n        })\n      );\n\n      return promise.then(function(scopes) {\n        var\n          index;\n        for (index = 0; index < scopes.length; index++) {\n          if (scopes[index]) {\n            return scopes[index];\n          }\n        }\n        return Promise.reject();\n      });\n    },\n\n    getIcon: function(iconId, params) {\n      return this.getIconScope(iconId, params)\n        .then(function(scope) {\n          return scope.getIcon(iconId, params);\n        });\n    }\n\n  };\n\n  return ScopeCollection;\n\n});\n'use strict';\n\ndi('SvgIconSet', function(di) {\n\n  function SvgIconSet(element, options) {\n    var\n      log = di('log'),\n      parseSvgOptions = di('parseSvgOptions'),\n      SvgIcon = di('SvgIcon'),\n      nodeWrapper = di('nodeWrapper'),\n      index,\n      nodes,\n      node,\n      iconSize,\n      viewBox,\n      iconIdResolver,\n      svgOptions\n      ;\n\n    iconIdResolver = typeof options.iconIdResolver == 'function'\n      ? options.iconIdResolver\n      : function(value) {\n        return value;\n      };\n    svgOptions = parseSvgOptions(options);\n\n    this.icons = {};\n\n    viewBox = svgOptions.viewBox || element[0].getAttribute('viewBox');\n    iconSize = svgOptions.iconSize;\n\n    try {\n      nodes = element[0].querySelectorAll('[id]');\n      for(index = 0; index < nodes.length; index++) {\n        node = nodes[index];\n        this.icons[iconIdResolver(node.getAttribute('id'))] = new SvgIcon(nodeWrapper(node), {\n          iconSize: iconSize,\n          viewBox: viewBox\n        });\n      }\n    }\n    catch(e) {\n      log.warn(e);\n    }\n    this.iconSize = iconSize;\n    this.viewBox = viewBox;\n    this.iconIdResolver = iconIdResolver;\n  }\n\n  SvgIconSet.loadByUrl = function(url, options) {\n    var\n      loadSvgByUrl = di('loadSvgByUrl');\n\n    return loadSvgByUrl(url)\n      .then(function(element) {\n        return new SvgIconSet(\n          element,\n          options\n        )\n      });\n  };\n\n  SvgIconSet.prototype = {\n\n    notExists: function(ids) {\n      var\n        icons = this.icons;\n      return ids.filter(function(id) {\n        return !icons.hasOwnProperty(id);\n      });\n    },\n\n    exists: function(id) {\n      return this.icons.hasOwnProperty(id);\n    },\n\n    getIconById: function(id) {\n      return this.icons.hasOwnProperty(id)\n        ? this.icons[id]\n        : null;\n    },\n\n    merge: function(iconSet) {\n      var\n        self = this,\n        icons = iconSet.icons;\n\n      Object.keys(icons)\n        .forEach(function(id) {\n          self.icons[id] = icons[id];\n        });\n\n      return this;\n    },\n\n    mergeByUrl: function(url, options) {\n      var\n        self = this;\n\n      return SvgIconSet.loadByUrl(url, options)\n        .then(function(iconSet) {\n          return self.merge(iconSet);\n        })\n    }\n\n  };\n\n  return SvgIconSet;\n\n});\n\n\n'use strict';\n\nfunction di(name, provider) {\n  var\n    error,\n    baseProvider,\n    providers,\n    instances;\n\n  providers = di.providers = di.providers || {};\n  instances = di.instaces = di.instaces || {};\n\n  if (provider) {\n    if (instances.hasOwnProperty(name)) {\n      error = new Error('Cannot override instantiated service \"' + name + '\"');\n      console.error(error);\n      throw error;\n    }\n    if (!(provider instanceof Function)) {\n      error = new Error('Incorrect provider function \"' + name + '\"');\n      console.error(error);\n      throw error;\n    }\n\n    if (providers.hasOwnProperty(name)) {\n      baseProvider = providers[name];\n      providers[name] = function(di) {\n        return new provider(di, new baseProvider(di));\n      };\n    }\n    else {\n      providers[name] = provider;\n    }\n  }\n  else {\n    if (!providers[name]) {\n      error = new Error('Cannot found service provider \"' + name + '\"');\n      console.error(error);\n      throw error;\n    }\n    if (!instances.hasOwnProperty(name)) {\n      try {\n        instances[name] = new providers[name](di);\n      }\n      catch(error) {\n        console.error(error);\n        throw error;\n      }\n    }\n    return instances[name];\n  }\n}\n\n\n'use strict';\n\ndi('iconManager', function(di) {\n\n  var\n    CHECK_URL_REGEX = /[-a-zA-Z0-9@:%_\\+.~#?&//=]{2,256}\\.[a-z]{2,4}\\b(\\/[-a-zA-Z0-9@:%_\\+.~#?&//=]*)?/i,\n    DEFAULT_SVG_ICON_SIZE = 24,\n    SINGLE_ICONS_COLLECTION_ID = '__SINGLE_ICONS_COLLECTION';\n\n  function IconManager() {\n    this._collections = {};\n    this._defaultCollectionId = null;\n    this._defaultSvgIconSize = DEFAULT_SVG_ICON_SIZE;\n  }\n\n  IconManager.prototype = {\n\n    addIcon: function(id, urlConfig, options) {\n      var\n        url = urlConfig,\n        ext;\n\n      if (typeof urlConfig == 'object') {\n        url = urlConfig.url;\n      }\n      ext = typeof url == 'function'\n        ? getExt(url())\n        : getExt(url + '');\n\n      return ext == 'svg' || !ext\n        ? this.addSvgIcon(id, urlConfig, options)\n        : this.addImageIcon(id, urlConfig)\n      ;\n\n      function getExt(url) {\n        return url\n            .split('?')[0]\n            .split(/[/\\\\]/)\n            .slice(-1)[0]\n            .split('.')\n            .slice(-1)[0]\n            .toLowerCase();\n      }\n    },\n\n    addSvgIcon: function(id, urlConfig, options) {\n      var\n        SvgIconScope = di('SvgIconScope');\n      this._getSingleIconsCollection().add(new SvgIconScope(id, urlConfig, options));\n      return this;\n    },\n\n    addImageIcon: function(id, urlConfig, options) {\n      var\n        ImageIconScope = di('ImageIconScope');\n      this._getSingleIconsCollection().add(new ImageIconScope(id, urlConfig, options));\n      return this;\n    },\n\n    addSvgIconSet: function(id, urlConfig, options) {\n      var\n        SvgCumulativeIconSetScope = di('SvgCumulativeIconSetScope'),\n        SvgIconSetScope = di('SvgIconSetScope'),\n        ScopeConstructor;\n\n      options = options || {};\n\n      ScopeConstructor = options.cumulative\n        ? SvgCumulativeIconSetScope\n        : SvgIconSetScope;\n\n      this._getCollection(id).add(new ScopeConstructor(id, urlConfig, options));\n\n      return this;\n    },\n\n    addFontIconSet: function(id, cssClassConfig, options) {\n      var\n        FontIconSetScope = di('FontIconSetScope');\n      this._getCollection(id).add(new FontIconSetScope(id, cssClassConfig, options));\n      return this;\n    },\n\n    addSpriteIconSet: function(id, cssClassConfig, options) {\n      var\n        SpriteIconSetScope = di('SpriteIconSetScope');\n      this._getCollection(id).add(new SpriteIconSetScope(id, cssClassConfig, options));\n      return this;\n    },\n\n    addIconSetAlias: function(id, alias) {\n      if (!this._collections.hasOwnProperty(alias)) {\n        this._collections[alias] = this._getCollection(id);\n      }\n      return this;\n    },\n\n    setDefaultIconSet: function(id) {\n      this._defaultCollectionId = id;\n      return this;\n    },\n\n    setDefaultSvgIconSize: function(iconSize) {\n      this._defaultSvgIconSize = iconSize;\n      return this;\n    },\n\n    getDefaultSvgIconSize: function() {\n      return this._defaultSvgIconSize;\n    },\n\n    preload: function() {\n      var\n        collections = this._collections;\n\n      Object.keys(collections).forEach(function(id) {\n        collections[id].preload();\n      });\n\n    },\n\n    getIcon: function(id, params) {\n      var\n        parts,\n        delimiterPosition,\n        iconId,\n        iconSetId;\n\n      id = id || '';\n      params = params || [];\n      parts = id\n        .split(/\\s+/)\n        .filter(function(value) {\n          return value;\n        });\n      id = parts[0];\n      Array.prototype.push.apply(params, parts.slice(1));\n\n      if (CHECK_URL_REGEX.test(id)) {\n        if (!this.hasSingleIcon(id)) {\n          this.addIcon(id, id);\n        }\n        return this._getSingleIconsCollection().getIcon(id, params)\n          .then(null, announceIconNotFoundForPromiseCatch(id));\n      }\n      iconId = id;\n      iconSetId = null;\n      delimiterPosition = id.indexOf(':');\n      if (delimiterPosition != -1) {\n        iconSetId = id.slice(0, delimiterPosition);\n        iconId = id.slice(delimiterPosition+1);\n      }\n\n      if (iconSetId) {\n        if (this.hasIconSet(iconSetId)) {\n          return this._getCollection(iconSetId).getIcon(iconId, params)\n            .then(null, announceIconNotFoundForPromiseCatch(iconId, iconSetId));\n        }\n      }\n      else {\n        if (this.hasSingleIcon(iconId, params)) {\n          return this._getSingleIconsCollection().getIcon(iconId, params)\n            .then(null, announceIconNotFoundForPromiseCatch(iconId));\n        }\n        if (this.hasDefaultIconSet()) {\n          return this._getCollection(this._defaultCollectionId).getIcon(iconId, params)\n            .then(null, announceIconNotFoundForPromiseCatch(iconId, this._defaultCollectionId));\n        }\n      }\n\n      return announceIconNotFound(id);\n    },\n\n    hasSingleIcon: function(id, params) {\n      return this._getSingleIconsCollection()\n        .collection\n        .filter(function(scope) {\n          return scope.hasIcon(id, params);\n        })\n        .length > 0;\n    },\n\n    hasIconSet: function(id) {\n      return this._collections.hasOwnProperty(id);\n    },\n\n    hasDefaultIconSet: function() {\n      return this._defaultCollectionId && this.hasIconSet(this._defaultCollectionId);\n    },\n\n    _getCollection: function(id) {\n      var\n        ScopeCollection = di('ScopeCollection');\n      if (!this._collections.hasOwnProperty(id)) {\n        this._collections[id] = new ScopeCollection();\n      }\n      return this._collections[id];\n    },\n\n    _getSingleIconsCollection: function() {\n      return this._getCollection(SINGLE_ICONS_COLLECTION_ID);\n    }\n\n  };\n\n\n  function announceIconNotFound(iconId, iconSetId) {\n    var\n      log = di('log'),\n      Promise = di('Promise'),\n      errorMessage = 'icon \"' + iconId + '\" not found';\n\n    if (iconSetId) {\n      errorMessage += ' in \"' + iconSetId + '\" icon set';\n    }\n    log.warn(errorMessage);\n    return Promise.reject(errorMessage);\n  }\n\n  function announceIconNotFoundForPromiseCatch(iconId, iconSetId) {\n    return function() {\n      return announceIconNotFound(iconId, iconSetId);\n    }\n  }\n\n\n\n  return new IconManager;\n\n\n});\n\n\n'use strict';\n\ndi('inherit', function() {\n\n  return function inherit(Constructor, Parent, methods, properties) {\n    Constructor.prototype = Object.create(Parent.prototype, properties || {});\n    Object.keys(methods || {})\n      .forEach(function(name) {\n        Constructor.prototype[name] = methods[name];\n      });\n\n    return Constructor;\n  };\n\n});\n'use strict';\n\ndi('initIconElement', function() {\n\n  return function initIconElement(element, alt, icon) {\n    var\n      ICON_CLASS = 'i8-icon',\n      pieces\n      ;\n\n    if (!alt && typeof alt != 'string') {\n      icon = String(icon || '')\n        .split(':')\n        .slice(-1)[0]\n        .trim();\n\n      if (/[/\\\\.]/.test(icon)) {\n        pieces = icon\n          .split(/[/\\\\]/)\n          .slice(-1)[0]\n          .split('.');\n\n        if (pieces.length > 1) {\n          pieces = pieces\n            .slice(0, -1);\n        }\n        alt = pieces\n          .join('.');\n      }\n      else {\n        alt = icon\n          .split(/\\s/)\n          [0];\n      }\n\n    }\n\n    expectAlt(element, alt || '');\n    if (!element.hasClass(ICON_CLASS)) {\n      element.addClass(ICON_CLASS);\n    }\n  };\n\n  function expectAlt(element, alt) {\n\n    if (alt != '' && !parentsHaveText()) {\n      expectAria('aria-label', alt);\n      expectAria('role', 'img');\n    }\n    else {\n      expectAria('aria-hidden', 'true');\n    }\n\n    function expectAria(attrName, defaultValue) {\n      var\n        node = element[0];\n\n      if (!node.hasAttribute(attrName) && !childHasAttribute(node, attrName)) {\n        defaultValue = (typeof defaultValue == 'string') ? defaultValue.trim() : '';\n        if (defaultValue.length) {\n          element.attr(attrName, defaultValue);\n        }\n      }\n\n      function childHasAttribute(node, attrName) {\n        var\n          hasChildren = node.hasChildNodes(),\n          children,\n          index,\n          child;\n\n        if (hasChildren) {\n          children = node.childNodes;\n          for(index = 0; index < children.length; index++){\n            child = children[index];\n            if(child.nodeType === 1 && child.hasAttribute(attrName) && !isHidden(child)) {\n              return true;\n            }\n          }\n        }\n        return false;\n\n        function isHidden(node) {\n          var\n            style = node.currentStyle\n              ? node.currentStyle\n              : window.getComputedStyle(node);\n          return style.display === 'none';\n        }\n      }\n    }\n\n    function parentsHaveText() {\n      var\n        parent = element.parent();\n\n      if (parent.attr('aria-label') || parent.text().trim()) {\n        return true;\n      }\n      if (parent.prop('tagName') != 'BODY') {\n        if (parent.parent().attr('aria-label') || parent.parent().text().trim()) {\n          return true;\n        }\n      }\n      return false;\n    }\n\n  }\n\n});\n'use strict';\n\ndi('loadSvgByUrl', function(di) {\n\n  return function loadSvgByUrl(urlConfig) {\n    var\n      httpGet = di('httpGet'),\n      log = di('log'),\n      Promise = di('Promise'),\n      el = di('nodeWrapper'),\n      url = urlConfig,\n      params = null\n      ;\n\n    if (typeof urlConfig == 'object') {\n      url = urlConfig.url;\n      params = urlConfig.params;\n    }\n\n    return httpGet(url, params)\n      .then(function(response) {\n        var\n          element = el('<div>').append(response.data),\n          svgElement = element.find('svg');\n        return svgElement.length > 0\n          ? svgElement\n          : element.children().first()\n          ;\n      }, function(response) {\n        var\n          message = typeof response == 'string'\n            ? response\n            : String(response.message || response.data || response.responseText || response.statusText);\n\n        log.warn(message);\n        return Promise.reject(message);\n      });\n  }\n\n});\n\n'use strict';\n\ndi('parseSvgOptions', function() {\n\n  return function parseSvgOptions(options) {\n    if (options) {\n      switch(typeof options) {\n        case 'number':\n          options = {\n            iconSize: options\n          };\n          break;\n        case 'string':\n          options = {\n            viewBox: options\n          };\n          break;\n      }\n    }\n    else {\n      options = {};\n    }\n\n    return {\n      iconSize: options.iconSize,\n      viewBox: options.viewBox\n    }\n  }\n\n});\n'use strict';\n\ndi('publicApi', function(di) {\n  var \n    iconManager = di('iconManager'),\n    api;\n\n  api = {\n    icon: function(id, urlConfig, options) {\n      iconManager.addIcon(id, urlConfig, options);\n      return this;\n    },\n\n    svgSet: function(id, urlConfig, options) {\n      iconManager.addSvgIconSet(id, urlConfig, options);\n      return this;\n    },\n\n    font: function(id, cssClassConfig, options) {\n      iconManager.addFontIconSet(id, cssClassConfig, options);\n      return this;\n    },\n\n    sprite: function(id, cssClassConfig, options) {\n      iconManager.addSpriteIconSet(id, cssClassConfig, options);\n      return this;\n    },\n\n    sourceAlias: function(id, alias) {\n      iconManager.addIconSetAlias(id, alias);\n      return this;\n    },\n\n    defaultSvgSetUrl: function(url, options) {\n      iconManager\n        .addSvgIconSet(url, url, options)\n        .setDefaultIconSet(url);\n      return this;\n    },\n\n    defaultSource: function(id) {\n      iconManager.setDefaultIconSet(id);\n      return this;\n    },\n\n    defaultSvgIconSize: function(iconSize) {\n      iconManager.setDefaultSvgIconSize(iconSize);\n      return this;\n    },\n\n    preload: function() {\n      iconManager.preload();\n      return this;\n    }\n\n  };\n\n  api.iconSet = api.svgSet;\n  api.defaultIconSetUrl = api.defaultSvgSetUrl;\n  api.defaultSvgIconSetUrl = api.defaultSvgSetUrl;\n  api.alias = api.sourceAlias;\n  api.default = api.defaultSource;\n\n  return api;\n\n});\n'use strict';\n\nfunction ready(fn) {\n  var\n    functions;\n\n  functions = ready.functions = ready.functions || [];\n\n  if (fn) {\n    functions.push(fn);\n  }\n  else {\n    functions.forEach(function(fn) {\n      fn(di);\n    });\n  }\n}\n\n'use strict';\n\nready(function(di) {\n  var\n    nodeWrapper = di('nodeWrapper');\n\n  nodeWrapper(window.document).find('head').prepend(\n    '<style type=\"text/css\">@charset \"UTF-8\";i8-icon,i8icon,[i8-icon],[i8icon],[data-i8-icon],[data-i8icon],.i8icon,.i8-icon{display:inline-block}.i8-svg-icon svg{fill:currentColor}</style>'\n  );\n\n});\n'use strict';\n\nready(function(di) {\n  var\n    iconManager = di('iconManager');\n\n  iconManager\n    .addFontIconSet(\n      'fa',\n      function(name, params) {\n        var\n          classBuilder = [\n            'fa',\n            'fa-' + name\n          ];\n        params = params || [];\n        Array.prototype.push.apply(\n          classBuilder,\n          params.map(function(param) {\n            return 'fa-'+param\n          })\n        );\n        return classBuilder.join(' ')\n      }\n    );\n\n});\n\n'use strict';\n\nready(function(di) {\n  var\n    iconManager = di('iconManager');\n\n  iconManager\n    .addIconSetAlias('glyphicon', 'gi')\n    .addFontIconSet('glyphicon', 'glyphicon glyphicon-?');\n\n});\n'use strict';\n\ndi('i8ApiConfig', function() {\n  return {\n    gateway: {\n      url: '//api.icons8.com/api/iconsets/svg-symbol'\n    }\n  };\n});\n\n'use strict';\n\nready(function(di) {\n  var\n    iconManager = di('iconManager'),\n    config = di('i8ApiConfig'),\n    platforms = {\n      ios8: ['ios', 'ios7', 'i'],\n      win8: ['win', 'w'],\n      android: ['kitkat', 'ak', 'a-k', 'k'],\n      androidL: ['android-l', 'al', 'a-l', 'l'],\n      flat_color: ['color', 'c', 'colored']\n    },\n    platformsMap;\n\n  platformsMap = {};\n  Object.keys(platforms).forEach(function(platform) {\n    platformsMap[platform.toLowerCase()] = platform;\n    platforms[platform].forEach(function(alias) {\n      platformsMap[alias] = platform;\n    });\n  });\n\n  iconManager\n    .setDefaultIconSet('i8')\n    .addSvgIconSet(\n      'i8',\n      function(icons) {\n        var\n          options = {\n            url: config.gateway.url,\n            params: {}\n          };\n\n        if (icons) {\n          if (!Array.isArray(icons)) {\n            icons = [icons];\n          }\n          options.params.icons = icons.join(',');\n        }\n        return options;\n      },\n      {\n        cumulative: true,\n        iconIdParser: function(id, params) {\n          var\n            index;\n          id = String(id || '');\n          if (!Array.isArray(params)) {\n            params = [];\n          }\n          params = params.map(function(param) {\n            return String(param).toLowerCase();\n          });\n          for (index = 0; index < params.length; index++) {\n            if (platformsMap.hasOwnProperty(params[index])) {\n              return [platformsMap[params[index]], id].join('-');\n            }\n          }\n\n          return [platformsMap['c'], id].join('-');\n        }\n      }\n    );\n\n});\n\n\n'use strict';\n\ndi('materialDesignIconsConfig', function() {\n  return {\n    version: '1.0.1',\n    categories: [\n      'action',\n      'alert',\n      'av',\n      'communication',\n      'content',\n      'device',\n      'editor',\n      'file',\n      'hardware',\n      'image',\n      'maps',\n      'navigation',\n      'notification',\n      'social',\n      'toggle'\n    ]\n  };\n});\n\n'use strict';\n\nready(function(di) {\n  var\n    iconManager = di('iconManager'),\n    config = di('materialDesignIconsConfig'),\n    iconIdFilter,\n    options;\n\n  iconIdFilter = function(id) {\n    return String(id || '')\n      .replace(/_/g, '-')\n      .replace(/^ic-/, '')\n      .replace(/-\\d+px$/, '');\n  };\n\n  options = {\n    iconIdResolver: iconIdFilter,\n    iconIdParser: iconIdFilter,\n    preloadable: false\n  };\n\n  config.categories\n    .forEach(function(category) {\n      iconManager.addSvgIconSet(\n        'md-' + category,\n        '//cdn.rawgit.com/google/material-design-icons/' + config.version + '/sprites/svg-sprite/svg-sprite-' + category + '.svg',\n        options\n      )\n    });\n\n});\n'use strict';\n\ndi('Promise', function() {\n\n  if (window.Promise) {\n    return window.Promise;\n  }\n\n  function Promise(param) {\n    var\n      deferred;\n\n    if (typeof param == 'function') {\n      deferred = new jQuery.Deferred();\n      param(deferred.resolve, deferred.reject);\n      this._jqPromise = deferred;\n    }\n    else if (param && typeof param == 'object' && param.then){\n      this._jqPromise = param._jqPromise\n        ? param._jqPromise\n        : param;\n    }\n    else {\n      this._jqPromise = new jQuery.Deferred().resolve(param);\n    }\n  }\n\n  Promise.reject = function(value) {\n    return new Promise(\n      new jQuery.Deferred().reject(value)\n    );\n  };\n\n  Promise.resolve = function(value) {\n    return new Promise(\n      new jQuery.Deferred().resolve(value)\n    );\n  };\n\n  Promise.all = function(promises) {\n    var\n      jqPromises,\n      result = [];\n\n    if (!Array.isArray(promises)) {\n      return Promise.reject();\n    }\n\n    jqPromises = promises.map(function(value) {\n      if (value && typeof value == 'object' && value._jqPromise) {\n        value = value._jqPromise;\n      }\n      return value;\n    });\n    jqPromises.forEach(function(promise, index) {\n      promise.then(function(value) {\n        result[index] = value;\n      });\n    });\n\n    return new Promise(jQuery.when.apply(jQuery, jqPromises))\n      .then(function() {\n        return result;\n      })\n      ;\n  };\n\n  Promise.prototype = {\n\n    then: function(done, fail) {\n      var\n        jqPromise;\n\n      jqPromise = this._jqPromise.then(\n        done && function(value) {\n          var\n            result = done(value);\n          if (result && typeof result == 'object' && result._jqPromise) {\n            result = result._jqPromise;\n          }\n          return result;\n        },\n        fail && function(value) {\n          var\n            result = fail(value);\n          if (result && typeof result == 'object' && result.then) {\n            return result._jqPromise\n              ? result._jqPromise\n              : result;\n          }\n          if (typeof result != 'undefined') {\n            return new jQuery.Deferred().reject(result);\n          }\n        }\n      );\n\n      return new Promise(jqPromise);\n    }\n\n  };\n\n  return Promise;\n\n});\n\n'use strict';\n\ndi('buildUrlParams', function(di) {\n\n  return function buildUrlParams(params) {\n    return jQuery.param(params || {});\n  }\n\n});\n'use strict';\n\ndi('httpGet', function(di) {\n\n  var cache = {};\n\n  return function httpGet(url, params) {\n    var\n      Promise = di('Promise'),\n      buildUrlParams = di('buildUrlParams'),\n      urlBuilder = [url],\n      compiledUrl,\n      query,\n      promise\n      ;\n\n    params = params || {};\n    query = buildUrlParams(params);\n    if (query) {\n      urlBuilder.push(query);\n    }\n    compiledUrl = urlBuilder.join('?');\n\n    if (cache.hasOwnProperty(compiledUrl)) {\n      return cache[compiledUrl];\n    }\n\n    cache[compiledUrl] = promise = new Promise(function(resolve, reject) {\n      jQuery.ajax({\n        url: url,\n        data: params,\n        dataType: 'text',\n        success: function(data) {\n          resolve({\n            data: data\n          });\n        },\n        error: reject\n      })\n      ;\n    });\n\n    return promise;\n  }\n\n});\n\n'use strict';\n\ndi('log', function() {\n  var\n    noop = function() {},\n    log = {},\n    logDebug = getConsoleWriteDelegate('debug');\n\n  ['log', 'info', 'warn', 'error'].forEach(function(type) {\n    log[type] = getConsoleWriteDelegate(type);\n  });\n\n  log.debug = function() {\n    if (!log.debugEnabled) {\n      return noop;\n    }\n    return logDebug.apply(null, Array.prototype.slice.call(arguments));\n  };\n\n  return log;\n\n  function getConsoleWriteDelegate(type) {\n    return function() {\n      var\n        console = window.console;\n\n      if (console) {\n        console[type].apply(console, Array.prototype.slice.call(arguments));\n      }\n    }\n  }\n\n\n\n});\n\n\n'use strict';\n\ndi('mergeObjects', function() {\n\n  return function mergeObjects(/* to, from [, from[, ...]]*/) {\n    var\n      args = Array.prototype.slice.call(arguments);\n\n    switch(args.length) {\n      case 0: args.push({});\n      case 1: args.push({});\n    }\n\n    return jQuery.extend.apply(jQuery, [true].concat(args));\n  }\n\n});\n\n\n'use strict';\n\ndi('nodeWrapper', function() {\n  return jQuery;\n});\n'use strict';\n\ndi('timeout', function(di) {\n\n  function timeout(fn, delay) {\n    var\n      Promise = di('Promise'),\n      promise,\n      resolve;\n\n    if (typeof fn != 'function') {\n      delay = fn;\n      fn = function() {};\n    }\n\n    promise = new Promise(function(resolveFn) {\n      resolve = resolveFn;\n    });\n    promise.then(fn);\n    promise._timeoutId = setTimeout(resolve, delay);\n\n    return promise;\n  }\n\n  timeout.cancel = function(timeoutPromise) {\n    if (timeoutPromise._timeoutId) {\n      clearTimeout(timeoutPromise._timeoutId);\n    }\n  };\n\n  return timeout;\n\n});\n\n\n'use strict';\n\nfunction IconPlugin(config) {\n  config = config || {};\n\n  if (typeof config == 'string') {\n    config = {\n      icon: config\n    };\n  }\n\n  IconPlugin._applyConfig(config);\n\n  if (!IconsPlugin.bootstraped) {\n    IconsPlugin.cancelBootstrap();\n  }\n\n  return this.each(function() {\n    var\n      I8_ICON_DATA_KEY = '__I8_ICON_DATA',\n      element = jQuery(this),\n      instance = element.data(I8_ICON_DATA_KEY),\n      options = {\n        icon: config.icon + ''\n      };\n\n    if (instance) {\n      instance.refresh(options);\n    }\n    else {\n      element.data(I8_ICON_DATA_KEY, new IconController(element, options));\n    }\n  });\n}\n\nIconPlugin._applyConfig = function(config) {\n  var\n    publicApi = di('publicApi'),\n    iconManager = di('iconManager'),\n    parsedConfig,\n    addConfig,\n    addConfigDecorator,\n    configStrategies,\n    iconSetsExistenceMap = {};\n\n  if (typeof config == 'function') {\n    config = config(publicApi);\n  }\n  config = config || {};\n\n  parsedConfig = {};\n  addConfig = function(entity, config) {\n    if (!parsedConfig[entity]) {\n      parsedConfig[entity] = {};\n    }\n    if (!parsedConfig[entity][config.id]) {\n      parsedConfig[entity][config.id] = [];\n    }\n    parsedConfig[entity][config.id].push(config);\n  };\n\n  addConfigDecorator = function(entity) {\n    return function(config) {\n      addConfig(entity, config);\n    }\n  };\n\n  parseConfigs(\n    config.icons,\n    config.icon,\n    parseUrlBasedConfig).forEach(addConfigDecorator('icon'));\n\n  parseConfigs(\n    config.svgSets,\n    config.svgSet,\n    config.iconSets,\n    config.iconSet,\n    parseUrlBasedConfig).forEach(addConfigDecorator('svgSet'));\n\n  parseConfigs(\n    config.fonts,\n    config.font,\n    parseCssClassNameBasedConfig).forEach(addConfigDecorator('font'));\n\n  parseConfigs(\n    config.sprites,\n    config.sprite,\n    parseCssClassNameBasedConfig).forEach(addConfigDecorator('sprite'));\n\n  ['svgSet', 'font', 'sprite'].forEach(function(entity) {\n    Object.keys(parsedConfig[entity] || {}).forEach(function(id) {\n      if (!iconSetsExistenceMap.hasOwnProperty(id)) {\n        iconSetsExistenceMap[id] = iconManager.hasIconSet(id);\n      }\n    });\n  });\n\n  configStrategies = {\n    icon: function(entity, config) {\n      if (!iconManager.hasSingleIcon(config.id)) {\n        publicApi.icon(config.id, config.url, config);\n      }\n    },\n    svgSet: function(entity, config) {\n      if (!iconSetsExistenceMap[config.id]) {\n        publicApi.svgSet(config.id, config.url, config);\n      }\n    }\n  };\n  configStrategies.font = configStrategies.sprite = function(entity, config) {\n    if (!iconSetsExistenceMap[config.id]) {\n      publicApi[entity](config.id, config.className, config);\n    }\n  };\n\n  Object.keys(parsedConfig).forEach(function(entity) {\n    Object.keys(parsedConfig[entity] || {}).forEach(function(id) {\n      parsedConfig[entity][id].forEach(function(config) {\n        configStrategies[entity](entity, config);\n      });\n    });\n  });\n\n  parseConfigs(\n    config.defaultSvgSetUrl,\n    config.defaultSvgIconSetUrl,\n    config.defaultIconSetUrl,\n    function(config) {\n      if (typeof config != 'object') {\n        config = {\n          url: config\n        }\n      }\n      config.url = config.url || config.uri;\n      return config.url\n        ? config\n        : null;\n    }\n  ).forEach(function(config) {\n      if (!iconManager.hasIconSet(config.url)) {\n        publicApi.defaultSvgSetUrl(config.url);\n      }\n    });\n\n  parseConfigs(\n    config.alias,\n    config.sourceAlias,\n    function(config, id) {\n      if (typeof config != 'object') {\n        config = {\n          alias: config,\n          id: id\n        }\n      }\n      config.alias = config.alias || config.sourceAlias;\n      return config.url\n        ? config\n        : null;\n    }\n  ).forEach(function(config) {\n      if (!iconManager.hasIconSet(config.id)) {\n        publicApi.sourceAlias(config.id, config.alias);\n      }\n    });\n\n  parseConfigs(\n    config.default,\n    config.defaultSource,\n    function(config) {\n      if (typeof config != 'object') {\n        config = {\n          id: config\n        }\n      }\n      return config.id\n        ? config\n        : null;\n    }\n  ).forEach(function(config) {\n      publicApi.defaultSource(config.id);\n    });\n\n  parseConfigs(\n    config.defaultSvgIconSize,\n    function(config) {\n      if (typeof config != 'object') {\n        config = {\n          size: config\n        }\n      }\n      config.size = config.size || config.iconSize || config.svgIconSize || config[\"icon-size\"] || config[\"svg-icon-size\"];\n      return config.size\n        ? config\n        : null;\n    }\n  ).forEach(function(config) {\n      if (!iconManager.hasIconSet(config.id)) {\n        publicApi.defaultSvgIconSize(config.id, config.url);\n      }\n    });\n\n  if (config.preload) {\n    publicApi.preload();\n  }\n\n\n  function parseConfigs(/*...configs, configParserFn*/) {\n    var\n      args = Array.prototype.slice.call(arguments),\n      configs,\n      configParserFn;\n\n    configParserFn = args.pop();\n    if (args.length > 1) {\n      return Array.prototype.concat.apply([],\n        args.map(function(configs) {\n          return parseConfigs(configs, configParserFn);\n        })\n      );\n    }\n    configs = args[0];\n\n    if (configs && typeof configs == 'object') {\n      if (Array.isArray(configs)) {\n        configs = Array.prototype.concat.apply([], configs.map(parseConfig));\n      }\n      else {\n        configs = Array.prototype.concat.apply([], Object.keys(configs)\n          .map(function(id) {\n            return parseConfig(configs[id], id);\n          })\n        );\n      }\n    }\n    else if (typeof configs == 'string' || typeof configs == 'number') {\n      configs = [\n        parseConfig(configs)\n      ];\n    }\n    else {\n      configs = [];\n    }\n    return configs.filter(function(config) {\n      return config;\n    });\n\n    function parseConfig(config, id) {\n      config = config || {};\n      if (Array.isArray(config)) {\n        return config.map(function(config) {\n          return parseConfig(config, id);\n        });\n      }\n      else if (typeof config == 'object') {\n        if (!config.id && config.id !== 0) {\n          config.id = id;\n        }\n      }\n      return configParserFn(config, id);\n    }\n  }\n\n  function parseUrlBasedConfig(config, id) {\n    if (typeof config != 'object') {\n      config = {\n        url: config,\n        id: id\n      }\n    }\n    config.url = config.url || config.uri;\n    return config.id && config.url\n      ? config\n      : null;\n  }\n\n  function parseCssClassNameBasedConfig(config, id) {\n    if (typeof config != 'object') {\n      config = {\n        className: config,\n        id: id\n      }\n    }\n    config.className = config.className || config.cssClass || config.class;\n    return config.id && config.className\n      ? config\n      : null;\n  }\n\n};\n\nfunction IconController(element, options) {\n  var\n    initIconElement = di('initIconElement');\n\n  options = options || {};\n  this._element = element;\n  this.options = options;\n\n  initIconElement(element, this._getAlt(), this._getIconId());\n  this._renderIcon();\n}\n\nIconController.prototype = {\n\n  _getAlt: function() {\n    var\n      element = this._element,\n      altAttr = element.attr('alt'),\n      altData = element.data('alt');\n\n    if (altAttr === '' || altData === '' || this.options.alt === '') {\n      return '';\n    }\n    return altAttr || altData || this.options.alt;\n  },\n\n  _getIconId: function() {\n    var\n      element = this._element,\n      index,\n      prefixes,\n      prefix,\n      id = null;\n\n    prefixes = ['', 'i8-', 'i8', 'i8:'];\n    for (index = 0; !id && index < prefixes.length; index++) {\n      prefix = prefixes[index];\n      id = element.attr(prefix + 'icon') || element.data(prefix + 'icon');\n    }\n\n    if (!id) {\n      id = element\n        .attr('class')\n        .split(/\\s+/)\n        .map(function(className) {\n          var\n            match,\n            parts;\n          match = /^i8[-:]?icon[-:]([^;|,]+)[;|,]?(.*)$/i.exec(className);\n          if (!match || !match[1]) {\n            return null;\n          }\n          parts = [match[1]];\n          if (match[2]) {\n            Array.prototype.push.apply(parts, match[2].split(/[;|,:]/));\n          }\n          return parts.join(' ');\n        })\n        .filter(function(iconId) {\n          return iconId;\n        })\n        [0];\n    }\n\n    return id || this.options.icon;\n  },\n\n  _renderIcon: function(iconId) {\n    var\n      iconManager = di('iconManager'),\n      element = this._element,\n      cleaner = this._renderedIconCleaner,\n      self = this;\n\n    iconId = iconId || this._getIconId();\n\n    if (iconId == this._renderedIconId) {\n      return;\n    }\n\n    cleaner && cleaner();\n    this._renderedIconCleaner = null;\n    if (iconId) {\n      iconManager.getIcon(iconId).then(function(icon) {\n        self._renderedIconCleaner = icon.render(element);\n      });\n    }\n\n    this._renderedIconId = iconId;\n  },\n\n  refresh: function(options) {\n    var\n      iconId;\n\n    iconId = this.options.icon;\n    this.options = options;\n    this.options.icon = this.options.icon || iconId;\n\n    this._renderIcon();\n  }\n\n};\n'use strict';\n\nfunction IconsPlugin(options) {\n  var\n    elements = this,\n    selector = 'i8-icon,i8icon,[i8-icon],[i8icon],[data-i8-icon],[data-i8icon],.i8icon,.i8-icon',\n    optionsApplied = false;\n\n  if (elements.is(selector)) {\n    elements.i8icon(options);\n    optionsApplied = true;\n  }\n  elements.find(selector).i8icon(\n    optionsApplied\n      ? null\n      : options\n  );\n\n  if (!IconsPlugin.bootstraped) {\n    if (!optionsApplied) {\n      IconPlugin._applyConfig(options);\n    }\n    IconsPlugin.setBootstrapped();\n  }\n\n  return elements;\n}\n\nIconsPlugin.bootstraped = false;\n\nIconsPlugin.cancelBootstrap = function() {\n  IconsPlugin.bootstraped = true;\n};\n\nIconsPlugin.isBootstrapped = function() {\n  return IconsPlugin.bootstraped;\n};\n\nIconsPlugin.setBootstrapped = function(value) {\n  IconsPlugin.bootstraped = typeof value == 'undefined'\n    ? true\n    : value;\n};\n\n'use strict';\n\nfunction bootstrap() {\n\n  jQuery(function() {\n    var\n      BOOTSTRAP_DELAY = 5,\n      timeout = di('timeout');\n\n    if (IconsPlugin.bootstraped) {\n      return;\n    }\n\n    timeout(BOOTSTRAP_DELAY).then(function() {\n      if (IconsPlugin.bootstraped) {\n        return;\n      }\n      jQuery(window.document).i8icons();\n    });\n\n  });\n\n}\n\n'use strict';\n\njQuery.fn.i8icon = IconPlugin;\njQuery.fn.i8icons = IconsPlugin;\n\nready();\nbootstrap();\n\n\n})(window, window.jQuery);"],"sourceRoot":"/source/"}